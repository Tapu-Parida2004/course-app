var gA=Object.defineProperty;var yA=(i,e,r)=>e in i?gA(i,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[e]=r;var xd=(i,e,r)=>yA(i,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function vA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function _A(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var r=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var o=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return i[a]}})}),r}var Pd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function EA(){if(zv)return dl;zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return dl.Fragment=e,dl.jsx=r,dl.jsxs=r,dl}var Bv;function TA(){return Bv||(Bv=1,Pd.exports=EA()),Pd.exports}var se=TA(),Ld={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function bA(){if(jv)return Oe;jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,q={};function P(V,Z,me){this.props=V,this.context=Z,this.refs=q,this.updater=me||R}P.prototype.isReactComponent={},P.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=P.prototype;function Y(V,Z,me){this.props=V,this.context=Z,this.refs=q,this.updater=me||R}var $=Y.prototype=new F;$.constructor=Y,I($,P.prototype),$.isPureReactComponent=!0;var oe=Array.isArray,ae={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function L(V,Z,me,fe,de,De){return me=De.ref,{$$typeof:i,type:V,key:Z,ref:me!==void 0?me:null,props:De}}function C(V,Z){return L(V.type,Z,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function M(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return Z[me]})}var N=/\/+/g;function x(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Z.toString(36)}function D(){}function ue(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function le(V,Z,me,fe,de){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Ce=!1;if(V===null)Ce=!0;else switch(De){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(V.$$typeof){case i:case e:Ce=!0;break;case E:return Ce=V._init,le(Ce(V._payload),Z,me,fe,de)}}if(Ce)return de=de(V),Ce=fe===""?"."+x(V,0):fe,oe(de)?(me="",Ce!=null&&(me=Ce.replace(N,"$&/")+"/"),le(de,Z,me,"",function(st){return st})):de!=null&&(w(de)&&(de=C(de,me+(de.key==null||V&&V.key===de.key?"":(""+de.key).replace(N,"$&/")+"/")+Ce)),Z.push(de)),1;Ce=0;var at=fe===""?".":fe+":";if(oe(V))for(var je=0;je<V.length;je++)fe=V[je],De=at+x(fe,je),Ce+=le(fe,Z,me,De,de);else if(je=b(V),typeof je=="function")for(V=je.call(V),je=0;!(fe=V.next()).done;)fe=fe.value,De=at+x(fe,je++),Ce+=le(fe,Z,me,De,de);else if(De==="object"){if(typeof V.then=="function")return le(ue(V),Z,me,fe,de);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function te(V,Z,me){if(V==null)return V;var fe=[],de=0;return le(V,fe,"","",function(De){return Z.call(me,De,de++)}),fe}function B(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var ne=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function _e(){}return Oe.Children={map:te,forEach:function(V,Z,me){te(V,function(){Z.apply(this,arguments)},me)},count:function(V){var Z=0;return te(V,function(){Z++}),Z},toArray:function(V){return te(V,function(Z){return Z})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Oe.Component=P,Oe.Fragment=r,Oe.Profiler=o,Oe.PureComponent=Y,Oe.StrictMode=a,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(V){return function(){return V.apply(null,arguments)}},Oe.cloneElement=function(V,Z,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=I({},V.props),de=V.key,De=void 0;if(Z!=null)for(Ce in Z.ref!==void 0&&(De=void 0),Z.key!==void 0&&(de=""+Z.key),Z)!he.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(fe[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=me;else if(1<Ce){for(var at=Array(Ce),je=0;je<Ce;je++)at[je]=arguments[je+2];fe.children=at}return L(V.type,de,void 0,void 0,De,fe)},Oe.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Oe.createElement=function(V,Z,me){var fe,de={},De=null;if(Z!=null)for(fe in Z.key!==void 0&&(De=""+Z.key),Z)he.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=Z[fe]);var Ce=arguments.length-2;if(Ce===1)de.children=me;else if(1<Ce){for(var at=Array(Ce),je=0;je<Ce;je++)at[je]=arguments[je+2];de.children=at}if(V&&V.defaultProps)for(fe in Ce=V.defaultProps,Ce)de[fe]===void 0&&(de[fe]=Ce[fe]);return L(V,De,void 0,void 0,null,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(V){return{$$typeof:d,render:V}},Oe.isValidElement=w,Oe.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:B}},Oe.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Oe.startTransition=function(V){var Z=ae.T,me={};ae.T=me;try{var fe=V(),de=ae.S;de!==null&&de(me,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(_e,ne)}catch(De){ne(De)}finally{ae.T=Z}},Oe.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Oe.use=function(V){return ae.H.use(V)},Oe.useActionState=function(V,Z,me){return ae.H.useActionState(V,Z,me)},Oe.useCallback=function(V,Z){return ae.H.useCallback(V,Z)},Oe.useContext=function(V){return ae.H.useContext(V)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(V,Z){return ae.H.useDeferredValue(V,Z)},Oe.useEffect=function(V,Z){return ae.H.useEffect(V,Z)},Oe.useId=function(){return ae.H.useId()},Oe.useImperativeHandle=function(V,Z,me){return ae.H.useImperativeHandle(V,Z,me)},Oe.useInsertionEffect=function(V,Z){return ae.H.useInsertionEffect(V,Z)},Oe.useLayoutEffect=function(V,Z){return ae.H.useLayoutEffect(V,Z)},Oe.useMemo=function(V,Z){return ae.H.useMemo(V,Z)},Oe.useOptimistic=function(V,Z){return ae.H.useOptimistic(V,Z)},Oe.useReducer=function(V,Z,me){return ae.H.useReducer(V,Z,me)},Oe.useRef=function(V){return ae.H.useRef(V)},Oe.useState=function(V){return ae.H.useState(V)},Oe.useSyncExternalStore=function(V,Z,me){return ae.H.useSyncExternalStore(V,Z,me)},Oe.useTransition=function(){return ae.H.useTransition()},Oe.version="19.0.0",Oe}var qv;function eo(){return qv||(qv=1,Ld.exports=bA()),Ld.exports}var Q=eo(),Ud={exports:{}},ml={},kd={exports:{}},zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function SA(){return Hv||(Hv=1,function(i){function e(te,B){var ne=te.length;te.push(B);e:for(;0<ne;){var _e=ne-1>>>1,V=te[_e];if(0<o(V,B))te[_e]=B,te[ne]=V,ne=_e;else break e}}function r(te){return te.length===0?null:te[0]}function a(te){if(te.length===0)return null;var B=te[0],ne=te.pop();if(ne!==B){te[0]=ne;e:for(var _e=0,V=te.length,Z=V>>>1;_e<Z;){var me=2*(_e+1)-1,fe=te[me],de=me+1,De=te[de];if(0>o(fe,ne))de<V&&0>o(De,fe)?(te[_e]=De,te[de]=ne,_e=de):(te[_e]=fe,te[me]=ne,_e=me);else if(de<V&&0>o(De,ne))te[_e]=De,te[de]=ne,_e=de;else break e}}return B}function o(te,B){var ne=te.sortIndex-B.sortIndex;return ne!==0?ne:te.id-B.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,b=3,R=!1,I=!1,q=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function $(te){for(var B=r(g);B!==null;){if(B.callback===null)a(g);else if(B.startTime<=te)a(g),B.sortIndex=B.expirationTime,e(p,B);else break;B=r(g)}}function oe(te){if(q=!1,$(te),!I)if(r(p)!==null)I=!0,ue();else{var B=r(g);B!==null&&le(oe,B.startTime-te)}}var ae=!1,he=-1,L=5,C=-1;function w(){return!(i.unstable_now()-C<L)}function M(){if(ae){var te=i.unstable_now();C=te;var B=!0;try{e:{I=!1,q&&(q=!1,F(he),he=-1),R=!0;var ne=b;try{t:{for($(te),T=r(p);T!==null&&!(T.expirationTime>te&&w());){var _e=T.callback;if(typeof _e=="function"){T.callback=null,b=T.priorityLevel;var V=_e(T.expirationTime<=te);if(te=i.unstable_now(),typeof V=="function"){T.callback=V,$(te),B=!0;break t}T===r(p)&&a(p),$(te)}else a(p);T=r(p)}if(T!==null)B=!0;else{var Z=r(g);Z!==null&&le(oe,Z.startTime-te),B=!1}}break e}finally{T=null,b=ne,R=!1}B=void 0}}finally{B?N():ae=!1}}}var N;if(typeof Y=="function")N=function(){Y(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,D=x.port2;x.port1.onmessage=M,N=function(){D.postMessage(null)}}else N=function(){P(M,0)};function ue(){ae||(ae=!0,N())}function le(te,B){he=P(function(){te(i.unstable_now())},B)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){I||R||(I=!0,ue())},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(te){switch(b){case 1:case 2:case 3:var B=3;break;default:B=b}var ne=b;b=B;try{return te()}finally{b=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,B){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ne=b;b=te;try{return B()}finally{b=ne}},i.unstable_scheduleCallback=function(te,B,ne){var _e=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?_e+ne:_e):ne=_e,te){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ne+V,te={id:E++,callback:B,priorityLevel:te,startTime:ne,expirationTime:V,sortIndex:-1},ne>_e?(te.sortIndex=ne,e(g,te),r(p)===null&&te===r(g)&&(q?(F(he),he=-1):q=!0,le(oe,ne-_e))):(te.sortIndex=V,e(p,te),I||R||(I=!0,ue())),te},i.unstable_shouldYield=w,i.unstable_wrapCallback=function(te){var B=b;return function(){var ne=b;b=B;try{return te.apply(this,arguments)}finally{b=ne}}}}(zd)),zd}var Fv;function AA(){return Fv||(Fv=1,kd.exports=SA()),kd.exports}var Bd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function wA(){if(Gv)return Gt;Gv=1;var i=eo();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Gt.flushSync=function(p){var g=h.T,E=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=E,a.d.f()}},Gt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Gt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Gt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):E==="script"&&a.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Gt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Gt.requestFormReset=function(p){a.d.r(p)},Gt.unstable_batchedUpdates=function(p,g){return p(g)},Gt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var Qv;function QE(){if(Qv)return Bd.exports;Qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bd.exports=wA(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function RA(){if(Kv)return ml;Kv=1;var i=AA(),e=eo(),r=QE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case q:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case b:return(t._context.displayName||"Context")+".Consumer";case I:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:C(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return C(t(n))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,N,x;function D(t){if(N===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||"",x=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+t+x}var ue=!1;function le(t,n){if(!t||ue)return"";ue=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var G=X}Reflect.construct(t,[],re)}else{try{re.call()}catch(X){G=X}t.call(re.prototype)}}else{try{throw Error()}catch(X){G=X}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var O=_.split(`
`),k=S.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<k.length&&!k[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===k.length)for(l=O.length-1,f=k.length-1;1<=l&&0<=f&&O[l]!==k[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==k[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==k[f]){var W=`
`+O[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{ue=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?D(s):""}function te(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=le(t.type,!1),t;case 11:return t=le(t.type.render,!1),t;case 1:return t=le(t.type,!0),t;default:return""}}function B(t){try{var n="";do n+=te(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ne(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function _e(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(ne(t)!==t)throw Error(a(188))}function Z(t){var n=t.alternate;if(!n){if(n=ne(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return V(f),t;if(m===l)return V(f),n;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=m;else{for(var _=!1,S=f.child;S;){if(S===s){_=!0,s=f,l=m;break}if(S===l){_=!0,l=f,s=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===s){_=!0,s=m,l=f;break}if(S===l){_=!0,l=m,s=f;break}S=S.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function me(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=me(t),n!==null)return n;t=t.sibling}return null}var fe=Array.isArray,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ce=[],at=-1;function je(t){return{current:t}}function st(t){0>at||(t.current=Ce[at],Ce[at]=null,at--)}function Ke(t,n){at++,Ce[at]=t.current,t.current=n}var Yt=je(null),_r=je(null),_n=je(null),ei=je(null);function ti(t,n){switch(Ke(_n,n),Ke(_r,t),Ke(Yt,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?mv(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=mv(t),n=pv(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}st(Yt),Ke(Yt,n)}function Er(){st(Yt),st(_r),st(_n)}function oo(t){t.memoizedState!==null&&Ke(ei,t);var n=Yt.current,s=pv(n,t.type);n!==s&&(Ke(_r,t),Ke(Yt,s))}function Xa(t){_r.current===t&&(st(Yt),st(_r)),ei.current===t&&(st(ei),ll._currentValue=De)}var Wa=Object.prototype.hasOwnProperty,na=i.unstable_scheduleCallback,Za=i.unstable_cancelCallback,Lf=i.unstable_shouldYield,lo=i.unstable_requestPaint,tn=i.unstable_now,Yl=i.unstable_getCurrentPriorityLevel,vt=i.unstable_ImmediatePriority,Ct=i.unstable_UserBlockingPriority,Tr=i.unstable_NormalPriority,Xl=i.unstable_LowPriority,uo=i.unstable_IdlePriority,Uf=i.log,ra=i.unstable_setDisableYieldValue,ni=null,Ht=null;function co(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}function Kn(t){if(typeof Uf=="function"&&ra(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ni,t)}catch{}}var Xt=Math.clz32?Math.clz32:Zl,fo=Math.log,Wl=Math.LN2;function Zl(t){return t>>>=0,t===0?32:31-(fo(t)/Wl|0)|0}var $n=128,ri=4194304;function Un(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function En(t,n){var s=t.pendingLanes;if(s===0)return 0;var l=0,f=t.suspendedLanes,m=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var S=s&134217727;return S!==0?(s=S&~f,s!==0?l=Un(s):(m&=S,m!==0?l=Un(m):t||(_=S&~_,_!==0&&(l=Un(_))))):(S=s&~f,S!==0?l=Un(S):m!==0?l=Un(m):t||(_=s&~_,_!==0&&(l=Un(_)))),l===0?0:n!==0&&n!==l&&!(n&f)&&(f=l&-l,_=n&-n,f>=_||f===32&&(_&4194176)!==0)?n:l}function ii(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ja(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var t=$n;return $n<<=1,!($n&4194176)&&($n=128),t}function ai(){var t=ri;return ri<<=1,!(ri&62914560)&&(ri=4194304),t}function es(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ft(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jl(t,n,s,l,f,m){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,k=t.hiddenUpdates;for(s=_&~s;0<s;){var W=31-Xt(s),re=1<<W;S[W]=0,O[W]=-1;var G=k[W];if(G!==null)for(k[W]=null,W=0;W<G.length;W++){var X=G[W];X!==null&&(X.lane&=-536870913)}s&=~re}l!==0&&si(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~n))}function si(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function oi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Xt(s),f=1<<l;f&n|t[l]&n&&(t[l]|=n),s&=~f}}function eu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function tu(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:Vv(t.type))}function li(t,n){var s=de.p;try{return de.p=t,n()}finally{de.p=s}}var Yn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Yn,_t="__reactProps$"+Yn,br="__reactContainer$"+Yn,ia="__reactEvents$"+Yn,ts="__reactListeners$"+Yn,Xn="__reactHandles$"+Yn,mo="__reactResources$"+Yn,ui="__reactMarker$"+Yn;function aa(t){delete t[Dt],delete t[_t],delete t[ia],delete t[ts],delete t[Xn]}function kn(t){var n=t[Dt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[br]||s[Dt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=vv(t);t!==null;){if(s=t[Dt])return s;t=vv(t)}return n}t=s,s=t.parentNode}return null}function Sr(t){if(t=t[Dt]||t[br]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ci(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function fi(t){var n=t[mo];return n||(n=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[ui]=!0}var po=new Set,ns={};function ln(t,n){nn(t,n),nn(t+"Capture",n)}function nn(t,n){for(ns[t]=n,t=0;t<n.length;t++)po.add(n[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function nu(t){return Wa.call(yo,t)?!0:Wa.call(go,t)?!1:kf.test(t)?yo[t]=!0:(go[t]=!0,!1)}function hi(t,n,s){if(nu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function di(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Tn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ru(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zf(t){var n=ru(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function sa(t){t._valueTracker||(t._valueTracker=zf(t))}function vo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ru(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function ot(t){return t.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mi(t,n,s,l,f,m,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?is(t,_,Wt(n)):s!=null?is(t,_,Wt(s)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Wt(S):t.removeAttribute("name")}function oa(t,n,s,l,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;s=s!=null?""+Wt(s):"",n=n!=null?""+Wt(n):s,S||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function is(t,n,s){n==="number"&&rs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function qe(t,n,s,l){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function la(t,n,s){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Wt(s):""}function pi(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Wt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function bn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Bf.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function iu(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&s[f]!==l&&_o(t,f,l)}else for(var m in n)n.hasOwnProperty(m)&&_o(t,m,n[m])}function Eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(t){return qf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Sn=null;function as(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,Rr=null;function Cr(t){var n=Sr(t);if(n&&(t=n.stateNode)){var s=t[_t]||null;e:switch(t=n.stateNode,n.type){case"input":if(mi(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ot(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var f=l[_t]||null;if(!f)throw Error(a(90));mi(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&vo(l)}break e;case"textarea":la(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&qe(t,!!s.multiple,n,!1)}}}var To=!1;function au(t,n,s){if(To)return t(n,s);To=!0;try{var l=t(n);return l}finally{if(To=!1,(wr!==null||Rr!==null)&&(Xu(),wr&&(n=wr,t=Rr,Rr=wr=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function ua(t,n){var s=t.stateNode;if(s===null)return null;var l=s[_t]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var An=!1;if(un)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){An=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{An=!1}var Zn=null,gi=null,Dr=null;function bo(){if(Dr)return Dr;var t,n=gi,s=n.length,l,f="value"in Zn?Zn.value:Zn.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var _=s-t;for(l=1;l<=_&&n[s-l]===f[m-l];l++);return Dr=f.slice(t,1<l?1-l:void 0)}function Jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function er(){return!0}function So(){return!1}function Ot(t){function n(s,l,f,m,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?er:So,this.isPropagationStopped=So,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),n}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Ot(Ge),fa=M({},Ge,{view:0,detail:0}),su=Ot(fa),os,ls,tr,ha=M({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tr&&(tr&&t.type==="mousemove"?(os=t.screenX-tr.screenX,ls=t.screenY-tr.screenY):ls=os=0,tr=t),os)},movementY:function(t){return"movementY"in t?t.movementY:ls}}),wn=Ot(ha),ou=M({},ha,{dataTransfer:0}),Hf=Ot(ou),da=M({},fa,{relatedTarget:0}),us=Ot(da),Ao=M({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),cs=Ot(Ao),lu=M({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fs=Ot(lu),Ff=M({},Ge,{data:0}),wo=Ot(Ff),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ro(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cu[t])?!!n[t]:!1}function pa(){return Ro}var fu=M({},fa,{key:function(t){if(t.key){var n=ma[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hs=Ot(fu),hu=M({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Ot(hu),Or=M({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),du=Ot(Or),mu=M({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Ot(mu),gu=M({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ds=Ot(gu),Zt=M({},Ge,{newState:0,oldState:0}),yu=Ot(Zt),vu=[9,13,27,32],nr=un&&"CompositionEvent"in window,c=null;un&&"documentMode"in document&&(c=document.documentMode);var y=un&&"TextEvent"in window&&!c,v=un&&(!nr||c&&8<c&&11>=c),A=" ",j=!1;function K(t,n){switch(t){case"keyup":return vu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function Et(t,n){switch(t){case"compositionend":return ce(n);case"keypress":return n.which!==32?null:(j=!0,A);case"textInput":return t=n.data,t===A&&j?null:t;default:return null}}function Ue(t,n){if(Le)return t==="compositionend"||!nr&&K(t,n)?(t=bo(),Dr=gi=Zn=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var It={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!It[t.type]:n==="textarea"}function Ir(t,n,s,l){wr?Rr?Rr.push(l):Rr=[l]:wr=l,n=tc(n,"onChange"),0<n.length&&(s=new ss("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Pt=null,rr=null;function Do(t){uv(t,0)}function _u(t){var n=ci(t);if(vo(n))return t}function kp(t,n){if(t==="change")return n}var zp=!1;if(un){var Gf;if(un){var Qf="oninput"in document;if(!Qf){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Qf=typeof Bp.oninput=="function"}Gf=Qf}else Gf=!1;zp=Gf&&(!document.documentMode||9<document.documentMode)}function jp(){Pt&&(Pt.detachEvent("onpropertychange",qp),rr=Pt=null)}function qp(t){if(t.propertyName==="value"&&_u(rr)){var n=[];Ir(n,rr,t,as(t)),au(Do,n)}}function Qb(t,n,s){t==="focusin"?(jp(),Pt=n,rr=s,Pt.attachEvent("onpropertychange",qp)):t==="focusout"&&jp()}function Kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(rr)}function $b(t,n){if(t==="click")return _u(n)}function Yb(t,n){if(t==="input"||t==="change")return _u(n)}function Xb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:Xb;function Oo(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Wa.call(n,f)||!cn(t[f],n[f]))return!1}return!0}function Hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fp(t,n){var s=Hp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Hp(s)}}function Gp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Gp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=rs(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=rs(t.document)}return n}function Kf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Wb(t,n){var s=Qp(n);n=t.focusedElem;var l=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&Gp(n.ownerDocument.documentElement,n)){if(l!==null&&Kf(n)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(s,n.value.length);else if(s=(t=n.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var f=n.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!s.extend&&m>l&&(f=l,l=m,m=f),f=Fp(n,m);var _=Fp(n,l);f&&_&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),s.removeAllRanges(),m>l?(s.addRange(t),s.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),s.addRange(t)))}}for(t=[],s=n;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)s=t[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Zb=un&&"documentMode"in document&&11>=document.documentMode,ms=null,$f=null,Io=null,Yf=!1;function Kp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yf||ms==null||ms!==rs(l)||(l=ms,"selectionStart"in l&&Kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Io&&Oo(Io,l)||(Io=l,l=tc($f,"onSelect"),0<l.length&&(n=new ss("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ms)))}function ga(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ps={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Xf={},$p={};un&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function ya(t){if(Xf[t])return Xf[t];if(!ps[t])return t;var n=ps[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in $p)return Xf[t]=n[s];return t}var Yp=ya("animationend"),Xp=ya("animationiteration"),Wp=ya("animationstart"),Jb=ya("transitionrun"),eS=ya("transitionstart"),tS=ya("transitioncancel"),Zp=ya("transitionend"),Jp=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(t,n){Jp.set(t,n),ln(n,[t])}var Rn=[],gs=0,Wf=0;function Eu(){for(var t=gs,n=Wf=gs=0;n<t;){var s=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var f=Rn[n];Rn[n++]=null;var m=Rn[n];if(Rn[n++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&tg(s,f,m)}}function Tu(t,n,s,l){Rn[gs++]=t,Rn[gs++]=n,Rn[gs++]=s,Rn[gs++]=l,Wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zf(t,n,s,l){return Tu(t,n,s,l),bu(t)}function yi(t,n){return Tu(t,null,null,n),bu(t)}function tg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;f&&n!==null&&t.tag===3&&(m=t.stateNode,f=31-Xt(s),m=m.hiddenUpdates,t=m[f],t===null?m[f]=[n]:t.push(n),n.lane=s|536870912)}function bu(t){if(50<tl)throw tl=0,id=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ys={},ng=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var s=ng.get(t);return s!==void 0?s:(n={value:t,source:n,stack:B(n)},ng.set(t,n),n)}return{value:t,source:n,stack:B(n)}}var vs=[],_s=0,Su=null,Au=0,Dn=[],On=0,va=null,Mr=1,Nr="";function _a(t,n){vs[_s++]=Au,vs[_s++]=Su,Su=t,Au=n}function rg(t,n,s){Dn[On++]=Mr,Dn[On++]=Nr,Dn[On++]=va,va=t;var l=Mr;t=Nr;var f=32-Xt(l)-1;l&=~(1<<f),s+=1;var m=32-Xt(n)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Mr=1<<32-Xt(n)+f|s<<f|l,Nr=m+t}else Mr=1<<m|s<<f|l,Nr=t}function Jf(t){t.return!==null&&(_a(t,1),rg(t,1,0))}function eh(t){for(;t===Su;)Su=vs[--_s],vs[_s]=null,Au=vs[--_s],vs[_s]=null;for(;t===va;)va=Dn[--On],Dn[On]=null,Nr=Dn[--On],Dn[On]=null,Mr=Dn[--On],Dn[On]=null}var Jt=null,Lt=null,He=!1,Bn=null,ir=!1,th=Error(a(519));function Ea(t){var n=Error(a(418,""));throw Vo(Cn(n,t)),th}function ig(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Dt]=t,n[_t]=l,s){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)xe(rl[s],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),oa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sa(n);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),pi(n,l.value,l.defaultValue,l.children),sa(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||dv(n.textContent,s)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=nc),n=!0):n=!1,n||Ea(t)}function ag(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 3:case 27:ir=!0;return;case 5:case 13:ir=!1;return;default:Jt=Jt.return}}function Mo(t){if(t!==Jt)return!1;if(!He)return ag(t),He=!0,!1;var n=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Td(t.type,t.memoizedProps)),s=!s),s&&(n=!0),n&&Lt&&Ea(t),ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){Lt=qn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}Lt=null}}else Lt=Jt?qn(t.stateNode.nextSibling):null;return!0}function No(){Lt=Jt=null,He=!1}function Vo(t){Bn===null?Bn=[t]:Bn.push(t)}var xo=Error(a(460)),sg=Error(a(474)),nh={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wu(){}function lg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(wu,wu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===xo?Error(a(483)):t;default:if(typeof n.status=="string")n.then(wu,wu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===xo?Error(a(483)):t}throw Po=n,xo}}var Po=null;function ug(){if(Po===null)throw Error(a(459));var t=Po;return Po=null,t}var Es=null,Lo=0;function Ru(t){var n=Lo;return Lo+=1,Es===null&&(Es=[]),lg(Es,t,n)}function Uo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Cu(t,n){throw n.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){var n=t._init;return n(t._payload)}function fg(t){function n(z,U){if(t){var H=z.deletions;H===null?(z.deletions=[U],z.flags|=16):H.push(U)}}function s(z,U){if(!t)return null;for(;U!==null;)n(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=Oi(z,U),z.index=0,z.sibling=null,z}function m(z,U,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<U?(z.flags|=33554434,U):H):(z.flags|=33554434,U)):(z.flags|=1048576,U)}function _(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function S(z,U,H,J){return U===null||U.tag!==6?(U=Xh(H,z.mode,J),U.return=z,U):(U=f(U,H),U.return=z,U)}function O(z,U,H,J){var ge=H.type;return ge===p?W(z,U,H.props.children,J,H.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Y&&cg(ge)===U.type)?(U=f(U,H.props),Uo(U,H),U.return=z,U):(U=Gu(H.type,H.key,H.props,null,z.mode,J),Uo(U,H),U.return=z,U)}function k(z,U,H,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Wh(H,z.mode,J),U.return=z,U):(U=f(U,H.children||[]),U.return=z,U)}function W(z,U,H,J,ge){return U===null||U.tag!==7?(U=Ia(H,z.mode,J,ge),U.return=z,U):(U=f(U,H),U.return=z,U)}function re(z,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Xh(""+U,z.mode,H),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case h:return H=Gu(U.type,U.key,U.props,null,z.mode,H),Uo(H,U),H.return=z,H;case d:return U=Wh(U,z.mode,H),U.return=z,U;case Y:var J=U._init;return U=J(U._payload),re(z,U,H)}if(fe(U)||he(U))return U=Ia(U,z.mode,H,null),U.return=z,U;if(typeof U.then=="function")return re(z,Ru(U),H);if(U.$$typeof===R)return re(z,qu(z,U),H);Cu(z,U)}return null}function G(z,U,H,J){var ge=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:S(z,U,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return H.key===ge?O(z,U,H,J):null;case d:return H.key===ge?k(z,U,H,J):null;case Y:return ge=H._init,H=ge(H._payload),G(z,U,H,J)}if(fe(H)||he(H))return ge!==null?null:W(z,U,H,J,null);if(typeof H.then=="function")return G(z,U,Ru(H),J);if(H.$$typeof===R)return G(z,U,qu(z,H),J);Cu(z,H)}return null}function X(z,U,H,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,S(U,z,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return z=z.get(J.key===null?H:J.key)||null,O(U,z,J,ge);case d:return z=z.get(J.key===null?H:J.key)||null,k(U,z,J,ge);case Y:var Me=J._init;return J=Me(J._payload),X(z,U,H,J,ge)}if(fe(J)||he(J))return z=z.get(H)||null,W(U,z,J,ge,null);if(typeof J.then=="function")return X(z,U,H,Ru(J),ge);if(J.$$typeof===R)return X(z,U,H,qu(U,J),ge);Cu(U,J)}return null}function ye(z,U,H,J){for(var ge=null,Me=null,ve=U,be=U=0,Vt=null;ve!==null&&be<H.length;be++){ve.index>be?(Vt=ve,ve=null):Vt=ve.sibling;var Fe=G(z,ve,H[be],J);if(Fe===null){ve===null&&(ve=Vt);break}t&&ve&&Fe.alternate===null&&n(z,ve),U=m(Fe,U,be),Me===null?ge=Fe:Me.sibling=Fe,Me=Fe,ve=Vt}if(be===H.length)return s(z,ve),He&&_a(z,be),ge;if(ve===null){for(;be<H.length;be++)ve=re(z,H[be],J),ve!==null&&(U=m(ve,U,be),Me===null?ge=ve:Me.sibling=ve,Me=ve);return He&&_a(z,be),ge}for(ve=l(ve);be<H.length;be++)Vt=X(ve,z,be,H[be],J),Vt!==null&&(t&&Vt.alternate!==null&&ve.delete(Vt.key===null?be:Vt.key),U=m(Vt,U,be),Me===null?ge=Vt:Me.sibling=Vt,Me=Vt);return t&&ve.forEach(function(Li){return n(z,Li)}),He&&_a(z,be),ge}function we(z,U,H,J){if(H==null)throw Error(a(151));for(var ge=null,Me=null,ve=U,be=U=0,Vt=null,Fe=H.next();ve!==null&&!Fe.done;be++,Fe=H.next()){ve.index>be?(Vt=ve,ve=null):Vt=ve.sibling;var Li=G(z,ve,Fe.value,J);if(Li===null){ve===null&&(ve=Vt);break}t&&ve&&Li.alternate===null&&n(z,ve),U=m(Li,U,be),Me===null?ge=Li:Me.sibling=Li,Me=Li,ve=Vt}if(Fe.done)return s(z,ve),He&&_a(z,be),ge;if(ve===null){for(;!Fe.done;be++,Fe=H.next())Fe=re(z,Fe.value,J),Fe!==null&&(U=m(Fe,U,be),Me===null?ge=Fe:Me.sibling=Fe,Me=Fe);return He&&_a(z,be),ge}for(ve=l(ve);!Fe.done;be++,Fe=H.next())Fe=X(ve,z,be,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&ve.delete(Fe.key===null?be:Fe.key),U=m(Fe,U,be),Me===null?ge=Fe:Me.sibling=Fe,Me=Fe);return t&&ve.forEach(function(pA){return n(z,pA)}),He&&_a(z,be),ge}function ct(z,U,H,J){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case h:e:{for(var ge=H.key;U!==null;){if(U.key===ge){if(ge=H.type,ge===p){if(U.tag===7){s(z,U.sibling),J=f(U,H.props.children),J.return=z,z=J;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Y&&cg(ge)===U.type){s(z,U.sibling),J=f(U,H.props),Uo(J,H),J.return=z,z=J;break e}s(z,U);break}else n(z,U);U=U.sibling}H.type===p?(J=Ia(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=Gu(H.type,H.key,H.props,null,z.mode,J),Uo(J,H),J.return=z,z=J)}return _(z);case d:e:{for(ge=H.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){s(z,U.sibling),J=f(U,H.children||[]),J.return=z,z=J;break e}else{s(z,U);break}else n(z,U);U=U.sibling}J=Wh(H,z.mode,J),J.return=z,z=J}return _(z);case Y:return ge=H._init,H=ge(H._payload),ct(z,U,H,J)}if(fe(H))return ye(z,U,H,J);if(he(H)){if(ge=he(H),typeof ge!="function")throw Error(a(150));return H=ge.call(H),we(z,U,H,J)}if(typeof H.then=="function")return ct(z,U,Ru(H),J);if(H.$$typeof===R)return ct(z,U,qu(z,H),J);Cu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(s(z,U.sibling),J=f(U,H),J.return=z,z=J):(s(z,U),J=Xh(H,z.mode,J),J.return=z,z=J),_(z)):s(z,U)}return function(z,U,H,J){try{Lo=0;var ge=ct(z,U,H,J);return Es=null,ge}catch(ve){if(ve===xo)throw ve;var Me=Vn(29,ve,null,z.mode);return Me.lanes=J,Me.return=z,Me}finally{}}}var Ta=fg(!0),hg=fg(!1),Ts=je(null),Du=je(0);function dg(t,n){t=Hr,Ke(Du,t),Ke(Ts,n),Hr=t|n.baseLanes}function rh(){Ke(Du,Hr),Ke(Ts,Ts.current)}function ih(){Hr=Du.current,st(Ts),st(Du)}var In=je(null),ar=null;function vi(t){var n=t.alternate;Ke(bt,bt.current&1),Ke(In,t),ar===null&&(n===null||Ts.current!==null||n.memoizedState!==null)&&(ar=t)}function mg(t){if(t.tag===22){if(Ke(bt,bt.current),Ke(In,t),ar===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ar=t)}}else _i()}function _i(){Ke(bt,bt.current),Ke(In,In.current)}function Vr(t){st(In),ar===t&&(ar=null),st(bt)}var bt=je(0);function Ou(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},rS=i.unstable_scheduleCallback,iS=i.unstable_NormalPriority,St={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new nS,data:new Map,refCount:0}}function ko(t){t.refCount--,t.refCount===0&&rS(iS,function(){t.controller.abort()})}var zo=null,sh=0,bs=0,Ss=null;function aS(t,n){if(zo===null){var s=zo=[];sh=0,bs=hd(),Ss={status:"pending",value:void 0,then:function(l){s.push(l)}}}return sh++,n.then(pg,pg),n}function pg(){if(--sh===0&&zo!==null){Ss!==null&&(Ss.status="fulfilled");var t=zo;zo=null,bs=0,Ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sS(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var gg=w.S;w.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&aS(t,n),gg!==null&&gg(t,n)};var ba=je(null);function oh(){var t=ba.current;return t!==null?t:We.pooledCache}function Iu(t,n){n===null?Ke(ba,ba.current):Ke(ba,n.pool)}function yg(){var t=oh();return t===null?null:{parent:St._currentValue,pool:t}}var Ei=0,Ie=null,$e=null,mt=null,Mu=!1,As=!1,Sa=!1,Nu=0,Bo=0,ws=null,oS=0;function ht(){throw Error(a(321))}function lh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!cn(t[s],n[s]))return!1;return!0}function uh(t,n,s,l,f,m){return Ei=m,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=t===null||t.memoizedState===null?Aa:Ti,Sa=!1,m=s(l,f),Sa=!1,As&&(m=_g(n,s,l,f)),vg(t),m}function vg(t){w.H=sr;var n=$e!==null&&$e.next!==null;if(Ei=0,mt=$e=Ie=null,Mu=!1,Bo=0,ws=null,n)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&ju(t)&&(Mt=!0))}function _g(t,n,s,l){Ie=t;var f=0;do{if(As&&(ws=null),Bo=0,As=!1,25<=f)throw Error(a(301));if(f+=1,mt=$e=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=wa,m=n(s,l)}while(As);return m}function lS(){var t=w.H,n=t.useState()[0];return n=typeof n.then=="function"?jo(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),n}function ch(){var t=Nu!==0;return Nu=0,t}function fh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function hh(t){if(Mu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Mu=!1}Ei=0,mt=$e=Ie=null,As=!1,Bo=Nu=0,ws=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ie.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=mt===null?Ie.memoizedState:mt.next;if(n!==null)mt=n,$e=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},mt===null?Ie.memoizedState=mt=t:mt=mt.next=t}return mt}var Vu;Vu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function jo(t){var n=Bo;return Bo+=1,ws===null&&(ws=[]),t=lg(ws,t,n),n=Ie,(mt===null?n.memoizedState:mt.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?Aa:Ti),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jo(t);if(t.$$typeof===R)return Ft(t)}throw Error(a(438,String(t)))}function dh(t){var n=null,s=Ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),Ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=oe;return n.index++,s}function xr(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=pt();return mh(n,$e,t)}function mh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}n.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var S=_=null,O=null,k=n,W=!1;do{var re=k.lane&-536870913;if(re!==k.lane?(ke&re)===re:(Ei&re)===re){var G=k.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),re===bs&&(W=!0);else if((Ei&G)===G){k=k.next,G===bs&&(W=!0);continue}else re={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},O===null?(S=O=re,_=m):O=O.next=re,Ie.lanes|=G,Ii|=G;re=k.action,Sa&&s(m,re),m=k.hasEagerState?k.eagerState:s(m,re)}else G={lane:re,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},O===null?(S=O=G,_=m):O=O.next=G,Ie.lanes|=re,Ii|=re;k=k.next}while(k!==null&&k!==n);if(O===null?_=m:O.next=S,!cn(m,t.memoizedState)&&(Mt=!0,W&&(s=Ss,s!==null)))throw s;t.memoizedState=m,t.baseState=_,t.baseQueue=O,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ph(t){var n=pt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);cn(m,n.memoizedState)||(Mt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,l]}function Eg(t,n,s){var l=Ie,f=pt(),m=He;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!cn(($e||f).memoizedState,s);if(_&&(f.memoizedState=s,Mt=!0),f=f.queue,vh(Sg.bind(null,l,f,t),[t]),f.getSnapshot!==n||_||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,Rs(9,bg.bind(null,l,f,s,n),{destroy:void 0},null),We===null)throw Error(a(349));m||Ei&60||Tg(l,n,s)}return s}function Tg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ie.updateQueue,n===null?(n=Vu(),Ie.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function bg(t,n,s,l){n.value=s,n.getSnapshot=l,Ag(n)&&wg(t)}function Sg(t,n,s){return s(function(){Ag(n)&&wg(t)})}function Ag(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!cn(t,s)}catch{return!0}}function wg(t){var n=yi(t,2);n!==null&&en(n,t,2)}function gh(t){var n=rn();if(typeof t=="function"){var s=t;if(t=s(),Sa){Kn(!0);try{s()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:t},n}function Rg(t,n,s,l){return t.baseState=s,mh(t,$e,typeof l=="function"?l:xr)}function uS(t,n,s,l,f){if(ku(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};w.T!==null?s(!0):m.isTransition=!1,l(m),s=n.pending,s===null?(m.next=n.pending=m,Cg(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Cg(t,n){var s=n.action,l=n.payload,f=t.state;if(n.isTransition){var m=w.T,_={};w.T=_;try{var S=s(f,l),O=w.S;O!==null&&O(_,S),Dg(t,n,S)}catch(k){yh(t,n,k)}finally{w.T=m}}else try{m=s(f,l),Dg(t,n,m)}catch(k){yh(t,n,k)}}function Dg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Og(t,n,l)},function(l){return yh(t,n,l)}):Og(t,n,s)}function Og(t,n,s){n.status="fulfilled",n.value=s,Ig(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Cg(t,s)))}function yh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Ig(n),n=n.next;while(n!==l)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mg(t,n){return n}function Ng(t,n){if(He){var s=We.formState;if(s!==null){e:{var l=Ie;if(He){if(Lt){t:{for(var f=Lt,m=ir;f.nodeType!==8;){if(!m){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Lt=qn(f.nextSibling),l=f.data==="F!";break e}}Ea(l)}l=!1}l&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},s.queue=l,s=Xg.bind(null,Ie,l),l.dispatch=s,l=gh(!1),m=Sh.bind(null,Ie,!1,l.queue),l=rn(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,s=uS.bind(null,Ie,f,m,s),f.dispatch=s,l.memoizedState=t,[n,s,!1]}function Vg(t){var n=pt();return xg(n,$e,t)}function xg(t,n,s){n=mh(t,n,Mg)[0],t=Pu(xr)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?jo(n):n;var l=pt(),f=l.queue,m=f.dispatch;return s!==l.memoizedState&&(Ie.flags|=2048,Rs(9,cS.bind(null,f,s),{destroy:void 0},null)),[n,m,t]}function cS(t,n){t.action=n}function Pg(t){var n=pt(),s=$e;if(s!==null)return xg(n,s,t);pt(),n=n.memoizedState,s=pt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Rs(t,n,s,l){return t={tag:t,create:n,inst:s,deps:l,next:null},n=Ie.updateQueue,n===null&&(n=Vu(),Ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Lg(){return pt().memoizedState}function Lu(t,n,s,l){var f=rn();Ie.flags|=t,f.memoizedState=Rs(1|n,s,{destroy:void 0},l===void 0?null:l)}function Uu(t,n,s,l){var f=pt();l=l===void 0?null:l;var m=f.memoizedState.inst;$e!==null&&l!==null&&lh(l,$e.memoizedState.deps)?f.memoizedState=Rs(n,s,m,l):(Ie.flags|=t,f.memoizedState=Rs(1|n,s,m,l))}function Ug(t,n){Lu(8390656,8,t,n)}function vh(t,n){Uu(2048,8,t,n)}function kg(t,n){return Uu(4,2,t,n)}function zg(t,n){return Uu(4,4,t,n)}function Bg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,s){s=s!=null?s.concat([t]):null,Uu(4,4,Bg.bind(null,n,t),s)}function _h(){}function qg(t,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Hg(t,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),Sa){Kn(!0);try{t()}finally{Kn(!1)}}return s.memoizedState=[l,n],l}function Eh(t,n,s){return s===void 0||Ei&1073741824?t.memoizedState=n:(t.memoizedState=s,t=Gy(),Ie.lanes|=t,Ii|=t,s)}function Fg(t,n,s,l){return cn(s,n)?s:Ts.current!==null?(t=Eh(t,s,l),cn(t,n)||(Mt=!0),t):Ei&42?(t=Gy(),Ie.lanes|=t,Ii|=t,n):(Mt=!0,t.memoizedState=s)}function Gg(t,n,s,l,f){var m=de.p;de.p=m!==0&&8>m?m:8;var _=w.T,S={};w.T=S,Sh(t,!1,n,s);try{var O=f(),k=w.S;if(k!==null&&k(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=sS(O,l);qo(t,n,W,mn(t))}else qo(t,n,l,mn(t))}catch(re){qo(t,n,{then:function(){},status:"rejected",reason:re},mn())}finally{de.p=m,w.T=_}}function fS(){}function Th(t,n,s,l){if(t.tag!==5)throw Error(a(476));var f=Qg(t).queue;Gg(t,f,n,De,s===null?fS:function(){return Kg(t),s(l)})}function Qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:De},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Qg(t).next.queue;qo(t,n,{},mn())}function bh(){return Ft(ll)}function $g(){return pt().memoizedState}function Yg(){return pt().memoizedState}function hS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=mn();t=Ai(s);var l=wi(n,t,s);l!==null&&(en(l,n,s),Go(l,n,s)),n={cache:ah()},t.payload=n;return}n=n.return}}function dS(t,n,s){var l=mn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ku(t)?Wg(n,s):(s=Zf(t,n,s,l),s!==null&&(en(s,t,l),Zg(s,n,l)))}function Xg(t,n,s){var l=mn();qo(t,n,s,l)}function qo(t,n,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(t))Wg(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var _=n.lastRenderedState,S=m(_,s);if(f.hasEagerState=!0,f.eagerState=S,cn(S,_))return Tu(t,n,f,0),We===null&&Eu(),!1}catch{}finally{}if(s=Zf(t,n,f,l),s!==null)return en(s,t,l),Zg(s,n,l),!0}return!1}function Sh(t,n,s,l){if(l={lane:2,revertLane:hd(),action:l,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(n)throw Error(a(479))}else n=Zf(t,s,l,2),n!==null&&en(n,t,2)}function ku(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Wg(t,n){As=Mu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Zg(t,n,s){if(s&4194176){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,oi(t,s)}}var sr={readContext:Ft,use:xu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};sr.useCacheRefresh=ht,sr.useMemoCache=ht,sr.useHostTransitionStatus=ht,sr.useFormState=ht,sr.useActionState=ht,sr.useOptimistic=ht;var Aa={readContext:Ft,use:xu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:Ug,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Lu(4194308,4,Bg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Lu(4194308,4,t,n)},useInsertionEffect:function(t,n){Lu(4,2,t,n)},useMemo:function(t,n){var s=rn();n=n===void 0?null:n;var l=t();if(Sa){Kn(!0);try{t()}finally{Kn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=rn();if(s!==void 0){var f=s(n);if(Sa){Kn(!0);try{s(n)}finally{Kn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=dS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,s=Xg.bind(null,Ie,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:_h,useDeferredValue:function(t,n){var s=rn();return Eh(s,t,n)},useTransition:function(){var t=gh(!1);return t=Gg.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ie,f=rn();if(He){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),We===null)throw Error(a(349));ke&60||Tg(l,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,Ug(Sg.bind(null,l,m,t),[t]),l.flags|=2048,Rs(9,bg.bind(null,l,m,s,n),{destroy:void 0},null),s},useId:function(){var t=rn(),n=We.identifierPrefix;if(He){var s=Nr,l=Mr;s=(l&~(1<<32-Xt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=oS++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return rn().memoizedState=hS.bind(null,Ie)}};Aa.useMemoCache=dh,Aa.useHostTransitionStatus=bh,Aa.useFormState=Ng,Aa.useActionState=Ng,Aa.useOptimistic=function(t){var n=rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sh.bind(null,Ie,!0,s),s.dispatch=n,[t,n]};var Ti={readContext:Ft,use:xu,useCallback:qg,useContext:Ft,useEffect:vh,useImperativeHandle:jg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:Hg,useReducer:Pu,useRef:Lg,useState:function(){return Pu(xr)},useDebugValue:_h,useDeferredValue:function(t,n){var s=pt();return Fg(s,$e.memoizedState,t,n)},useTransition:function(){var t=Pu(xr)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:jo(t),n]},useSyncExternalStore:Eg,useId:$g};Ti.useCacheRefresh=Yg,Ti.useMemoCache=dh,Ti.useHostTransitionStatus=bh,Ti.useFormState=Vg,Ti.useActionState=Vg,Ti.useOptimistic=function(t,n){var s=pt();return Rg(s,$e,t,n)};var wa={readContext:Ft,use:xu,useCallback:qg,useContext:Ft,useEffect:vh,useImperativeHandle:jg,useInsertionEffect:kg,useLayoutEffect:zg,useMemo:Hg,useReducer:ph,useRef:Lg,useState:function(){return ph(xr)},useDebugValue:_h,useDeferredValue:function(t,n){var s=pt();return $e===null?Eh(s,t,n):Fg(s,$e.memoizedState,t,n)},useTransition:function(){var t=ph(xr)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:jo(t),n]},useSyncExternalStore:Eg,useId:$g};wa.useCacheRefresh=Yg,wa.useMemoCache=dh,wa.useHostTransitionStatus=bh,wa.useFormState=Pg,wa.useActionState=Pg,wa.useOptimistic=function(t,n){var s=pt();return $e!==null?Rg(s,$e,t,n):(s.baseState=t,[t,s.queue.dispatch])};function Ah(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:M({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var wh={isMounted:function(t){return(t=t._reactInternals)?ne(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var l=mn(),f=Ai(l);f.payload=n,s!=null&&(f.callback=s),n=wi(t,f,l),n!==null&&(en(n,t,l),Go(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=mn(),f=Ai(l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=wi(t,f,l),n!==null&&(en(n,t,l),Go(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=mn(),l=Ai(s);l.tag=2,n!=null&&(l.callback=n),n=wi(t,l,s),n!==null&&(en(n,t,s),Go(n,t,s))}};function Jg(t,n,s,l,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,l)||!Oo(f,m):!0}function ey(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&wh.enqueueReplaceState(n,n.state,null)}function Ra(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=M({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ty(t){zu(t)}function ny(t){console.error(t)}function ry(t){zu(t)}function Bu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rh(t,n,s){return s=Ai(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(t,n)},s}function ay(t){return t=Ai(t),t.tag=3,t}function sy(t,n,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){iy(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){iy(n,s,l),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function mS(t,n,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Fo(n,s,f,!0),s=In.current,s!==null){switch(s.tag){case 13:return ar===null?od():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===nh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ud(t,l,f)),!1;case 22:return s.flags|=65536,l===nh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ud(t,l,f)),!1}throw Error(a(435,s.tag))}return ud(t,l,f),od(),!1}if(He)return n=In.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==th&&(t=Error(a(422),{cause:l}),Vo(Cn(t,s)))):(l!==th&&(n=Error(a(423),{cause:l}),Vo(Cn(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Cn(l,s),f=Rh(t.stateNode,l,f),jh(t,f),ut!==4&&(ut=2)),!1;var m=Error(a(520),{cause:l});if(m=Cn(m,s),Jo===null?Jo=[m]:Jo.push(m),ut!==4&&(ut=2),n===null)return!0;l=Cn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Rh(s.stateNode,l,t),jh(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=ay(f),sy(f,t,s,l),jh(s,f),!1}s=s.return}while(s!==null);return!1}var oy=Error(a(461)),Mt=!1;function Ut(t,n,s,l){n.child=t===null?hg(n,null,s,l):Ta(n,t.child,s,l)}function ly(t,n,s,l,f){s=s.render;var m=n.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Da(n),l=uh(t,n,s,_,m,f),S=ch(),t!==null&&!Mt?(fh(t,n,f),Pr(t,n,f)):(He&&S&&Jf(n),n.flags|=1,Ut(t,n,l,f),n.child)}function uy(t,n,s,l,f){if(t===null){var m=s.type;return typeof m=="function"&&!Yh(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,cy(t,n,m,l,f)):(t=Gu(s.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Ph(t,f)){var _=m.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(_,l)&&t.ref===n.ref)return Pr(t,n,f)}return n.flags|=1,t=Oi(m,l),t.ref=n.ref,t.return=n,n.child=t}function cy(t,n,s,l,f){if(t!==null){var m=t.memoizedProps;if(Oo(m,l)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=l=m,Ph(t,f))t.flags&131072&&(Mt=!0);else return n.lanes=t.lanes,Pr(t,n,f)}return Ch(t,n,s,l,f)}function fy(t,n,s){var l=n.pendingProps,f=l.children,m=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(Ho(t,n),l.mode==="hidden"||m){if(n.flags&128){if(l=_!==null?_.baseLanes|s:s,t!==null){for(f=n.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;n.childLanes=m&~l}else n.childLanes=0,n.child=null;return hy(t,n,l,s)}if(s&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,_!==null?_.cachePool:null),_!==null?dg(n,_):rh(),mg(n);else return n.lanes=n.childLanes=536870912,hy(t,n,_!==null?_.baseLanes|s:s,s)}else _!==null?(Iu(n,_.cachePool),dg(n,_),_i(),n.memoizedState=null):(t!==null&&Iu(n,null),rh(),_i());return Ut(t,n,f,s),n.child}function hy(t,n,s,l){var f=oh();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Iu(n,null),rh(),mg(n),t!==null&&Fo(t,n,l,!0),null}function Ho(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=2097664)}}function Ch(t,n,s,l,f){return Da(n),s=uh(t,n,s,l,void 0,f),l=ch(),t!==null&&!Mt?(fh(t,n,f),Pr(t,n,f)):(He&&l&&Jf(n),n.flags|=1,Ut(t,n,s,f),n.child)}function dy(t,n,s,l,f,m){return Da(n),n.updateQueue=null,s=_g(n,l,s,f),vg(t),l=ch(),t!==null&&!Mt?(fh(t,n,m),Pr(t,n,m)):(He&&l&&Jf(n),n.flags|=1,Ut(t,n,s,m),n.child)}function my(t,n,s,l,f){if(Da(n),n.stateNode===null){var m=ys,_=s.contextType;typeof _=="object"&&_!==null&&(m=Ft(_)),m=new s(l,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wh,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=l,m.state=n.memoizedState,m.refs={},zh(n),_=s.contextType,m.context=typeof _=="object"&&_!==null?Ft(_):ys,m.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Ah(n,s,_,l),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&wh.enqueueReplaceState(m,m.state,null),Ko(n,l,m,f),Qo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){m=n.stateNode;var S=n.memoizedProps,O=Ra(s,S);m.props=O;var k=m.context,W=s.contextType;_=ys,typeof W=="object"&&W!==null&&(_=Ft(W));var re=s.getDerivedStateFromProps;W=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||k!==_)&&ey(n,m,l,_),Si=!1;var G=n.memoizedState;m.state=G,Ko(n,l,m,f),Qo(),k=n.memoizedState,S||G!==k||Si?(typeof re=="function"&&(Ah(n,s,re,l),k=n.memoizedState),(O=Si||Jg(n,s,O,l,G,k,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),m.props=l,m.state=k,m.context=_,l=O):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,Bh(t,n),_=n.memoizedProps,W=Ra(s,_),m.props=W,re=n.pendingProps,G=m.context,k=s.contextType,O=ys,typeof k=="object"&&k!==null&&(O=Ft(k)),S=s.getDerivedStateFromProps,(k=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==re||G!==O)&&ey(n,m,l,O),Si=!1,G=n.memoizedState,m.state=G,Ko(n,l,m,f),Qo();var X=n.memoizedState;_!==re||G!==X||Si||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof S=="function"&&(Ah(n,s,S,l),X=n.memoizedState),(W=Si||Jg(n,s,W,l,G,X,O)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(k||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,O)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),m.props=l,m.state=X,m.context=O,l=W):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return m=l,Ho(t,n),l=(n.flags&128)!==0,m||l?(m=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&l?(n.child=Ta(n,t.child,null,f),n.child=Ta(n,null,s,f)):Ut(t,n,s,f),n.memoizedState=m.state,t=n.child):t=Pr(t,n,f),t}function py(t,n,s,l){return No(),n.flags|=256,Ut(t,n,s,l),n.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Oh(t){return{baseLanes:t,cachePool:yg()}}function Ih(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=xn),t}function gy(t,n,s){var l=n.pendingProps,f=!1,m=(n.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(f?vi(n):_i(),He){var S=Lt,O;if(O=S){e:{for(O=S,S=ir;O.nodeType!==8;){if(!S){S=null;break e}if(O=qn(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(n.memoizedState={dehydrated:S,treeContext:va!==null?{id:Mr,overflow:Nr}:null,retryLane:536870912},O=Vn(18,null,null,0),O.stateNode=S,O.return=n,n.child=O,Jt=n,Lt=null,O=!0):O=!1}O||Ea(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?n.lanes=16:n.lanes=536870912,null;Vr(n)}return S=l.children,l=l.fallback,f?(_i(),f=n.mode,S=Nh({mode:"hidden",children:S},f),l=Ia(l,f,s,null),S.return=n,l.return=n,S.sibling=l,n.child=S,f=n.child,f.memoizedState=Oh(s),f.childLanes=Ih(t,_,s),n.memoizedState=Dh,l):(vi(n),Mh(n,S))}if(O=t.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(m)n.flags&256?(vi(n),n.flags&=-257,n=Vh(t,n,s)):n.memoizedState!==null?(_i(),n.child=t.child,n.flags|=128,n=null):(_i(),f=l.fallback,S=n.mode,l=Nh({mode:"visible",children:l.children},S),f=Ia(f,S,s,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Ta(n,t.child,null,s),l=n.child,l.memoizedState=Oh(s),l.childLanes=Ih(t,_,s),n.memoizedState=Dh,n=f);else if(vi(n),S.data==="$!"){if(_=S.nextSibling&&S.nextSibling.dataset,_)var k=_.dgst;_=k,l=Error(a(419)),l.stack="",l.digest=_,Vo({value:l,source:null,stack:null}),n=Vh(t,n,s)}else if(Mt||Fo(t,n,s,!1),_=(s&t.childLanes)!==0,Mt||_){if(_=We,_!==null){if(l=s&-s,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|s)?0:l,l!==0&&l!==O.retryLane)throw O.retryLane=l,yi(t,l),en(_,t,l),oy}S.data==="$?"||od(),n=Vh(t,n,s)}else S.data==="$?"?(n.flags|=128,n.child=t.child,n=OS.bind(null,t),S._reactRetry=n,n=null):(t=O.treeContext,Lt=qn(S.nextSibling),Jt=n,He=!0,Bn=null,ir=!1,t!==null&&(Dn[On++]=Mr,Dn[On++]=Nr,Dn[On++]=va,Mr=t.id,Nr=t.overflow,va=n),n=Mh(n,l.children),n.flags|=4096);return n}return f?(_i(),f=l.fallback,S=n.mode,O=t.child,k=O.sibling,l=Oi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&31457280,k!==null?f=Oi(k,f):(f=Ia(f,S,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,S=t.child.memoizedState,S===null?S=Oh(s):(O=S.cachePool,O!==null?(k=St._currentValue,O=O.parent!==k?{parent:k,pool:k}:O):O=yg(),S={baseLanes:S.baseLanes|s,cachePool:O}),f.memoizedState=S,f.childLanes=Ih(t,_,s),n.memoizedState=Dh,l):(vi(n),s=t.child,t=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=s,n.memoizedState=null,s)}function Mh(t,n){return n=Nh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nh(t,n){return qy(t,n,0,null)}function Vh(t,n,s){return Ta(n,t.child,null,s),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Uh(t.return,n,s)}function xh(t,n,s,l,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=f)}function vy(t,n,s){var l=n.pendingProps,f=l.revealOrder,m=l.tail;if(Ut(t,n,l.children,s),l=bt.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,s,n);else if(t.tag===19)yy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(bt,l),f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&Ou(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),xh(n,!1,f,s,m);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Ou(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}xh(n,!0,s,null,m);break;case"together":xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,!(s&n.childLanes))if(t!==null){if(Fo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Oi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Oi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ph(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function pS(t,n,s){switch(n.tag){case 3:ti(n,n.stateNode.containerInfo),bi(n,St,t.memoizedState.cache),No();break;case 27:case 5:oo(n);break;case 4:ti(n,n.stateNode.containerInfo);break;case 10:bi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(n),n.flags|=128,null):s&n.child.childLanes?gy(t,n,s):(vi(n),t=Pr(t,n,s),t!==null?t.sibling:null);vi(n);break;case 19:var f=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Fo(t,n,s,!1),l=(s&n.childLanes)!==0),f){if(l)return vy(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(bt,bt.current),l)break;return null;case 22:case 23:return n.lanes=0,fy(t,n,s);case 24:bi(n,St,t.memoizedState.cache)}return Pr(t,n,s)}function _y(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mt=!0;else{if(!Ph(t,s)&&!(n.flags&128))return Mt=!1,pS(t,n,s);Mt=!!(t.flags&131072)}else Mt=!1,He&&n.flags&1048576&&rg(n,Au,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")Yh(l)?(t=Ra(l,t),n.tag=1,n=my(null,n,l,t,s)):(n.tag=0,n=Ch(null,n,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===I){n.tag=11,n=ly(null,n,l,t,s);break e}else if(f===F){n.tag=14,n=uy(null,n,l,t,s);break e}}throw n=C(l)||l,Error(a(306,n,""))}}return n;case 0:return Ch(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,f=Ra(l,n.pendingProps),my(t,n,l,f,s);case 3:e:{if(ti(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var m=n.pendingProps;f=n.memoizedState,l=f.element,Bh(t,n),Ko(n,m,null,s);var _=n.memoizedState;if(m=_.cache,bi(n,St,m),m!==f.cache&&kh(n,[St],s,!0),Qo(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(t,n,m,s);break e}else if(m!==l){l=Cn(Error(a(424)),n),Vo(l),n=py(t,n,m,s);break e}else for(Lt=qn(n.stateNode.containerInfo.firstChild),Jt=n,He=!0,Bn=null,ir=!0,s=hg(n,null,m,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(No(),m===l){n=Pr(t,n,s);break e}Ut(t,n,m,s)}n=n.child}return n;case 26:return Ho(t,n),t===null?(s=bv(n.type,null,n.pendingProps,null))?n.memoizedState=s:He||(s=n.type,t=n.pendingProps,l=rc(_n.current).createElement(s),l[Dt]=n,l[_t]=t,kt(l,s,t),et(l),n.stateNode=l):n.memoizedState=bv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return oo(n),t===null&&He&&(l=n.stateNode=_v(n.type,n.pendingProps,_n.current),Jt=n,ir=!0,Lt=qn(l.firstChild)),l=n.pendingProps.children,t!==null||He?Ut(t,n,l,s):n.child=Ta(n,null,l,s),Ho(t,n),n.child;case 5:return t===null&&He&&((f=l=Lt)&&(l=GS(l,n.type,n.pendingProps,ir),l!==null?(n.stateNode=l,Jt=n,Lt=qn(l.firstChild),ir=!1,f=!0):f=!1),f||Ea(n)),oo(n),f=n.type,m=n.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,Td(f,m)?l=null:_!==null&&Td(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=uh(t,n,lS,null,null,s),ll._currentValue=f),Ho(t,n),Ut(t,n,l,s),n.child;case 6:return t===null&&He&&((t=s=Lt)&&(s=QS(s,n.pendingProps,ir),s!==null?(n.stateNode=s,Jt=n,Lt=null,t=!0):t=!1),t||Ea(n)),null;case 13:return gy(t,n,s);case 4:return ti(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ta(n,null,l,s):Ut(t,n,l,s),n.child;case 11:return ly(t,n,n.type,n.pendingProps,s);case 7:return Ut(t,n,n.pendingProps,s),n.child;case 8:return Ut(t,n,n.pendingProps.children,s),n.child;case 12:return Ut(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bi(n,n.type,l.value),Ut(t,n,l.children,s),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Da(n),f=Ft(f),l=l(f),n.flags|=1,Ut(t,n,l,s),n.child;case 14:return uy(t,n,n.type,n.pendingProps,s);case 15:return cy(t,n,n.type,n.pendingProps,s);case 19:return vy(t,n,s);case 22:return fy(t,n,s);case 24:return Da(n),l=Ft(St),t===null?(f=oh(),f===null&&(f=We,m=ah(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:l,cache:f},zh(n),bi(n,St,f)):(t.lanes&s&&(Bh(t,n),Ko(n,null,null,s),Qo()),f=t.memoizedState,m=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),bi(n,St,l)):(l=m.cache,bi(n,St,l),l!==f.cache&&kh(n,[St],s,!0))),Ut(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Lh=je(null),Ca=null,Lr=null;function bi(t,n,s){Ke(Lh,n._currentValue),n._currentValue=s}function Ur(t){t._currentValue=Lh.current,st(Lh)}function Uh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function kh(t,n,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var O=0;O<n.length;O++)if(S.context===n[O]){m.lanes|=s,S=m.alternate,S!==null&&(S.lanes|=s),Uh(m.return,s,t),l||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,m=_.alternate,m!==null&&(m.lanes|=s),Uh(_,s,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Fo(t,n,s,l){t=null;for(var f=n,m=!1;f!==null;){if(!m){if(f.flags&524288)m=!0;else if(f.flags&262144)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=f.type;cn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===ei.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}f=f.return}t!==null&&kh(n,t,s,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Da(t){Ca=t,Lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Ey(Ca,t)}function qu(t,n){return Ca===null&&Da(t),Ey(t,n)}function Ey(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Lr===null){if(t===null)throw Error(a(308));Lr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Lr=Lr.next=n;return s}var Si=!1;function zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ai(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,nt&2){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=bu(t),tg(t,null,s),n}return Tu(t,l,n,s),bu(t)}function Go(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,oi(t,s)}}function jh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var qh=!1;function Qo(){if(qh){var t=Ss;if(t!==null)throw t}}function Ko(t,n,s,l){qh=!1;var f=t.updateQueue;Si=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,k=O.next;O.next=null,_===null?m=k:_.next=k,_=O;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=k:S.next=k,W.lastBaseUpdate=O))}if(m!==null){var re=f.baseState;_=0,W=k=O=null,S=m;do{var G=S.lane&-536870913,X=G!==S.lane;if(X?(ke&G)===G:(l&G)===G){G!==0&&G===bs&&(qh=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=t,we=S;G=n;var ct=s;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){re=ye.call(ct,re,G);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,G=typeof ye=="function"?ye.call(ct,re,G):ye,G==null)break e;re=M({},re,G);break e;case 2:Si=!0}}G=S.callback,G!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[G]:X.push(G))}else X={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(k=W=X,O=re):W=W.next=X,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(O=re),f.baseState=O,f.firstBaseUpdate=k,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Ii|=_,t.lanes=_,t.memoizedState=re}}function Ty(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function by(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ty(s[t],n)}function $o(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var m=s.create,_=s.inst;l=m(),_.destroy=l}s=s.next}while(s!==f)}}catch(S){Xe(n,n.return,S)}}function Ri(t,n,s){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=n;var O=s;try{S()}catch(k){Xe(f,O,k)}}}l=l.next}while(l!==m)}}catch(k){Xe(n,n.return,k)}}function Sy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{by(n,s)}catch(l){Xe(t,t.return,l)}}}function Ay(t,n,s){s.props=Ra(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xe(t,n,l)}}function Oa(t,n){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof s=="function"?t.refCleanup=s(f):s.current=f}}catch(m){Xe(t,n,m)}}function fn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Xe(t,n,f)}else s.current=null}function wy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Xe(t,t.return,f)}}function Ry(t,n,s){try{var l=t.stateNode;BS(l,t.type,s,n),l[_t]=n}catch(f){Xe(t,t.return,f)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Hh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=nc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function Hu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Hu(t,n,s),t=t.sibling;t!==null;)Hu(t,n,s),t=t.sibling}var kr=!1,lt=!1,Gh=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Nt=null,Oy=!1;function gS(t,n){if(t=t.containerInfo,_d=uc,t=Qp(t),Kf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var _=0,S=-1,O=-1,k=0,W=0,re=t,G=null;t:for(;;){for(var X;re!==s||f!==0&&re.nodeType!==3||(S=_+f),re!==m||l!==0&&re.nodeType!==3||(O=_+l),re.nodeType===3&&(_+=re.nodeValue.length),(X=re.firstChild)!==null;)G=re,re=X;for(;;){if(re===t)break t;if(G===s&&++k===f&&(S=_),G===m&&++W===l&&(O=_),(X=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=X}s=S===-1||O===-1?null:{start:S,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:t,selectionRange:s},uc=!1,Nt=n;Nt!==null;)if(n=Nt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Nt=t;else for(;Nt!==null;){switch(n=Nt,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var ye=Ra(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(ye,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){Xe(s,s.return,we)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ad(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Nt=t;break}Nt=n.return}return ye=Oy,Oy=!1,ye}function Iy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Br(t,s),l&4&&$o(5,s);break;case 1:if(Br(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(S){Xe(s,s.return,S)}else{var f=Ra(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Xe(s,s.return,S)}}l&64&&Sy(s),l&512&&Oa(s,s.return);break;case 3:if(Br(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{by(l,t)}catch(S){Xe(s,s.return,S)}}break;case 26:Br(t,s),l&512&&Oa(s,s.return);break;case 27:case 5:Br(t,s),n===null&&l&4&&wy(s),l&512&&Oa(s,s.return);break;case 12:Br(t,s);break;case 13:Br(t,s),l&4&&Vy(t,s);break;case 22:if(f=s.memoizedState!==null||kr,!f){n=n!==null&&n.memoizedState!==null||lt;var m=kr,_=lt;kr=f,(lt=n)&&!_?Ci(t,s,(s.subtreeFlags&8772)!==0):Br(t,s),kr=m,lt=_}l&512&&(s.memoizedProps.mode==="manual"?Oa(s,s.return):fn(s,s.return));break;default:Br(t,s)}}function My(t){var n=t.alternate;n!==null&&(t.alternate=null,My(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,hn=!1;function zr(t,n,s){for(s=s.child;s!==null;)Ny(t,n,s),s=s.sibling}function Ny(t,n,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ni,s)}catch{}switch(s.tag){case 26:lt||fn(s,n),zr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:lt||fn(s,n);var l=gt,f=hn;for(gt=s.stateNode,zr(t,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);aa(s),gt=l,hn=f;break;case 5:lt||fn(s,n);case 6:f=gt;var m=hn;if(gt=null,zr(t,n,s),gt=f,hn=m,gt!==null)if(hn)try{t=gt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Xe(s,n,_)}else try{gt.removeChild(s.stateNode)}catch(_){Xe(s,n,_)}break;case 18:gt!==null&&(hn?(n=gt,s=s.stateNode,n.nodeType===8?Sd(n.parentNode,s):n.nodeType===1&&Sd(n,s),hl(n)):Sd(gt,s.stateNode));break;case 4:l=gt,f=hn,gt=s.stateNode.containerInfo,hn=!0,zr(t,n,s),gt=l,hn=f;break;case 0:case 11:case 14:case 15:lt||Ri(2,s,n),lt||Ri(4,s,n),zr(t,n,s);break;case 1:lt||(fn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ay(s,n,l)),zr(t,n,s);break;case 21:zr(t,n,s);break;case 22:lt||fn(s,n),lt=(l=lt)||s.memoizedState!==null,zr(t,n,s),lt=l;break;default:zr(t,n,s)}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hl(t)}catch(s){Xe(n,n.return,s)}}function yS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(a(435,t.tag))}}function Qh(t,n){var s=yS(t);n.forEach(function(l){var f=IS.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Mn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],m=t,_=n,S=_;e:for(;S!==null;){switch(S.tag){case 27:case 5:gt=S.stateNode,hn=!1;break e;case 3:gt=S.stateNode.containerInfo,hn=!0;break e;case 4:gt=S.stateNode.containerInfo,hn=!0;break e}S=S.return}if(gt===null)throw Error(a(160));Ny(m,_,f),gt=null,hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var jn=null;function xy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Nn(t),l&4&&(Ri(3,t,t.return),$o(3,t),Ri(5,t,t.return));break;case 1:Mn(n,t),Nn(t),l&512&&(lt||s===null||fn(s,s.return)),l&64&&kr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=jn;if(Mn(n,t),Nn(t),l&512&&(lt||s===null||fn(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ui]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),kt(m,l,s),m[Dt]=t,et(m),l=m;break e;case"link":var _=wv("link","href",f).get(l+(s.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(s.href==null?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(l),kt(m,l,s),f.head.appendChild(m);break;case"meta":if(_=wv("meta","content",f).get(l+(s.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(S,1);break t}}m=f.createElement(l),kt(m,l,s),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[Dt]=t,et(m),l=m}t.stateNode=l}else Rv(f,t.type,t.stateNode);else t.stateNode=Av(f,l,t.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?Rv(f,t.type,t.stateNode):Av(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ry(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,m=t.memoizedProps;try{for(var O=f.firstChild;O;){var k=O.nextSibling,W=O.nodeName;O[ui]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=k}for(var re=t.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);kt(f,re,m),f[Dt]=t,f[_t]=m}catch(ye){Xe(t,t.return,ye)}}case 5:if(Mn(n,t),Nn(t),l&512&&(lt||s===null||fn(s,s.return)),t.flags&32){f=t.stateNode;try{bn(f,"")}catch(ye){Xe(t,t.return,ye)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ry(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Gh=!0);break;case 6:if(Mn(n,t),Nn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ye){Xe(t,t.return,ye)}}break;case 3:if(sc=null,f=jn,jn=ic(n.containerInfo),Mn(n,t),jn=f,Nn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(ye){Xe(t,t.return,ye)}Gh&&(Gh=!1,Py(t));break;case 4:l=jn,jn=ic(t.stateNode.containerInfo),Mn(n,t),Nn(t),jn=l;break;case 12:Mn(n,t),Nn(t);break;case 13:Mn(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(td=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 22:if(l&512&&(lt||s===null||fn(s,s.return)),O=t.memoizedState!==null,k=s!==null&&s.memoizedState!==null,W=kr,re=lt,kr=W||O,lt=re||k,Mn(n,t),lt=re,kr=W,Nn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=O?n._visibility&-2:n._visibility|1,O&&(n=kr||lt,s===null||k||n||Cs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){k=s=n;try{if(f=k.stateNode,O)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=k.stateNode,S=k.memoizedProps.style;var X=S!=null&&S.hasOwnProperty("display")?S.display:null;_.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ye){Xe(k,k.return,ye)}}}else if(n.tag===6){if(s===null){k=n;try{k.stateNode.nodeValue=O?"":k.memoizedProps}catch(ye){Xe(k,k.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Qh(t,s))));break;case 19:Mn(n,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 21:break;default:Mn(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(Cy(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var f=l.stateNode,m=Hh(t);Hu(t,m,f);break;case 5:var _=l.stateNode;l.flags&32&&(bn(_,""),l.flags&=-33);var S=Hh(t);Hu(t,S,_);break;case 3:case 4:var O=l.stateNode.containerInfo,k=Hh(t);Fh(t,k,O);break;default:throw Error(a(161))}}}catch(W){Xe(t,t.return,W)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Br(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function Cs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ri(4,n,n.return),Cs(n);break;case 1:fn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ay(n,n.return,s),Cs(n);break;case 26:case 27:case 5:fn(n,n.return),Cs(n);break;case 22:fn(n,n.return),n.memoizedState===null&&Cs(n);break;default:Cs(n)}t=t.sibling}}function Ci(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,m=n,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ci(f,m,s),$o(4,m);break;case 1:if(Ci(f,m,s),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(k){Xe(l,l.return,k)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Ty(O[f],S)}catch(k){Xe(l,l.return,k)}}s&&_&64&&Sy(m),Oa(m,m.return);break;case 26:case 27:case 5:Ci(f,m,s),s&&l===null&&_&4&&wy(m),Oa(m,m.return);break;case 12:Ci(f,m,s);break;case 13:Ci(f,m,s),s&&_&4&&Vy(f,m);break;case 22:m.memoizedState===null&&Ci(f,m,s),Oa(m,m.return);break;default:Ci(f,m,s)}n=n.sibling}}function Kh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ko(s))}function $h(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ko(t))}function Di(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,s,l),n=n.sibling}function Ly(t,n,s,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Di(t,n,s,l),f&2048&&$o(9,n);break;case 3:Di(t,n,s,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ko(t)));break;case 12:if(f&2048){Di(t,n,s,l),t=n.stateNode;try{var m=n.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xe(n,n.return,O)}}else Di(t,n,s,l);break;case 23:break;case 22:m=n.stateNode,n.memoizedState!==null?m._visibility&4?Di(t,n,s,l):Yo(t,n):m._visibility&4?Di(t,n,s,l):(m._visibility|=4,Ds(t,n,s,l,(n.subtreeFlags&10256)!==0)),f&2048&&Kh(n.alternate,n);break;case 24:Di(t,n,s,l),f&2048&&$h(n.alternate,n);break;default:Di(t,n,s,l)}}function Ds(t,n,s,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,_=n,S=s,O=l,k=_.flags;switch(_.tag){case 0:case 11:case 15:Ds(m,_,S,O,f),$o(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?Ds(m,_,S,O,f):Yo(m,_):(W._visibility|=4,Ds(m,_,S,O,f)),f&&k&2048&&Kh(_.alternate,_);break;case 24:Ds(m,_,S,O,f),f&&k&2048&&$h(_.alternate,_);break;default:Ds(m,_,S,O,f)}n=n.sibling}}function Yo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,f=l.flags;switch(l.tag){case 22:Yo(s,l),f&2048&&Kh(l.alternate,l);break;case 24:Yo(s,l),f&2048&&$h(l.alternate,l);break;default:Yo(s,l)}n=n.sibling}}var Xo=8192;function Os(t){if(t.subtreeFlags&Xo)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 26:Os(t),t.flags&Xo&&t.memoizedState!==null&&aA(jn,t.memoizedState,t.memoizedProps);break;case 5:Os(t);break;case 3:case 4:var n=jn;jn=ic(t.stateNode.containerInfo),Os(t),jn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Xo,Xo=16777216,Os(t),Xo=n):Os(t));break;default:Os(t)}}function ky(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Wo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Nt=l,By(l,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:Wo(t),t.flags&2048&&Ri(9,t,t.return);break;case 3:Wo(t);break;case 12:Wo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Fu(t)):Wo(t);break;default:Wo(t)}}function Fu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Nt=l,By(l,t)}ky(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ri(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,Fu(n));break;default:Fu(n)}t=t.sibling}}function By(t,n){for(;Nt!==null;){var s=Nt;switch(s.tag){case 0:case 11:case 15:Ri(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ko(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Nt=l;else e:for(s=t;Nt!==null;){l=Nt;var f=l.sibling,m=l.return;if(My(l),l===s){Nt=null;break e}if(f!==null){f.return=m,Nt=f;break e}Nt=m}}}function vS(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,s,l){return new vS(t,n,s,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oi(t,n){var s=t.alternate;return s===null?(s=Vn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jy(t,n){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,s,l,f,m){var _=0;if(l=t,typeof t=="function")Yh(t)&&(_=1);else if(typeof t=="string")_=rA(t,s,Yt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ia(s.children,f,m,n);case g:_=8,f|=24;break;case E:return t=Vn(12,s,n,f|2),t.elementType=E,t.lanes=m,t;case q:return t=Vn(13,s,n,f),t.elementType=q,t.lanes=m,t;case P:return t=Vn(19,s,n,f),t.elementType=P,t.lanes=m,t;case $:return qy(s,f,m,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case R:_=10;break e;case b:_=9;break e;case I:_=11;break e;case F:_=14;break e;case Y:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Vn(_,s,n,f),n.elementType=t,n.type=l,n.lanes=m,n}function Ia(t,n,s,l){return t=Vn(7,t,l,n),t.lanes=s,t}function qy(t,n,s,l){t=Vn(22,t,l,n),t.elementType=$,t.lanes=s;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(a(456));if(!(f._pendingVisibility&2)){var _=yi(m,2);_!==null&&(f._pendingVisibility|=2,en(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(a(456));if(f._pendingVisibility&2){var _=yi(m,2);_!==null&&(f._pendingVisibility&=-3,en(_,m,2))}}};return t.stateNode=f,t}function Xh(t,n,s){return t=Vn(6,t,null,n),t.lanes=s,t}function Wh(t,n,s){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function jr(t){t.flags|=4}function Hy(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Cv(n)){if(n=In.current,n!==null&&((ke&4194176)===ke?ar!==null:(ke&62914560)!==ke&&!(ke&536870912)||n!==ar))throw Po=nh,sg;t.flags|=8192}}function Qu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ai():536870912,t.lanes|=n,Ms|=n)}function Zo(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function _S(t,n,s){var l=n.pendingProps;switch(eh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ur(St),Er(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Mo(n)?jr(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Bn!==null&&(ad(Bn),Bn=null))),tt(n),null;case 26:return s=n.memoizedState,t===null?(jr(n),s!==null?(tt(n),Hy(n,s)):(tt(n),n.flags&=-16777217)):s?s!==t.memoizedState?(jr(n),tt(n),Hy(n,s)):(tt(n),n.flags&=-16777217):(t.memoizedProps!==l&&jr(n),tt(n),n.flags&=-16777217),null;case 27:Xa(n),s=_n.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&jr(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}t=Yt.current,Mo(n)?ig(n):(t=_v(f,l,s),n.stateNode=t,jr(n))}return tt(n),null;case 5:if(Xa(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&jr(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}if(t=Yt.current,Mo(n))ig(n);else{switch(f=rc(_n.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[Dt]=n,t[_t]=l;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;e:switch(kt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&jr(n)}}return tt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&jr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=_n.current,Mo(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||dv(t.nodeValue,s)),t||Ea(n)}else t=rc(t).createTextNode(l),t[Dt]=n,n.stateNode=t}return tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Mo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Dt]=n}else No(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;tt(n),f=!1}else Bn!==null&&(ad(Bn),Bn=null),f=!0;if(!f)return n.flags&256?(Vr(n),n):(Vr(n),null)}if(Vr(n),n.flags&128)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),tt(n),null;case 4:return Er(),t===null&&gd(n.stateNode.containerInfo),tt(n),null;case 10:return Ur(n.type),tt(n),null;case 19:if(st(bt),f=n.memoizedState,f===null)return tt(n),null;if(l=(n.flags&128)!==0,m=f.rendering,m===null)if(l)Zo(f,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(m=Ou(t),m!==null){for(n.flags|=128,Zo(f,!1),t=m.updateQueue,n.updateQueue=t,Qu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)jy(s,t),s=s.sibling;return Ke(bt,bt.current&1|2),n.child}t=t.sibling}f.tail!==null&&tn()>Ku&&(n.flags|=128,l=!0,Zo(f,!1),n.lanes=4194304)}else{if(!l)if(t=Ou(m),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Qu(n,t),Zo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!He)return tt(n),null}else 2*tn()-f.renderingStartTime>Ku&&s!==536870912&&(n.flags|=128,l=!0,Zo(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(t=f.last,t!==null?t.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=tn(),n.sibling=null,t=bt.current,Ke(bt,l?t&1|2:t&1),n):(tt(n),null);case 22:case 23:return Vr(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?s&536870912&&!(n.flags&128)&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&st(ba),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ur(St),tt(n),null;case 25:return null}throw Error(a(156,n.tag))}function ES(t,n){switch(eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ur(St),Er(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xa(n),null;case 13:if(Vr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));No()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return st(bt),null;case 4:return Er(),null;case 10:return Ur(n.type),null;case 22:case 23:return Vr(n),ih(),t!==null&&st(ba),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ur(St),null;case 25:return null;default:return null}}function Fy(t,n){switch(eh(n),n.tag){case 3:Ur(St),Er();break;case 26:case 27:case 5:Xa(n);break;case 4:Er();break;case 13:Vr(n);break;case 19:st(bt);break;case 10:Ur(n.type);break;case 22:case 23:Vr(n),ih(),t!==null&&st(ba);break;case 24:Ur(St)}}var TS={getCacheForType:function(t){var n=Ft(St),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},bS=typeof WeakMap=="function"?WeakMap:Map,nt=0,We=null,Ne=null,ke=0,Ze=0,dn=null,qr=!1,Is=!1,Zh=!1,Hr=0,ut=0,Ii=0,Ma=0,Jh=0,xn=0,Ms=0,Jo=null,or=null,ed=!1,td=0,Ku=1/0,$u=null,Mi=null,Yu=!1,Na=null,el=0,nd=0,rd=null,tl=0,id=null;function mn(){if(nt&2&&ke!==0)return ke&-ke;if(w.T!==null){var t=bs;return t!==0?t:hd()}return tu()}function Gy(){xn===0&&(xn=!(ke&536870912)||He?ho():536870912);var t=In.current;return t!==null&&(t.flags|=32),xn}function en(t,n,s){(t===We&&Ze===2||t.cancelPendingCommit!==null)&&(Ns(t,0),Fr(t,ke,xn,!1)),ft(t,s),(!(nt&2)||t!==We)&&(t===We&&(!(nt&2)&&(Ma|=s),ut===4&&Fr(t,ke,xn,!1)),lr(t))}function Qy(t,n,s){if(nt&6)throw Error(a(327));var l=!s&&(n&60)===0&&(n&t.expiredLanes)===0||ii(t,n),f=l?wS(t,n):ld(t,n,!0),m=l;do{if(f===0){Is&&!l&&Fr(t,n,0,!1);break}else if(f===6)Fr(t,n,0,!qr);else{if(s=t.current.alternate,m&&!SS(s)){f=ld(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var S=t;f=Jo;var O=S.current.memoizedState.isDehydrated;if(O&&(Ns(S,_).flags|=256),_=ld(S,_,!1),_!==2){if(Zh&&!O){S.errorRecoveryDisabledLanes|=m,Ma|=m,f=4;break e}m=or,or=f,m!==null&&ad(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){Ns(t,0),Fr(t,n,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Fr(l,n,xn,!qr);break e}break;case 2:or=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(m=td+300-tn(),10<m)){if(Fr(l,n,xn,!qr),En(l,0)!==0)break e;l.timeoutHandle=gv(Ky.bind(null,l,s,or,$u,ed,n,xn,Ma,Ms,qr,2,-0,0),m);break e}Ky(l,s,or,$u,ed,n,xn,Ma,Ms,qr,0,-0,0)}}break}while(!0);lr(t)}function ad(t){or===null?or=t:or.push.apply(or,t)}function Ky(t,n,s,l,f,m,_,S,O,k,W,re,G){var X=n.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:iA},Uy(n),n=sA(),n!==null)){t.cancelPendingCommit=n(ev.bind(null,t,s,l,f,_,S,O,1,re,G)),Fr(t,m,_,!k);return}ev(t,s,l,f,_,S,O,W,re,G)}function SS(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],m=f.getSnapshot;f=f.value;try{if(!cn(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fr(t,n,s,l){n&=~Jh,n&=~Ma,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var m=31-Xt(f),_=1<<m;l[m]=-1,f&=~_}s!==0&&si(t,s,n)}function Xu(){return nt&6?!0:(nl(0),!1)}function sd(){if(Ne!==null){if(Ze===0)var t=Ne.return;else t=Ne,Lr=Ca=null,hh(t),Es=null,Lo=0,t=Ne;for(;t!==null;)Fy(t.alternate,t),t=t.return;Ne=null}}function Ns(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,qS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),sd(),We=t,Ne=s=Oi(t.current,null),ke=n,Ze=0,dn=null,qr=!1,Is=ii(t,n),Zh=!1,Ms=xn=Jh=Ma=Ii=ut=0,or=Jo=null,ed=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-Xt(l),m=1<<f;n|=t[f],l&=~m}return Hr=n,Eu(),s}function $y(t,n){Ie=null,w.H=sr,n===xo?(n=ug(),Ze=3):n===sg?(n=ug(),Ze=4):Ze=n===oy?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Ne===null&&(ut=1,Bu(t,Cn(n,t.current)))}function Yy(){var t=w.H;return w.H=sr,t===null?sr:t}function Xy(){var t=w.A;return w.A=TS,t}function od(){ut=4,qr||(ke&4194176)!==ke&&In.current!==null||(Is=!0),!(Ii&134217727)&&!(Ma&134217727)||We===null||Fr(We,ke,xn,!1)}function ld(t,n,s){var l=nt;nt|=2;var f=Yy(),m=Xy();(We!==t||ke!==n)&&($u=null,Ns(t,n)),n=!1;var _=ut;e:do try{if(Ze!==0&&Ne!==null){var S=Ne,O=dn;switch(Ze){case 8:sd(),_=6;break e;case 3:case 2:case 6:In.current===null&&(n=!0);var k=Ze;if(Ze=0,dn=null,Vs(t,S,O,k),s&&Is){_=0;break e}break;default:k=Ze,Ze=0,dn=null,Vs(t,S,O,k)}}AS(),_=ut;break}catch(W){$y(t,W)}while(!0);return n&&t.shellSuspendCounter++,Lr=Ca=null,nt=l,w.H=f,w.A=m,Ne===null&&(We=null,ke=0,Eu()),_}function AS(){for(;Ne!==null;)Wy(Ne)}function wS(t,n){var s=nt;nt|=2;var l=Yy(),f=Xy();We!==t||ke!==n?($u=null,Ku=tn()+500,Ns(t,n)):Is=ii(t,n);e:do try{if(Ze!==0&&Ne!==null){n=Ne;var m=dn;t:switch(Ze){case 1:Ze=0,dn=null,Vs(t,n,m,1);break;case 2:if(og(m)){Ze=0,dn=null,Zy(n);break}n=function(){Ze===2&&We===t&&(Ze=7),lr(t)},m.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:og(m)?(Ze=0,dn=null,Zy(n)):(Ze=0,dn=null,Vs(t,n,m,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(!_||Cv(_)){Ze=0,dn=null;var O=S.sibling;if(O!==null)Ne=O;else{var k=S.return;k!==null?(Ne=k,Wu(k)):Ne=null}break t}}Ze=0,dn=null,Vs(t,n,m,5);break;case 6:Ze=0,dn=null,Vs(t,n,m,6);break;case 8:sd(),ut=6;break e;default:throw Error(a(462))}}RS();break}catch(W){$y(t,W)}while(!0);return Lr=Ca=null,w.H=l,w.A=f,nt=s,Ne!==null?0:(We=null,ke=0,Eu(),ut)}function RS(){for(;Ne!==null&&!Lf();)Wy(Ne)}function Wy(t){var n=_y(t.alternate,t,Hr);t.memoizedProps=t.pendingProps,n===null?Wu(t):Ne=n}function Zy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=dy(s,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=dy(s,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:hh(n);default:Fy(s,n),n=Ne=jy(n,Hr),n=_y(s,n,Hr)}t.memoizedProps=t.pendingProps,n===null?Wu(t):Ne=n}function Vs(t,n,s,l){Lr=Ca=null,hh(n),Es=null,Lo=0;var f=n.return;try{if(mS(t,f,n,s,ke)){ut=1,Bu(t,Cn(s,t.current)),Ne=null;return}}catch(m){if(f!==null)throw Ne=f,m;ut=1,Bu(t,Cn(s,t.current)),Ne=null;return}n.flags&32768?(He||l===1?t=!0:Is||ke&536870912?t=!1:(qr=t=!0,(l===2||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(n,t)):Wu(n)}function Wu(t){var n=t;do{if(n.flags&32768){Jy(n,qr);return}t=n.return;var s=_S(n.alternate,n,Hr);if(s!==null){Ne=s;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ut===0&&(ut=5)}function Jy(t,n){do{var s=ES(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);ut=6,Ne=null}function ev(t,n,s,l,f,m,_,S,O,k){var W=w.T,re=de.p;try{de.p=2,w.T=null,CS(t,n,s,l,re,f,m,_,S,O,k)}finally{w.T=W,de.p=re}}function CS(t,n,s,l,f,m,_,S){do xs();while(Na!==null);if(nt&6)throw Error(a(327));var O=t.finishedWork;if(l=t.finishedLanes,O===null)return null;if(t.finishedWork=null,t.finishedLanes=0,O===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=O.lanes|O.childLanes;if(k|=Wf,Jl(t,l,k,m,_,S),t===We&&(Ne=We=null,ke=0),!(O.subtreeFlags&10256)&&!(O.flags&10256)||Yu||(Yu=!0,nd=k,rd=s,MS(Tr,function(){return xs(),null})),s=(O.flags&15990)!==0,O.subtreeFlags&15990||s?(s=w.T,w.T=null,m=de.p,de.p=2,_=nt,nt|=4,gS(t,O),xy(O,t),Wb(Ed,t.containerInfo),uc=!!_d,Ed=_d=null,t.current=O,Iy(t,O.alternate,O),lo(),nt=_,de.p=m,w.T=s):t.current=O,Yu?(Yu=!1,Na=t,el=l):tv(t,k),k=t.pendingLanes,k===0&&(Mi=null),co(O.stateNode),lr(t),n!==null)for(f=t.onRecoverableError,O=0;O<n.length;O++)k=n[O],f(k.value,{componentStack:k.stack});return el&3&&xs(),k=t.pendingLanes,l&4194218&&k&42?t===id?tl++:(tl=0,id=t):tl=0,nl(0),null}function tv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ko(n)))}function xs(){if(Na!==null){var t=Na,n=nd;nd=0;var s=eu(el),l=w.T,f=de.p;try{if(de.p=32>s?32:s,w.T=null,Na===null)var m=!1;else{s=rd,rd=null;var _=Na,S=el;if(Na=null,el=0,nt&6)throw Error(a(331));var O=nt;if(nt|=4,zy(_.current),Ly(_,_.current,S,s),nt=O,nl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ni,_)}catch{}m=!0}return m}finally{de.p=f,w.T=l,tv(t,n)}}return!1}function nv(t,n,s){n=Cn(s,n),n=Rh(t.stateNode,n,2),t=wi(t,n,2),t!==null&&(ft(t,2),lr(t))}function Xe(t,n,s){if(t.tag===3)nv(t,t,s);else for(;n!==null;){if(n.tag===3){nv(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){t=Cn(s,t),s=ay(2),l=wi(n,s,2),l!==null&&(sy(s,l,n,t),ft(l,2),lr(l));break}}n=n.return}}function ud(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new bS;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(Zh=!0,f.add(s),t=DS.bind(null,t,n,s),n.then(t,t))}function DS(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,We===t&&(ke&s)===s&&(ut===4||ut===3&&(ke&62914560)===ke&&300>tn()-td?!(nt&2)&&Ns(t,0):Jh|=s,Ms===ke&&(Ms=0)),lr(t)}function rv(t,n){n===0&&(n=ai()),t=yi(t,n),t!==null&&(ft(t,n),lr(t))}function OS(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),rv(t,s)}function IS(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),rv(t,s)}function MS(t,n){return na(t,n)}var Zu=null,Ps=null,cd=!1,Ju=!1,fd=!1,Va=0;function lr(t){t!==Ps&&t.next===null&&(Ps===null?Zu=Ps=t:Ps=Ps.next=t),Ju=!0,cd||(cd=!0,VS(NS))}function nl(t,n){if(!fd&&Ju){fd=!0;do for(var s=!1,l=Zu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Xt(42|t)+1)-1,m&=f&~(_&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(s=!0,sv(l,m))}else m=ke,m=En(l,l===We?m:0),!(m&3)||ii(l,m)||(s=!0,sv(l,m));l=l.next}while(s);fd=!1}}function NS(){Ju=cd=!1;var t=0;Va!==0&&(jS()&&(t=Va),Va=0);for(var n=tn(),s=null,l=Zu;l!==null;){var f=l.next,m=iv(l,n);m===0?(l.next=null,s===null?Zu=f:s.next=f,f===null&&(Ps=s)):(s=l,(t!==0||m&3)&&(Ju=!0)),l=f}nl(t)}function iv(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-Xt(m),S=1<<_,O=f[_];O===-1?(!(S&s)||S&l)&&(f[_]=Ja(S,n)):O<=n&&(t.expiredLanes|=S),m&=~S}if(n=We,s=ke,s=En(t,t===n?s:0),l=t.callbackNode,s===0||t===n&&Ze===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Za(l),t.callbackNode=null,t.callbackPriority=0;if(!(s&3)||ii(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Za(l),eu(s)){case 2:case 8:s=Ct;break;case 32:s=Tr;break;case 268435456:s=uo;break;default:s=Tr}return l=av.bind(null,t),s=na(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Za(l),t.callbackPriority=2,t.callbackNode=null,2}function av(t,n){var s=t.callbackNode;if(xs()&&t.callbackNode!==s)return null;var l=ke;return l=En(t,t===We?l:0),l===0?null:(Qy(t,l,n),iv(t,tn()),t.callbackNode!=null&&t.callbackNode===s?av.bind(null,t):null)}function sv(t,n){if(xs())return null;Qy(t,n,!0)}function VS(t){HS(function(){nt&6?na(vt,t):t()})}function hd(){return Va===0&&(Va=ho()),Va}function ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wn(""+t)}function lv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function xS(t,n,s,l,f){if(n==="submit"&&s&&s.stateNode===f){var m=ov((f[_t]||null).action),_=l.submitter;_&&(n=(n=_[_t]||null)?ov(n.formAction):_.getAttribute("formAction"),n!==null&&(m=n,_=null));var S=new ss("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Va!==0){var O=_?lv(f,_):new FormData(f);Th(s,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(S.preventDefault(),O=_?lv(f,_):new FormData(f),Th(s,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var dd=0;dd<eg.length;dd++){var md=eg[dd],PS=md.toLowerCase(),LS=md[0].toUpperCase()+md.slice(1);zn(PS,"on"+LS)}zn(Yp,"onAnimationEnd"),zn(Xp,"onAnimationIteration"),zn(Wp,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Jb,"onTransitionRun"),zn(eS,"onTransitionStart"),zn(tS,"onTransitionCancel"),zn(Zp,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),US=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function uv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var m=void 0;if(n)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,k=S.currentTarget;if(S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=k;try{m(f)}catch(W){zu(W)}f.currentTarget=null,m=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,k=S.currentTarget,S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=k;try{m(f)}catch(W){zu(W)}f.currentTarget=null,m=O}}}}function xe(t,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var l=t+"__bubble";s.has(l)||(cv(n,t,2,!1),s.add(l))}function pd(t,n,s){var l=0;n&&(l|=4),cv(s,t,l,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[ec]){t[ec]=!0,po.forEach(function(s){s!=="selectionchange"&&(US.has(s)||pd(s,!1,t),pd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ec]||(n[ec]=!0,pd("selectionchange",!1,n))}}function cv(t,n,s,l){switch(Vv(n)){case 2:var f=uA;break;case 8:f=cA;break;default:f=Od}s=f.bind(null,n,s,t),f=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function yd(t,n,s,l,f){var m=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;_=_.return}for(;S!==null;){if(_=kn(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=m=_;continue e}S=S.parentNode}}l=l.return}au(function(){var k=m,W=as(s),re=[];e:{var G=Jp.get(t);if(G!==void 0){var X=ss,ye=t;switch(t){case"keypress":if(Jn(s)===0)break e;case"keydown":case"keyup":X=hs;break;case"focusin":ye="focus",X=us;break;case"focusout":ye="blur",X=us;break;case"beforeblur":case"afterblur":X=us;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=du;break;case Yp:case Xp:case Wp:X=cs;break;case Zp:X=pu;break;case"scroll":case"scrollend":X=su;break;case"wheel":X=ds;break;case"copy":case"cut":case"paste":X=fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Co;break;case"toggle":case"beforetoggle":X=yu}var we=(n&4)!==0,ct=!we&&(t==="scroll"||t==="scrollend"),z=we?G!==null?G+"Capture":null:G;we=[];for(var U=k,H;U!==null;){var J=U;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=ua(U,z),J!=null&&we.push(il(U,J,H))),ct)break;U=U.return}0<we.length&&(G=new X(G,ye,null,s,W),re.push({event:G,listeners:we}))}}if(!(n&7)){e:{if(G=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",G&&s!==Sn&&(ye=s.relatedTarget||s.fromElement)&&(kn(ye)||ye[br]))break e;if((X||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,X?(ye=s.relatedTarget||s.toElement,X=k,ye=ye?kn(ye):null,ye!==null&&(ct=ne(ye),we=ye.tag,ye!==ct||we!==5&&we!==27&&we!==6)&&(ye=null)):(X=null,ye=k),X!==ye)){if(we=wn,J="onMouseLeave",z="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(we=Co,J="onPointerLeave",z="onPointerEnter",U="pointer"),ct=X==null?G:ci(X),H=ye==null?G:ci(ye),G=new we(J,U+"leave",X,s,W),G.target=ct,G.relatedTarget=H,J=null,kn(W)===k&&(we=new we(z,U+"enter",ye,s,W),we.target=H,we.relatedTarget=ct,J=we),ct=J,X&&ye)t:{for(we=X,z=ye,U=0,H=we;H;H=Ls(H))U++;for(H=0,J=z;J;J=Ls(J))H++;for(;0<U-H;)we=Ls(we),U--;for(;0<H-U;)z=Ls(z),H--;for(;U--;){if(we===z||z!==null&&we===z.alternate)break t;we=Ls(we),z=Ls(z)}we=null}else we=null;X!==null&&fv(re,G,X,we,!1),ye!==null&&ct!==null&&fv(re,ct,ye,we,!0)}}e:{if(G=k?ci(k):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var ge=kp;else if(Tt(G))if(zp)ge=Yb;else{ge=Kb;var Me=Qb}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?k&&Eo(k.elementType)&&(ge=kp):ge=$b;if(ge&&(ge=ge(t,k))){Ir(re,ge,s,W);break e}Me&&Me(t,G,k),t==="focusout"&&k&&G.type==="number"&&k.memoizedProps.value!=null&&is(G,"number",G.value)}switch(Me=k?ci(k):window,t){case"focusin":(Tt(Me)||Me.contentEditable==="true")&&(ms=Me,$f=k,Io=null);break;case"focusout":Io=$f=ms=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Kp(re,s,W);break;case"selectionchange":if(Zb)break;case"keydown":case"keyup":Kp(re,s,W)}var ve;if(nr)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?K(t,s)&&(be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(v&&s.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(ve=bo()):(Zn=W,gi="value"in Zn?Zn.value:Zn.textContent,Le=!0)),Me=tc(k,be),0<Me.length&&(be=new wo(be,t,null,s,W),re.push({event:be,listeners:Me}),ve?be.data=ve:(ve=ce(s),ve!==null&&(be.data=ve)))),(ve=y?Et(t,s):Ue(t,s))&&(be=tc(k,"onBeforeInput"),0<be.length&&(Me=new wo("onBeforeInput","beforeinput",null,s,W),re.push({event:Me,listeners:be}),Me.data=ve)),xS(re,t,k,s,W)}uv(re,n)})}function il(t,n,s){return{instance:t,listener:n,currentTarget:s}}function tc(t,n){for(var s=n+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ua(t,s),f!=null&&l.unshift(il(t,f,m)),f=ua(t,n),f!=null&&l.push(il(t,f,m))),t=t.return}return l}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fv(t,n,s,l,f){for(var m=n._reactName,_=[];s!==null&&s!==l;){var S=s,O=S.alternate,k=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||k===null||(O=k,f?(k=ua(s,m),k!=null&&_.unshift(il(s,k,O))):f||(k=ua(s,m),k!=null&&_.push(il(s,k,O)))),s=s.return}_.length!==0&&t.push({event:n,listeners:_})}var kS=/\r\n?/g,zS=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(kS,`
`).replace(zS,"")}function dv(t,n){return n=hv(n),hv(t)===n}function nc(){}function Ye(t,n,s,l,f,m){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":di(t,"class",l);break;case"tabIndex":di(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":di(t,s,l);break;case"style":iu(t,l,m);break;case"data":if(n!=="object"){di(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Wn(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Ye(t,n,"name",f.name,f,null),Ye(t,n,"formEncType",f.formEncType,f,null),Ye(t,n,"formMethod",f.formMethod,f,null),Ye(t,n,"formTarget",f.formTarget,f,null)):(Ye(t,n,"encType",f.encType,f,null),Ye(t,n,"method",f.method,f,null),Ye(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Wn(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=nc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Wn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=jf.get(s)||s,hi(t,s,l))}}function vd(t,n,s,l,f,m){switch(s){case"style":iu(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ns.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[_t]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):hi(t,s,l)}}}function kt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var _=s[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,m,_,s,null)}}f&&Ye(t,n,"srcSet",s.srcSet,s,null),l&&Ye(t,n,"src",s.src,s,null);return;case"input":xe("invalid",t);var S=m=_=f=null,O=null,k=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":O=W;break;case"defaultChecked":k=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,n));break;default:Ye(t,n,l,W,s,null)}}oa(t,m,S,O,k,_,f,!1),sa(t);return;case"select":xe("invalid",t),l=_=m=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ye(t,n,f,S,s,null)}n=m,s=_,t.multiple=!!l,n!=null?qe(t,!!l,n,!1):s!=null&&qe(t,!!l,s,!0);return;case"textarea":xe("invalid",t),m=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(S=s[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Ye(t,n,_,S,s,null)}pi(t,l,f,m),sa(t);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,n,O,l,s,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<rl.length;l++)xe(rl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,k,l,s,null)}return;default:if(Eo(n)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&vd(t,n,W,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&Ye(t,n,S,l,s,null))}function BS(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,O=null,k=null,W=null;for(X in s){var re=s[X];if(s.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=re;default:l.hasOwnProperty(X)||Ye(t,n,X,null,l,re)}}for(var G in l){var X=l[G];if(re=s[G],l.hasOwnProperty(G)&&(X!=null||re!=null))switch(G){case"type":m=X;break;case"name":f=X;break;case"checked":k=X;break;case"defaultChecked":W=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:X!==re&&Ye(t,n,G,X,l,re)}}mi(t,_,S,O,k,W,m,f);return;case"select":X=_=S=G=null;for(m in s)if(O=s[m],s.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(m)||Ye(t,n,m,null,l,O)}for(f in l)if(m=l[f],O=s[f],l.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==O&&Ye(t,n,f,m,l,O)}n=S,s=_,l=X,G!=null?qe(t,!!s,G,!1):!!l!=!!s&&(n!=null?qe(t,!!s,n,!0):qe(t,!!s,s?[]:"",!1));return;case"textarea":X=G=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ye(t,n,S,null,l,f)}for(_ in l)if(f=l[_],m=s[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Ye(t,n,_,f,l,m)}la(t,G,X);return;case"option":for(var ye in s)if(G=s[ye],s.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:Ye(t,n,ye,null,l,G)}for(O in l)if(G=l[O],X=s[O],l.hasOwnProperty(O)&&G!==X&&(G!=null||X!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ye(t,n,O,G,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in s)G=s[we],s.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we)&&Ye(t,n,we,null,l,G);for(k in l)if(G=l[k],X=s[k],l.hasOwnProperty(k)&&G!==X&&(G!=null||X!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ye(t,n,k,G,l,X)}return;default:if(Eo(n)){for(var ct in s)G=s[ct],s.hasOwnProperty(ct)&&G!==void 0&&!l.hasOwnProperty(ct)&&vd(t,n,ct,void 0,l,G);for(W in l)G=l[W],X=s[W],!l.hasOwnProperty(W)||G===X||G===void 0&&X===void 0||vd(t,n,W,G,l,X);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&Ye(t,n,z,null,l,G);for(re in l)G=l[re],X=s[re],!l.hasOwnProperty(re)||G===X||G==null&&X==null||Ye(t,n,re,G,l,X)}var _d=null,Ed=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function jS(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(FS)}:gv;function FS(t){setTimeout(function(){throw t})}function Sd(t,n){var s=n,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(l===0){t.removeChild(f),hl(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=f}while(s);hl(n)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),aa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function GS(t,n,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function QS(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function vv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function _v(t,n,s){switch(n=rc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Pn=new Map,Ev=new Set;function ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Gr=de.d;de.d={f:KS,r:$S,D:YS,C:XS,L:WS,m:ZS,X:eA,S:JS,M:tA};function KS(){var t=Gr.f(),n=Xu();return t||n}function $S(t){var n=Sr(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):Gr.r(t)}var Us=typeof document>"u"?null:document;function Tv(t,n,s){var l=Us;if(l&&typeof n=="string"&&n){var f=ot(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Ev.has(f)||(Ev.add(f),t={rel:t,crossOrigin:s,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),kt(n,"link",t),et(n),l.head.appendChild(n)))}}function YS(t){Gr.D(t),Tv("dns-prefetch",t,null)}function XS(t,n){Gr.C(t,n),Tv("preconnect",t,n)}function WS(t,n,s){Gr.L(t,n,s);var l=Us;if(l&&t&&n){var f='link[rel="preload"][as="'+ot(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+ot(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+ot(s.imageSizes)+'"]')):f+='[href="'+ot(t)+'"]';var m=f;switch(n){case"style":m=ks(t);break;case"script":m=zs(t)}Pn.has(m)||(t=M({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Pn.set(m,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(al(m))||n==="script"&&l.querySelector(sl(m))||(n=l.createElement("link"),kt(n,"link",t),et(n),l.head.appendChild(n)))}}function ZS(t,n){Gr.m(t,n);var s=Us;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ot(l)+'"][href="'+ot(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zs(t)}if(!Pn.has(m)&&(t=M({rel:"modulepreload",href:t},n),Pn.set(m,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(sl(m)))return}l=s.createElement("link"),kt(l,"link",t),et(l),s.head.appendChild(l)}}}function JS(t,n,s){Gr.S(t,n,s);var l=Us;if(l&&t){var f=fi(l).hoistableStyles,m=ks(t);n=n||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(al(m)))S.loading=5;else{t=M({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Pn.get(m))&&wd(t,s);var O=_=l.createElement("link");et(O),kt(O,"link",t),O._p=new Promise(function(k,W){O.onload=k,O.onerror=W}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ac(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function eA(t,n){Gr.X(t,n);var s=Us;if(s&&t){var l=fi(s).hoistableScripts,f=zs(t),m=l.get(f);m||(m=s.querySelector(sl(f)),m||(t=M({src:t,async:!0},n),(n=Pn.get(f))&&Rd(t,n),m=s.createElement("script"),et(m),kt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function tA(t,n){Gr.M(t,n);var s=Us;if(s&&t){var l=fi(s).hoistableScripts,f=zs(t),m=l.get(f);m||(m=s.querySelector(sl(f)),m||(t=M({src:t,async:!0,type:"module"},n),(n=Pn.get(f))&&Rd(t,n),m=s.createElement("script"),et(m),kt(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function bv(t,n,s,l){var f=(f=_n.current)?ic(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ks(s.href),s=fi(f).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ks(s.href);var m=fi(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(al(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),m||nA(f,t,s,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=zs(s),s=fi(f).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ks(t){return'href="'+ot(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return M({},t,{"data-precedence":t.precedence,precedence:null})}function nA(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),kt(n,"link",s),et(n),t.head.appendChild(n))}function zs(t){return'[src="'+ot(t)+'"]'}function sl(t){return"script[async]"+t}function Av(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ot(s.href)+'"]');if(l)return n.instance=l,et(l),l;var f=M({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),kt(l,"style",f),ac(l,s.precedence,t),n.instance=l;case"stylesheet":f=ks(s.href);var m=t.querySelector(al(f));if(m)return n.state.loading|=4,n.instance=m,et(m),m;l=Sv(s),(f=Pn.get(f))&&wd(l,f),m=(t.ownerDocument||t).createElement("link"),et(m);var _=m;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),kt(m,"link",l),n.state.loading|=4,ac(m,s.precedence,t),n.instance=m;case"script":return m=zs(s.src),(f=t.querySelector(sl(m)))?(n.instance=f,et(f),f):(l=s,(f=Pn.get(m))&&(l=M({},s),Rd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),et(f),kt(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,ac(l,s.precedence,t));return n.instance}function ac(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===n)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var sc=null;function wv(t,n,s){if(sc===null){var l=new Map,f=sc=new Map;f.set(s,l)}else f=sc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[ui]||m[Dt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(n)||"";_=t+_;var S=l.get(_);S?S.push(m):l.set(_,[m])}}return l}function Rv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function rA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cv(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ol=null;function iA(){}function aA(t,n,s){if(ol===null)throw Error(a(475));var l=ol;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var f=ks(s.href),m=t.querySelector(al(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=oc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=m,et(m);return}m=t.ownerDocument||t,s=Sv(s),(f=Pn.get(f))&&wd(s,f),m=m.createElement("link"),et(m);var _=m;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),kt(m,"link",s),n.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=oc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function sA(){if(ol===null)throw Error(a(475));var t=ol;return t.stylesheets&&t.count===0&&Cd(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Cd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lc=null;function Cd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lc=new Map,n.forEach(oA,t),lc=null,oc.call(t))}function oA(t,n){if(!(n.state.loading&4)){var s=lc.get(t);if(s)var l=s.get(null);else{s=new Map,lc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=n.instance,_=f.getAttribute("data-precedence"),m=s.get(_)||l,m===l&&s.set(null,f),s.set(_,f),this.count++,l=oc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var ll={$$typeof:R,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function lA(t,n,s,l,f,m,_,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Dv(t,n,s,l,f,m,_,S,O,k,W,re){return t=new lA(t,n,s,_,S,O,k,re),n=1,m===!0&&(n|=24),m=Vn(3,null,null,n),t.current=m,m.stateNode=t,n=ah(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:n},zh(m),t}function Ov(t){return t?(t=ys,t):ys}function Iv(t,n,s,l,f,m){f=Ov(f),l.context===null?l.context=f:l.pendingContext=f,l=Ai(n),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=wi(t,l,n),s!==null&&(en(s,t,n),Go(s,t,n))}function Mv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Dd(t,n){Mv(t,n),(t=t.alternate)&&Mv(t,n)}function Nv(t){if(t.tag===13){var n=yi(t,67108864);n!==null&&en(n,t,67108864),Dd(t,67108864)}}var uc=!0;function uA(t,n,s,l){var f=w.T;w.T=null;var m=de.p;try{de.p=2,Od(t,n,s,l)}finally{de.p=m,w.T=f}}function cA(t,n,s,l){var f=w.T;w.T=null;var m=de.p;try{de.p=8,Od(t,n,s,l)}finally{de.p=m,w.T=f}}function Od(t,n,s,l){if(uc){var f=Id(l);if(f===null)yd(t,n,l,cc,s),xv(t,l);else if(hA(f,t,n,s,l))l.stopPropagation();else if(xv(t,l),n&4&&-1<fA.indexOf(t)){for(;f!==null;){var m=Sr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Un(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-Xt(_);S.entanglements[1]|=O,_&=~O}lr(m),!(nt&6)&&(Ku=tn()+500,nl(0))}}break;case 13:S=yi(m,2),S!==null&&en(S,m,2),Xu(),Dd(m,2)}if(m=Id(l),m===null&&yd(t,n,l,cc,s),m===f)break;f=m}f!==null&&l.stopPropagation()}else yd(t,n,l,null,s)}}function Id(t){return t=as(t),Md(t)}var cc=null;function Md(t){if(cc=null,t=kn(t),t!==null){var n=ne(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=_e(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return cc=t,null}function Vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yl()){case vt:return 2;case Ct:return 8;case Tr:case Xl:return 32;case uo:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ni=null,Vi=null,xi=null,ul=new Map,cl=new Map,Pi=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(t,n){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function fl(t,n,s,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Sr(n),n!==null&&Nv(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function hA(t,n,s,l,f){switch(n){case"focusin":return Ni=fl(Ni,t,n,s,l,f),!0;case"dragenter":return Vi=fl(Vi,t,n,s,l,f),!0;case"mouseover":return xi=fl(xi,t,n,s,l,f),!0;case"pointerover":var m=f.pointerId;return ul.set(m,fl(ul.get(m)||null,t,n,s,l,f)),!0;case"gotpointercapture":return m=f.pointerId,cl.set(m,fl(cl.get(m)||null,t,n,s,l,f)),!0}return!1}function Pv(t){var n=kn(t.target);if(n!==null){var s=ne(n);if(s!==null){if(n=s.tag,n===13){if(n=_e(s),n!==null){t.blockedOn=n,li(t.priority,function(){if(s.tag===13){var l=mn(),f=yi(s,l);f!==null&&en(f,s,l),Dd(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Id(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Sn=l,s.target.dispatchEvent(l),Sn=null}else return n=Sr(s),n!==null&&Nv(n),t.blockedOn=s,!1;n.shift()}return!0}function Lv(t,n,s){fc(t)&&s.delete(n)}function dA(){Nd=!1,Ni!==null&&fc(Ni)&&(Ni=null),Vi!==null&&fc(Vi)&&(Vi=null),xi!==null&&fc(xi)&&(xi=null),ul.forEach(Lv),cl.forEach(Lv)}function hc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dA)))}var dc=null;function Uv(t){dc!==t&&(dc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){dc===t&&(dc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(Md(l||s)===null)continue;break}var m=Sr(s);m!==null&&(t.splice(n,3),n-=3,Th(m,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function hl(t){function n(O){return hc(O,t)}Ni!==null&&hc(Ni,t),Vi!==null&&hc(Vi,t),xi!==null&&hc(xi,t),ul.forEach(n),cl.forEach(n);for(var s=0;s<Pi.length;s++){var l=Pi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pi.length&&(s=Pi[0],s.blockedOn===null);)Pv(s),s.blockedOn===null&&Pi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],m=s[l+1],_=f[_t]||null;if(typeof m=="function")_||Uv(s);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[_t]||null)S=_.formAction;else if(Md(f)!==null)continue}else S=_.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),Uv(s)}}}function Vd(t){this._internalRoot=t}mc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=mn();Iv(s,l,t,n,null,null)},mc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&xs(),Iv(t.current,2,null,t,null,null),Xu(),n[br]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=tu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Pi.length&&n!==0&&n<Pi[s].priority;s++);Pi.splice(s,0,t),s===0&&Pv(t)}};var kv=e.version;if(kv!=="19.0.0")throw Error(a(527,kv,"19.0.0"));de.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Z(n),t=t!==null?me(t):null,t=t===null?null:t.stateNode,t};var mA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{ni=pc.inject(mA),Ht=pc}catch{}}return ml.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",f=ty,m=ny,_=ry,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Dv(t,1,!1,null,null,s,l,f,m,_,S,null),t[br]=n.current,gd(t.nodeType===8?t.parentNode:t),new Vd(n)},ml.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,f="",m=ty,_=ny,S=ry,O=null,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(k=s.formState)),n=Dv(t,1,!0,n,s??null,l,f,m,_,S,O,k),n.context=Ov(null),s=n.current,l=mn(),f=Ai(l),f.callback=null,wi(s,f,l),n.current.lanes=l,ft(n,l),lr(n),t[br]=n.current,gd(t),new mc(n)},ml.version="19.0.0",ml}var $v;function CA(){if($v)return Ud.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ud.exports=RA(),Ud.exports}var DA=CA(),pl={},Yv;function OA(){if(Yv)return pl;Yv=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parse=h,pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,R){const I=new u,q=b.length;if(q<2)return I;const P=(R==null?void 0:R.decode)||E;let F=0;do{const Y=b.indexOf("=",F);if(Y===-1)break;const $=b.indexOf(";",F),oe=$===-1?q:$;if(Y>oe){F=b.lastIndexOf(";",Y-1)+1;continue}const ae=d(b,F,Y),he=p(b,Y,ae),L=b.slice(ae,he);if(I[L]===void 0){let C=d(b,Y+1,oe),w=p(b,oe,C);const M=P(b.slice(C,w));I[L]=M}F=oe+1}while(F<q);return I}function d(b,R,I){do{const q=b.charCodeAt(R);if(q!==32&&q!==9)return R}while(++R<I);return I}function p(b,R,I){for(;R>I;){const q=b.charCodeAt(--R);if(q!==32&&q!==9)return R+1}return I}function g(b,R,I){const q=(I==null?void 0:I.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const P=q(R);if(!e.test(P))throw new TypeError(`argument val is invalid: ${R}`);let F=b+"="+P;if(!I)return F;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);F+="; Max-Age="+I.maxAge}if(I.domain){if(!r.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);F+="; Domain="+I.domain}if(I.path){if(!a.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);F+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);F+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(F+="; HttpOnly"),I.secure&&(F+="; Secure"),I.partitioned&&(F+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return F}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return o.call(b)==="[object Date]"}return pl}OA();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xv="popstate";function IA(i={}){function e(a,o){let{pathname:u,search:h,hash:d}=a.location;return dm("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Ol(o)}return NA(e,r,null,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function Wv(i,e){return{usr:i.state,key:i.key,idx:e}}function dm(i,e,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:r,key:e&&e.key||a||MA()}}function Ol({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function to(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function NA(i,e,r,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let P=E(),F=P==null?null:P-g;g=P,p&&p({action:d,location:q.location,delta:F})}function b(P,F){d="PUSH";let Y=dm(q.location,P,F);g=E()+1;let $=Wv(Y,g),oe=q.createHref(Y);try{h.pushState($,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(oe)}u&&p&&p({action:d,location:q.location,delta:1})}function R(P,F){d="REPLACE";let Y=dm(q.location,P,F);g=E();let $=Wv(Y,g),oe=q.createHref(Y);h.replaceState($,"",oe),u&&p&&p({action:d,location:q.location,delta:0})}function I(P){let F=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof P=="string"?P:Ol(P);return Y=Y.replace(/ $/,"%20"),rt(F,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,F)}let q={get action(){return d},get location(){return i(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Xv,T),p=P,()=>{o.removeEventListener(Xv,T),p=null}},createHref(P){return e(o,P)},createURL:I,encodeLocation(P){let F=I(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:R,go(P){return h.go(P)}};return q}function KE(i,e,r="/"){return VA(i,e,r,!1)}function VA(i,e,r,a){let o=typeof e=="string"?to(e):e,u=Gi(o.pathname||"/",r);if(u==null)return null;let h=$E(i);xA(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=GA(u);d=HA(h[p],g,a)}return d}function $E(i,e=[],r=[],a=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Qr([a,p.relativePath]),E=r.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$E(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:jA(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of YE(u.path))o(u,h,p)}),e}function YE(i){let e=i.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=YE(a.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function xA(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:qA(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var PA=/^:[\w-]+$/,LA=3,UA=2,kA=1,zA=10,BA=-2,Zv=i=>i==="*";function jA(i,e){let r=i.split("/"),a=r.length;return r.some(Zv)&&(a+=BA),e&&(a+=UA),r.filter(o=>!Zv(o)).reduce((o,u)=>o+(PA.test(u)?LA:u===""?kA:zA),a)}function qA(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function HA(i,e,r=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&r&&!a[a.length-1].route.index&&(T=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Qr([u,T.pathname]),pathnameBase:YA(Qr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=Qr([u,T.pathnameBase]))}return h}function Lc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=FA(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let I=d[b]||"";h=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const R=d[b];return T&&!R?g[E]=void 0:g[E]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function FA(i,e=!1,r=!0){mr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function GA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Gi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function QA(i,e="/"){let{pathname:r,search:a="",hash:o=""}=typeof i=="string"?to(i):i;return{pathname:r?r.startsWith("/")?r:KA(r,e):e,search:XA(a),hash:WA(o)}}function KA(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function jd(i,e,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $A(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function XE(i){let e=$A(i);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function WE(i,e,r,a=!1){let o;typeof i=="string"?o=to(i):(o={...i},rt(!o.pathname||!o.pathname.includes("?"),jd("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),jd("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),jd("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=r;else{let T=e.length-1;if(!a&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}d=T>=0?e[T]:"/"}let p=QA(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Qr=i=>i.join("/").replace(/\/\/+/g,"/"),YA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,WA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ZA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var JA=["GET",...ZE];new Set(JA);var no=Q.createContext(null);no.displayName="DataRouter";var af=Q.createContext(null);af.displayName="DataRouterState";var JE=Q.createContext({isTransitioning:!1});JE.displayName="ViewTransition";var ew=Q.createContext(new Map);ew.displayName="Fetchers";var tw=Q.createContext(null);tw.displayName="Await";var yr=Q.createContext(null);yr.displayName="Navigation";var ql=Q.createContext(null);ql.displayName="Location";var vr=Q.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Hm=Q.createContext(null);Hm.displayName="RouteError";function nw(i,{relative:e}={}){rt(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=Q.useContext(yr),{hash:o,pathname:u,search:h}=Fl(i,{relative:e}),d=u;return r!=="/"&&(d=u==="/"?r:Qr([r,u])),a.createHref({pathname:d,search:h,hash:o})}function Hl(){return Q.useContext(ql)!=null}function Qa(){return rt(Hl(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(ql).location}var e0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t0(i){Q.useContext(yr).static||Q.useLayoutEffect(i)}function rw(){let{isDataRoute:i}=Q.useContext(vr);return i?yw():iw()}function iw(){rt(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(no),{basename:e,navigator:r}=Q.useContext(yr),{matches:a}=Q.useContext(vr),{pathname:o}=Qa(),u=JSON.stringify(XE(a)),h=Q.useRef(!1);return t0(()=>{h.current=!0}),Q.useCallback((p,g={})=>{if(mr(h.current,e0),!h.current)return;if(typeof p=="number"){r.go(p);return}let E=WE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qr([e,E.pathname])),(g.replace?r.replace:r.push)(E,g.state,g)},[e,r,u,o,i])}Q.createContext(null);function aw(){let{matches:i}=Q.useContext(vr),e=i[i.length-1];return e?e.params:{}}function Fl(i,{relative:e}={}){let{matches:r}=Q.useContext(vr),{pathname:a}=Qa(),o=JSON.stringify(XE(r));return Q.useMemo(()=>WE(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function sw(i,e){return n0(i,e)}function n0(i,e,r,a){var Y;rt(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Q.useContext(yr),{matches:h}=Q.useContext(vr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let $=T&&T.path||"";r0(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Qa(),R;if(e){let $=typeof e=="string"?to(e):e;rt(E==="/"||((Y=$.pathname)==null?void 0:Y.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=b;let I=R.pathname||"/",q=I;if(E!=="/"){let $=E.replace(/^\//,"").split("/");q="/"+I.replace(/^\//,"").split("/").slice($.length).join("/")}let P=!u&&r&&r.matches&&r.matches.length>0?r.matches:KE(i,{pathname:q});mr(T||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),mr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=fw(P&&P.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Qr([E,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:Qr([E,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),h,r,a);return e&&F?Q.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function ow(){let i=gw(),e=ZA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),r?Q.createElement("pre",{style:o},r):null,h)}var lw=Q.createElement(ow,null),uw=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Q.createElement(vr.Provider,{value:this.props.routeContext},Q.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cw({routeContext:i,match:e,children:r}){let a=Q.useContext(no);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(vr.Provider,{value:i},r)}function fw(i,e=[],r=null,a=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(r)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:T}=r,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,b=!1,R=null,I=null;r&&(T=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||lw,h&&(d<0&&E===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):d===E&&(b=!0,I=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),P=()=>{let F;return T?F=R:b?F=I:g.route.Component?F=Q.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=p,Q.createElement(cw,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:r!=null},children:F})};return r&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?Q.createElement(uw,{location:r.location,revalidation:r.revalidation,component:R,error:T,children:P(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):P()},null)}function Fm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(i){let e=Q.useContext(no);return rt(e,Fm(i)),e}function dw(i){let e=Q.useContext(af);return rt(e,Fm(i)),e}function mw(i){let e=Q.useContext(vr);return rt(e,Fm(i)),e}function Gm(i){let e=mw(i),r=e.matches[e.matches.length-1];return rt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function pw(){return Gm("useRouteId")}function gw(){var a;let i=Q.useContext(Hm),e=dw("useRouteError"),r=Gm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[r]}function yw(){let{router:i}=hw("useNavigate"),e=Gm("useNavigate"),r=Q.useRef(!1);return t0(()=>{r.current=!0}),Q.useCallback(async(o,u={})=>{mr(r.current,e0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Jv={};function r0(i,e,r){!e&&!Jv[i]&&(Jv[i]=!0,mr(!1,r))}Q.memo(vw);function vw({routes:i,future:e,state:r}){return n0(i,void 0,r,e)}function Cc(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _w({basename:i="/",children:e=null,location:r,navigationType:a="POP",navigator:o,static:u=!1}){rt(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof r=="string"&&(r=to(r));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:b="default"}=r,R=Q.useMemo(()=>{let I=Gi(p,h);return I==null?null:{location:{pathname:I,search:g,hash:E,state:T,key:b},navigationType:a}},[h,p,g,E,T,b,a]);return mr(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Q.createElement(yr.Provider,{value:d},Q.createElement(ql.Provider,{children:e,value:R}))}function Ew({children:i,location:e}){return sw(mm(i),e)}function mm(i,e=[]){let r=[];return Q.Children.forEach(i,(a,o)=>{if(!Q.isValidElement(a))return;let u=[...e,o];if(a.type===Q.Fragment){r.push.apply(r,mm(a.props.children,u));return}rt(a.type===Cc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=mm(a.props.children,u)),r.push(h)}),r}var Dc="get",Oc="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function Tw(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function bw(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function Sw(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function Aw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ww(i,e){return i.button===0&&(!e||e==="_self")&&!Aw(i)}var gc=null;function Rw(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var Cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qd(i){return i!=null&&!Cw.has(i)?(mr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):i}function Dw(i,e){let r,a,o,u,h;if(bw(i)){let d=i.getAttribute("action");a=d?Gi(d,e):null,r=i.getAttribute("method")||Dc,o=qd(i.getAttribute("enctype"))||Oc,u=new FormData(i)}else if(Tw(i)||Sw(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(a=p?Gi(p,e):null,r=i.getAttribute("formmethod")||d.getAttribute("method")||Dc,o=qd(i.getAttribute("formenctype"))||qd(d.getAttribute("enctype"))||Oc,u=new FormData(d,i),!Rw()){let{name:g,type:E,value:T}=i;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Dc,a=null,o=Oc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:u,body:h}}function Qm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Ow(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Iw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Mw(i,e,r){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Ow(u,r);return h.links?h.links():[]}return[]}));return Pw(a.flat(1).filter(Iw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e_(i,e,r,a,o,u){let h=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,d=(p,g)=>{var E;return r[g].pathname!==p.pathname||((E=r[g].route.path)==null?void 0:E.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=r[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Nw(i,e){return Vw(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Vw(i){return[...new Set(i)]}function xw(i){let e={},r=Object.keys(i).sort();for(let a of r)e[a]=i[a];return e}function Pw(i,e){let r=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(xw(o));return r.has(u)||(r.add(u),a.push({key:u,link:o})),a},[])}function Lw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Uw(){let i=Q.useContext(no);return Qm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function kw(){let i=Q.useContext(af);return Qm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Km=Q.createContext(void 0);Km.displayName="FrameworkContext";function i0(){let i=Q.useContext(Km);return Qm(i,"You must render this element inside a <HydratedRouter> element"),i}function zw(i,e){let r=Q.useContext(Km),[a,o]=Q.useState(!1),[u,h]=Q.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,b=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=F=>{F.forEach(Y=>{h(Y.isIntersecting)})},P=new IntersectionObserver(q,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[i]),Q.useEffect(()=>{if(a){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[a]);let R=()=>{o(!0)},I=()=>{o(!1),h(!1)};return r?i!=="intent"?[u,b,{}]:[u,b,{onFocus:gl(d,R),onBlur:gl(p,I),onMouseEnter:gl(g,R),onMouseLeave:gl(E,I),onTouchStart:gl(T,R)}]:[!1,b,{}]}function gl(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function Bw({page:i,...e}){let{router:r}=Uw(),a=Q.useMemo(()=>KE(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?Q.createElement(qw,{page:i,matches:a,...e}):null}function jw(i){let{manifest:e,routeModules:r}=i0(),[a,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return Mw(i,e,r).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,r]),a}function qw({page:i,matches:e,...r}){let a=Qa(),{manifest:o,routeModules:u}=i0(),{loaderData:h,matches:d}=kw(),p=Q.useMemo(()=>e_(i,e,d,o,a,"data"),[i,e,d,o,a]),g=Q.useMemo(()=>e_(i,e,d,o,a,"assets"),[i,e,d,o,a]),E=Q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let R=new Set,I=!1;if(e.forEach(P=>{var Y;let F=o.routes[P.route.id];!F||!F.hasLoader||(!p.some($=>$.route.id===P.route.id)&&P.route.id in h&&((Y=u[P.route.id])!=null&&Y.shouldRevalidate)||F.hasClientLoader?I=!0:R.add(P.route.id))}),R.size===0)return[];let q=Lw(i);return I&&R.size>0&&q.searchParams.set("_routes",e.filter(P=>R.has(P.route.id)).map(P=>P.route.id).join(",")),[q.pathname+q.search]},[h,a,o,p,e,i,u]),T=Q.useMemo(()=>Nw(g,o),[g,o]),b=jw(g);return Q.createElement(Q.Fragment,null,E.map(R=>Q.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...r})),T.map(R=>Q.createElement("link",{key:R,rel:"modulepreload",href:R,...r})),b.map(({key:R,link:I})=>Q.createElement("link",{key:R,...I})))}function Hw(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var a0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a0&&(window.__reactRouterVersion="7.1.5")}catch{}function Fw({basename:i,children:e,window:r}){let a=Q.useRef();a.current==null&&(a.current=IA({window:r,v5Compat:!0}));let o=a.current,[u,h]=Q.useState({action:o.action,location:o.location}),d=Q.useCallback(p=>{Q.startTransition(()=>h(p))},[h]);return Q.useLayoutEffect(()=>o.listen(d),[o,d]),Q.createElement(_w,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Il=Q.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...b},R){let{basename:I}=Q.useContext(yr),q=typeof g=="string"&&s0.test(g),P,F=!1;if(typeof g=="string"&&q&&(P=g,a0))try{let w=new URL(window.location.href),M=g.startsWith("//")?new URL(w.protocol+g):new URL(g),N=Gi(M.pathname,I);M.origin===w.origin&&N!=null?g=N+M.search+M.hash:F=!0}catch{mr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=nw(g,{relative:o}),[$,oe,ae]=zw(a,b),he=$w(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function L(w){e&&e(w),w.defaultPrevented||he(w)}let C=Q.createElement("a",{...b,...ae,href:P||Y,onClick:F||u?e:L,ref:Hw(R,oe),target:p,"data-discover":!q&&r==="render"?"true":void 0});return $&&!q?Q.createElement(Q.Fragment,null,C,Q.createElement(Bw,{page:Y})):C});Il.displayName="Link";var Gw=Q.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let T=Fl(h,{relative:g.relative}),b=Qa(),R=Q.useContext(af),{navigator:I,basename:q}=Q.useContext(yr),P=R!=null&&Jw(T)&&d===!0,F=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,Y=b.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;r||(Y=Y.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&q&&($=Gi($,q)||$);const oe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ae=Y===F||!o&&Y.startsWith(F)&&Y.charAt(oe)==="/",he=$!=null&&($===F||!o&&$.startsWith(F)&&$.charAt(F.length)==="/"),L={isActive:ae,isPending:he,isTransitioning:P},C=ae?e:void 0,w;typeof a=="function"?w=a(L):w=[a,ae?"active":null,he?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(L):u;return Q.createElement(Il,{...g,"aria-current":C,className:w,ref:E,style:M,to:h,viewTransition:d},typeof p=="function"?p(L):p)});Gw.displayName="NavLink";var Qw=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:o,state:u,method:h=Dc,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...b},R)=>{let I=Ww(),q=Zw(d,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&s0.test(d),Y=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let oe=$.nativeEvent.submitter,ae=(oe==null?void 0:oe.getAttribute("formmethod"))||h;I(oe||$.currentTarget,{fetcherKey:e,method:ae,navigate:r,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return Q.createElement("form",{ref:R,method:P,action:q,onSubmit:a?p:Y,...b,"data-discover":!F&&i==="render"?"true":void 0})});Qw.displayName="Form";function Kw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o0(i){let e=Q.useContext(no);return rt(e,Kw(i)),e}function $w(i,{target:e,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=rw(),p=Qa(),g=Fl(i,{relative:u});return Q.useCallback(E=>{if(ww(E,e)){E.preventDefault();let T=r!==void 0?r:Ol(p)===Ol(g);d(i,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,r,a,e,i,o,u,h])}var Yw=0,Xw=()=>`__${String(++Yw)}__`;function Ww(){let{router:i}=o0("useSubmit"),{basename:e}=Q.useContext(yr),r=pw();return Q.useCallback(async(a,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=Dw(a,e);if(o.navigate===!1){let E=o.fetcherKey||Xw();await i.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function Zw(i,{relative:e}={}){let{basename:r}=Q.useContext(yr),a=Q.useContext(vr);rt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Fl(i||".",{relative:e})},h=Qa();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Qr([r,u.pathname])),Ol(u)}function Jw(i,e={}){let r=Q.useContext(JE);rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=o0("useViewTransitionState"),o=Fl(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=Gi(r.currentLocation.pathname,a)||r.currentLocation.pathname,h=Gi(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Lc(o.pathname,h)!=null||Lc(o.pathname,u)!=null}new TextEncoder;var Hd={exports:{}},Fd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function eR(){if(t_)return Fd;t_=1;var i=eo();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:e,a=i.useSyncExternalStore,o=i.useRef,u=i.useEffect,h=i.useMemo,d=i.useDebugValue;return Fd.useSyncExternalStoreWithSelector=function(p,g,E,T,b){var R=o(null);if(R.current===null){var I={hasValue:!1,value:null};R.current=I}else I=R.current;R=h(function(){function P(ae){if(!F){if(F=!0,Y=ae,ae=T(ae),b!==void 0&&I.hasValue){var he=I.value;if(b(he,ae))return $=he}return $=ae}if(he=$,r(Y,ae))return he;var L=T(ae);return b!==void 0&&b(he,L)?(Y=ae,he):(Y=ae,$=L)}var F=!1,Y,$,oe=E===void 0?null:E;return[function(){return P(g())},oe===null?void 0:function(){return P(oe())}]},[g,E,T,b]);var q=a(p,R[0],R[1]);return u(function(){I.hasValue=!0,I.value=q},[q]),d(q),q},Fd}var n_;function tR(){return n_||(n_=1,Hd.exports=eR()),Hd.exports}var nR=tR();function rR(i){i()}function iR(){let i=null,e=null;return{clear(){i=null,e=null},notify(){rR(()=>{let r=i;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=i;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const o=e={callback:r,next:null,prev:e};return o.prev?o.prev.next=o:i=o,function(){!a||i===null||(a=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:i=o.next)}}}}var r_={notify(){},get:()=>[]};function aR(i,e){let r,a=r_,o=0,u=!1;function h(q){E();const P=a.subscribe(q);let F=!1;return()=>{F||(F=!0,P(),T())}}function d(){a.notify()}function p(){I.onStateChange&&I.onStateChange()}function g(){return u}function E(){o++,r||(r=i.subscribe(p),a=iR())}function T(){o--,r&&o===0&&(r(),r=void 0,a.clear(),a=r_)}function b(){u||(u=!0,E())}function R(){u&&(u=!1,T())}const I={addNestedSub:h,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:R,getListeners:()=>a};return I}var sR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oR=sR(),lR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uR=lR(),cR=()=>oR||uR?Q.useLayoutEffect:Q.useEffect,fR=cR(),Gd=Symbol.for("react-redux-context"),Qd=typeof globalThis<"u"?globalThis:{};function hR(){if(!Q.createContext)return{};const i=Qd[Gd]??(Qd[Gd]=new Map);let e=i.get(Q.createContext);return e||(e=Q.createContext(null),i.set(Q.createContext,e)),e}var Qi=hR();function dR(i){const{children:e,context:r,serverState:a,store:o}=i,u=Q.useMemo(()=>{const p=aR(o);return{store:o,subscription:p,getServerState:a?()=>a:void 0}},[o,a]),h=Q.useMemo(()=>o.getState(),[o]);fR(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,h]);const d=r||Qi;return Q.createElement(d.Provider,{value:u},e)}var mR=dR;function $m(i=Qi){return function(){return Q.useContext(i)}}var l0=$m();function u0(i=Qi){const e=i===Qi?l0:$m(i),r=()=>{const{store:a}=e();return a};return Object.assign(r,{withTypes:()=>r}),r}var pR=u0();function gR(i=Qi){const e=i===Qi?pR:u0(i),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var of=gR(),yR=(i,e)=>i===e;function vR(i=Qi){const e=i===Qi?l0:$m(i),r=(a,o={})=>{const{equalityFn:u=yR}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:d,subscription:p,getServerState:g}=h;Q.useRef(!0);const E=Q.useCallback({[a.name](b){return a(b)}}[a.name],[a]),T=nR.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,E,u);return Q.useDebugValue(T),T};return Object.assign(r,{withTypes:()=>r}),r}var lf=vR();function zt(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var _R=typeof Symbol=="function"&&Symbol.observable||"@@observable",i_=_R,Kd=()=>Math.random().toString(36).substring(7).split("").join("."),ER={INIT:`@@redux/INIT${Kd()}`,REPLACE:`@@redux/REPLACE${Kd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kd()}`},Uc=ER;function Ym(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function c0(i,e,r){if(typeof i!="function")throw new Error(zt(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zt(1));return r(c0)(i,e)}let a=i,o=e,u=new Map,h=u,d=0,p=!1;function g(){h===u&&(h=new Map,u.forEach((P,F)=>{h.set(F,P)}))}function E(){if(p)throw new Error(zt(3));return o}function T(P){if(typeof P!="function")throw new Error(zt(4));if(p)throw new Error(zt(5));let F=!0;g();const Y=d++;return h.set(Y,P),function(){if(F){if(p)throw new Error(zt(6));F=!1,g(),h.delete(Y),u=null}}}function b(P){if(!Ym(P))throw new Error(zt(7));if(typeof P.type>"u")throw new Error(zt(8));if(typeof P.type!="string")throw new Error(zt(17));if(p)throw new Error(zt(9));try{p=!0,o=a(o,P)}finally{p=!1}return(u=h).forEach(Y=>{Y()}),P}function R(P){if(typeof P!="function")throw new Error(zt(10));a=P,b({type:Uc.REPLACE})}function I(){const P=T;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(zt(11));function Y(){const oe=F;oe.next&&oe.next(E())}return Y(),{unsubscribe:P(Y)}},[i_](){return this}}}return b({type:Uc.INIT}),{dispatch:b,subscribe:T,getState:E,replaceReducer:R,[i_]:I}}function TR(i){Object.keys(i).forEach(e=>{const r=i[e];if(typeof r(void 0,{type:Uc.INIT})>"u")throw new Error(zt(12));if(typeof r(void 0,{type:Uc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function bR(i){const e=Object.keys(i),r={};for(let u=0;u<e.length;u++){const h=e[u];typeof i[h]=="function"&&(r[h]=i[h])}const a=Object.keys(r);let o;try{TR(r)}catch(u){o=u}return function(h={},d){if(o)throw o;let p=!1;const g={};for(let E=0;E<a.length;E++){const T=a[E],b=r[T],R=h[T],I=b(R,d);if(typeof I>"u")throw d&&d.type,new Error(zt(14));g[T]=I,p=p||I!==R}return p=p||a.length!==Object.keys(h).length,p?g:h}}function kc(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,r)=>(...a)=>e(r(...a)))}function SR(...i){return e=>(r,a)=>{const o=e(r,a);let u=()=>{throw new Error(zt(15))};const h={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},d=i.map(p=>p(h));return u=kc(...d)(o.dispatch),{...o,dispatch:u}}}function AR(i){return Ym(i)&&"type"in i&&typeof i.type=="string"}var f0=Symbol.for("immer-nothing"),a_=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Fn(i,...e){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Qs=Object.getPrototypeOf;function Ba(i){return!!i&&!!i[yn]}function Yr(i){var e;return i?h0(i)||Array.isArray(i)||!!i[a_]||!!((e=i.constructor)!=null&&e[a_])||cf(i)||ff(i):!1}var wR=Object.prototype.constructor.toString();function h0(i){if(!i||typeof i!="object")return!1;const e=Qs(i);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===wR}function zc(i,e){uf(i)===0?Reflect.ownKeys(i).forEach(r=>{e(r,i[r],i)}):i.forEach((r,a)=>e(a,r,i))}function uf(i){const e=i[yn];return e?e.type_:Array.isArray(i)?1:cf(i)?2:ff(i)?3:0}function pm(i,e){return uf(i)===2?i.has(e):Object.prototype.hasOwnProperty.call(i,e)}function d0(i,e,r){const a=uf(i);a===2?i.set(e,r):a===3?i.add(r):i[e]=r}function RR(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}function cf(i){return i instanceof Map}function ff(i){return i instanceof Set}function Pa(i){return i.copy_||i.base_}function gm(i,e){if(cf(i))return new Map(i);if(ff(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const r=h0(i);if(e===!0||e==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(i);delete a[yn];let o=Reflect.ownKeys(a);for(let u=0;u<o.length;u++){const h=o[u],d=a[h];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[h]={configurable:!0,writable:!0,enumerable:d.enumerable,value:i[h]})}return Object.create(Qs(i),a)}else{const a=Qs(i);if(a!==null&&r)return{...i};const o=Object.create(a);return Object.assign(o,i)}}function Xm(i,e=!1){return hf(i)||Ba(i)||!Yr(i)||(uf(i)>1&&(i.set=i.add=i.clear=i.delete=CR),Object.freeze(i),e&&Object.entries(i).forEach(([r,a])=>Xm(a,!0))),i}function CR(){Fn(2)}function hf(i){return Object.isFrozen(i)}var DR={};function ja(i){const e=DR[i];return e||Fn(0,i),e}var Ml;function m0(){return Ml}function OR(i,e){return{drafts_:[],parent_:i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s_(i,e){e&&(ja("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=e)}function ym(i){vm(i),i.drafts_.forEach(IR),i.drafts_=null}function vm(i){i===Ml&&(Ml=i.parent_)}function o_(i){return Ml=OR(Ml,i)}function IR(i){const e=i[yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function l_(i,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return i!==void 0&&i!==r?(r[yn].modified_&&(ym(e),Fn(4)),Yr(i)&&(i=Bc(e,i),e.parent_||jc(e,i)),e.patches_&&ja("Patches").generateReplacementPatches_(r[yn].base_,i,e.patches_,e.inversePatches_)):i=Bc(e,r,[]),ym(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),i!==f0?i:void 0}function Bc(i,e,r){if(hf(e))return e;const a=e[yn];if(!a)return zc(e,(o,u)=>u_(i,a,e,o,u,r)),e;if(a.scope_!==i)return e;if(!a.modified_)return jc(i,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let u=o,h=!1;a.type_===3&&(u=new Set(o),o.clear(),h=!0),zc(u,(d,p)=>u_(i,a,o,d,p,r,h)),jc(i,o,!1),r&&i.patches_&&ja("Patches").generatePatches_(a,r,i.patches_,i.inversePatches_)}return a.copy_}function u_(i,e,r,a,o,u,h){if(Ba(o)){const d=u&&e&&e.type_!==3&&!pm(e.assigned_,a)?u.concat(a):void 0,p=Bc(i,o,d);if(d0(r,a,p),Ba(p))i.canAutoFreeze_=!1;else return}else h&&r.add(o);if(Yr(o)&&!hf(o)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;Bc(i,o),(!e||!e.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,a)&&jc(i,o)}}function jc(i,e,r=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&Xm(e,r)}function MR(i,e){const r=Array.isArray(i),a={type_:r?1:0,scope_:e?e.scope_:m0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=a,u=Wm;r&&(o=[a],u=Nl);const{revoke:h,proxy:d}=Proxy.revocable(o,u);return a.draft_=d,a.revoke_=h,d}var Wm={get(i,e){if(e===yn)return i;const r=Pa(i);if(!pm(r,e))return NR(i,r,e);const a=r[e];return i.finalized_||!Yr(a)?a:a===$d(i.base_,e)?(Yd(i),i.copy_[e]=Em(a,i)):a},has(i,e){return e in Pa(i)},ownKeys(i){return Reflect.ownKeys(Pa(i))},set(i,e,r){const a=p0(Pa(i),e);if(a!=null&&a.set)return a.set.call(i.draft_,r),!0;if(!i.modified_){const o=$d(Pa(i),e),u=o==null?void 0:o[yn];if(u&&u.base_===r)return i.copy_[e]=r,i.assigned_[e]=!1,!0;if(RR(r,o)&&(r!==void 0||pm(i.base_,e)))return!0;Yd(i),_m(i)}return i.copy_[e]===r&&(r!==void 0||e in i.copy_)||Number.isNaN(r)&&Number.isNaN(i.copy_[e])||(i.copy_[e]=r,i.assigned_[e]=!0),!0},deleteProperty(i,e){return $d(i.base_,e)!==void 0||e in i.base_?(i.assigned_[e]=!1,Yd(i),_m(i)):delete i.assigned_[e],i.copy_&&delete i.copy_[e],!0},getOwnPropertyDescriptor(i,e){const r=Pa(i),a=Reflect.getOwnPropertyDescriptor(r,e);return a&&{writable:!0,configurable:i.type_!==1||e!=="length",enumerable:a.enumerable,value:r[e]}},defineProperty(){Fn(11)},getPrototypeOf(i){return Qs(i.base_)},setPrototypeOf(){Fn(12)}},Nl={};zc(Wm,(i,e)=>{Nl[i]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nl.deleteProperty=function(i,e){return Nl.set.call(this,i,e,void 0)};Nl.set=function(i,e,r){return Wm.set.call(this,i[0],e,r,i[0])};function $d(i,e){const r=i[yn];return(r?Pa(r):i)[e]}function NR(i,e,r){var o;const a=p0(e,r);return a?"value"in a?a.value:(o=a.get)==null?void 0:o.call(i.draft_):void 0}function p0(i,e){if(!(e in i))return;let r=Qs(i);for(;r;){const a=Object.getOwnPropertyDescriptor(r,e);if(a)return a;r=Qs(r)}}function _m(i){i.modified_||(i.modified_=!0,i.parent_&&_m(i.parent_))}function Yd(i){i.copy_||(i.copy_=gm(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var VR=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,a)=>{if(typeof e=="function"&&typeof r!="function"){const u=r;r=e;const h=this;return function(p=u,...g){return h.produce(p,E=>r.call(this,E,...g))}}typeof r!="function"&&Fn(6),a!==void 0&&typeof a!="function"&&Fn(7);let o;if(Yr(e)){const u=o_(this),h=Em(e,void 0);let d=!0;try{o=r(h),d=!1}finally{d?ym(u):vm(u)}return s_(u,a),l_(o,u)}else if(!e||typeof e!="object"){if(o=r(e),o===void 0&&(o=e),o===f0&&(o=void 0),this.autoFreeze_&&Xm(o,!0),a){const u=[],h=[];ja("Patches").generateReplacementPatches_(e,o,u,h),a(u,h)}return o}else Fn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(h,...d)=>this.produceWithPatches(h,p=>e(p,...d));let a,o;return[this.produce(e,r,(h,d)=>{a=h,o=d}),a,o]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){Yr(i)||Fn(8),Ba(i)&&(i=xR(i));const e=o_(this),r=Em(i,void 0);return r[yn].isManual_=!0,vm(e),r}finishDraft(i,e){const r=i&&i[yn];(!r||!r.isManual_)&&Fn(9);const{scope_:a}=r;return s_(a,e),l_(void 0,a)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,e){let r;for(r=e.length-1;r>=0;r--){const o=e[r];if(o.path.length===0&&o.op==="replace"){i=o.value;break}}r>-1&&(e=e.slice(r+1));const a=ja("Patches").applyPatches_;return Ba(i)?a(i,e):this.produce(i,o=>a(o,e))}};function Em(i,e){const r=cf(i)?ja("MapSet").proxyMap_(i,e):ff(i)?ja("MapSet").proxySet_(i,e):MR(i,e);return(e?e.scope_:m0()).drafts_.push(r),r}function xR(i){return Ba(i)||Fn(10,i),g0(i)}function g0(i){if(!Yr(i)||hf(i))return i;const e=i[yn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=gm(i,e.scope_.immer_.useStrictShallowCopy_)}else r=gm(i,!0);return zc(r,(a,o)=>{d0(r,a,g0(o))}),e&&(e.finalized_=!1),r}var vn=new VR,y0=vn.produce;vn.produceWithPatches.bind(vn);vn.setAutoFreeze.bind(vn);vn.setUseStrictShallowCopy.bind(vn);vn.applyPatches.bind(vn);vn.createDraft.bind(vn);vn.finishDraft.bind(vn);function v0(i){return({dispatch:r,getState:a})=>o=>u=>typeof u=="function"?u(r,a,i):o(u)}var PR=v0(),LR=v0,UR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kc:kc.apply(null,arguments)},kR=i=>i&&typeof i.match=="function";function Sl(i,e){function r(...a){if(e){let o=e(...a);if(!o)throw new Error(Kr(0));return{type:i,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:i,payload:a[0]}}return r.toString=()=>`${i}`,r.type=i,r.match=a=>AR(a)&&a.type===i,r}var _0=class vl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,vl.prototype)}static get[Symbol.species](){return vl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new vl(...e[0].concat(this)):new vl(...e.concat(this))}};function c_(i){return Yr(i)?y0(i,()=>{}):i}function f_(i,e,r){return i.has(e)?i.get(e):i.set(e,r(e)).get(e)}function zR(i){return typeof i=="boolean"}var BR=()=>function(e){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new _0;return r&&(zR(r)?h.push(PR):h.push(LR(r.extraArgument))),h},jR="RTK_autoBatch",h_=i=>e=>{setTimeout(e,i)},qR=(i={type:"raf"})=>e=>(...r)=>{const a=e(...r);let o=!0,u=!1,h=!1;const d=new Set,p=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:h_(10):i.type==="callback"?i.queueNotification:h_(i.timeout),g=()=>{h=!1,u&&(u=!1,d.forEach(E=>E()))};return Object.assign({},a,{subscribe(E){const T=()=>o&&E(),b=a.subscribe(T);return d.add(E),()=>{b(),d.delete(E)}},dispatch(E){var T;try{return o=!((T=E==null?void 0:E.meta)!=null&&T[jR]),u=!o,u&&(h||(h=!0,p(g))),a.dispatch(E)}finally{o=!0}}})},HR=i=>function(r){const{autoBatch:a=!0}=r??{};let o=new _0(i);return a&&o.push(qR(typeof a=="object"?a:void 0)),o};function FR(i){const e=BR(),{reducer:r=void 0,middleware:a,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=i||{};let d;if(typeof r=="function")d=r;else if(Ym(r))d=bR(r);else throw new Error(Kr(1));let p;typeof a=="function"?p=a(e):p=e();let g=kc;o&&(g=UR({trace:!1,...typeof o=="object"&&o}));const E=SR(...p),T=HR(E);let b=typeof h=="function"?h(T):T();const R=g(...b);return c0(d,u,R)}function E0(i){const e={},r=[];let a;const o={addCase(u,h){const d=typeof u=="string"?u:u.type;if(!d)throw new Error(Kr(28));if(d in e)throw new Error(Kr(29));return e[d]=h,o},addMatcher(u,h){return r.push({matcher:u,reducer:h}),o},addDefaultCase(u){return a=u,o}};return i(o),[e,r,a]}function GR(i){return typeof i=="function"}function QR(i,e){let[r,a,o]=E0(e),u;if(GR(i))u=()=>c_(i());else{const d=c_(i);u=()=>d}function h(d=u(),p){let g=[r[p.type],...a.filter(({matcher:E})=>E(p)).map(({reducer:E})=>E)];return g.filter(E=>!!E).length===0&&(g=[o]),g.reduce((E,T)=>{if(T)if(Ba(E)){const R=T(E,p);return R===void 0?E:R}else{if(Yr(E))return y0(E,b=>T(b,p));{const b=T(E,p);if(b===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return E},d)}return h.getInitialState=u,h}var KR=(i,e)=>kR(i)?i.match(e):i(e);function $R(...i){return e=>i.some(r=>KR(r,e))}var YR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XR=(i=21)=>{let e="",r=i;for(;r--;)e+=YR[Math.random()*64|0];return e},WR=["name","message","stack","code"],Xd=class{constructor(i,e){xd(this,"_type");this.payload=i,this.meta=e}},d_=class{constructor(i,e){xd(this,"_type");this.payload=i,this.meta=e}},ZR=i=>{if(typeof i=="object"&&i!==null){const e={};for(const r of WR)typeof i[r]=="string"&&(e[r]=i[r]);return e}return{message:String(i)}},JR=(()=>{function i(e,r,a){const o=Sl(e+"/fulfilled",(p,g,E,T)=>({payload:p,meta:{...T||{},arg:E,requestId:g,requestStatus:"fulfilled"}})),u=Sl(e+"/pending",(p,g,E)=>({payload:void 0,meta:{...E||{},arg:g,requestId:p,requestStatus:"pending"}})),h=Sl(e+"/rejected",(p,g,E,T,b)=>({payload:T,error:(a&&a.serializeError||ZR)(p||"Rejected"),meta:{...b||{},arg:E,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function d(p){return(g,E,T)=>{const b=a!=null&&a.idGenerator?a.idGenerator(p):XR(),R=new AbortController;let I,q;function P(Y){q=Y,R.abort()}const F=async function(){var oe,ae;let Y;try{let he=(oe=a==null?void 0:a.condition)==null?void 0:oe.call(a,p,{getState:E,extra:T});if(t1(he)&&(he=await he),he===!1||R.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const L=new Promise((C,w)=>{I=()=>{w({name:"AbortError",message:q||"Aborted"})},R.signal.addEventListener("abort",I)});g(u(b,p,(ae=a==null?void 0:a.getPendingMeta)==null?void 0:ae.call(a,{requestId:b,arg:p},{getState:E,extra:T}))),Y=await Promise.race([L,Promise.resolve(r(p,{dispatch:g,getState:E,extra:T,requestId:b,signal:R.signal,abort:P,rejectWithValue:(C,w)=>new Xd(C,w),fulfillWithValue:(C,w)=>new d_(C,w)})).then(C=>{if(C instanceof Xd)throw C;return C instanceof d_?o(C.payload,b,p,C.meta):o(C,b,p)})])}catch(he){Y=he instanceof Xd?h(null,b,p,he.payload,he.meta):h(he,b,p)}finally{I&&R.signal.removeEventListener("abort",I)}return a&&!a.dispatchConditionRejection&&h.match(Y)&&Y.meta.condition||g(Y),Y}();return Object.assign(F,{abort:P,requestId:b,arg:p,unwrap(){return F.then(e1)}})}}return Object.assign(d,{pending:u,rejected:h,fulfilled:o,settled:$R(h,o),typePrefix:e})}return i.withTypes=()=>i,i})();function e1(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function t1(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var n1=Symbol.for("rtk-slice-createasyncthunk");function r1(i,e){return`${i}/${e}`}function i1({creators:i}={}){var r;const e=(r=i==null?void 0:i.asyncThunk)==null?void 0:r[n1];return function(o){const{name:u,reducerPath:h=u}=o;if(!u)throw new Error(Kr(11));const d=(typeof o.reducers=="function"?o.reducers(s1()):o.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},E={addCase($,oe){const ae=typeof $=="string"?$:$.type;if(!ae)throw new Error(Kr(12));if(ae in g.sliceCaseReducersByType)throw new Error(Kr(13));return g.sliceCaseReducersByType[ae]=oe,E},addMatcher($,oe){return g.sliceMatchers.push({matcher:$,reducer:oe}),E},exposeAction($,oe){return g.actionCreators[$]=oe,E},exposeCaseReducer($,oe){return g.sliceCaseReducersByName[$]=oe,E}};p.forEach($=>{const oe=d[$],ae={reducerName:$,type:r1(u,$),createNotation:typeof o.reducers=="function"};l1(oe)?c1(ae,oe,E,e):o1(ae,oe,E)});function T(){const[$={},oe=[],ae=void 0]=typeof o.extraReducers=="function"?E0(o.extraReducers):[o.extraReducers],he={...$,...g.sliceCaseReducersByType};return QR(o.initialState,L=>{for(let C in he)L.addCase(C,he[C]);for(let C of g.sliceMatchers)L.addMatcher(C.matcher,C.reducer);for(let C of oe)L.addMatcher(C.matcher,C.reducer);ae&&L.addDefaultCase(ae)})}const b=$=>$,R=new Map;let I;function q($,oe){return I||(I=T()),I($,oe)}function P(){return I||(I=T()),I.getInitialState()}function F($,oe=!1){function ae(L){let C=L[$];return typeof C>"u"&&oe&&(C=P()),C}function he(L=b){const C=f_(R,oe,()=>new WeakMap);return f_(C,L,()=>{const w={};for(const[M,N]of Object.entries(o.selectors??{}))w[M]=a1(N,L,P,oe);return w})}return{reducerPath:$,getSelectors:he,get selectors(){return he(ae)},selectSlice:ae}}const Y={name:u,reducer:q,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:P,...F(h),injectInto($,{reducerPath:oe,...ae}={}){const he=oe??h;return $.inject({reducerPath:he,reducer:q},ae),{...Y,...F(he,!0)}}};return Y}}function a1(i,e,r,a){function o(u,...h){let d=e(u);return typeof d>"u"&&a&&(d=r()),i(d,...h)}return o.unwrapped=i,o}var T0=i1();function s1(){function i(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return i.withTypes=()=>i,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:i}}function o1({type:i,reducerName:e,createNotation:r},a,o){let u,h;if("reducer"in a){if(r&&!u1(a))throw new Error(Kr(17));u=a.reducer,h=a.prepare}else u=a;o.addCase(i,u).exposeCaseReducer(e,u).exposeAction(e,h?Sl(i,h):Sl(i))}function l1(i){return i._reducerDefinitionType==="asyncThunk"}function u1(i){return i._reducerDefinitionType==="reducerWithPrepare"}function c1({type:i,reducerName:e},r,a,o){if(!o)throw new Error(Kr(18));const{payloadCreator:u,fulfilled:h,pending:d,rejected:p,settled:g,options:E}=r,T=o(i,u,E);a.exposeAction(e,T),h&&a.addCase(T.fulfilled,h),d&&a.addCase(T.pending,d),p&&a.addCase(T.rejected,p),g&&a.addMatcher(T.settled,g),a.exposeCaseReducer(e,{fulfilled:h||yc,pending:d||yc,rejected:p||yc,settled:g||yc})}function yc(){}function Kr(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},f1=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const o=i[r++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],h=i[r++],d=i[r++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],h=i[r++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,R=g&63;p||(R=64,h||(b=64)),a.push(r[E],r[T],r[b],r[R])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(b0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):f1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],d=o<i.length?r[i.charAt(o)]:0;++o;const g=o<i.length?r[i.charAt(o)]:64;++o;const T=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new h1;const b=u<<2|d>>4;if(a.push(b),g!==64){const R=d<<4&240|g>>2;if(a.push(R),T!==64){const I=g<<6&192|T;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d1=function(i){const e=b0(i);return S0.encodeByteArray(e,!0)},qc=function(i){return d1(i).replace(/\./g,"")},m1=function(i){try{return S0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=()=>p1().__FIREBASE_DEFAULTS__,y1=()=>{if(typeof process>"u"||typeof m_>"u")return;const i=m_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},v1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&m1(i[1]);return e&&JSON.parse(e)},Zm=()=>{try{return g1()||y1()||v1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_1=i=>{var e,r;return(r=(e=Zm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},E1=i=>{const e=_1(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},A0=()=>{var i;return(i=Zm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[qc(JSON.stringify(r)),qc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A1(){var i;const e=(i=Zm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function R1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w0(){try{return typeof indexedDB=="object"}catch{return!1}}function R0(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function C1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class ea extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=D1,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,df.prototype.create)}}class df{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?O1(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ea(o,d,a)}}function O1(i,e){return i.replace(I1,(r,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const I1=/\{\$([^}]+)}/g;function Hc(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const o of r){if(!a.includes(o))return!1;const u=i[o],h=e[o];if(p_(u)&&p_(h)){if(!Hc(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!r.includes(o))return!1;return!0}function p_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=1e3,N1=2,V1=4*60*60*1e3,x1=.5;function g_(i,e=M1,r=N1){const a=e*Math.pow(r,i),o=Math.round(x1*a*(Math.random()-.5)*2);return Math.min(V1,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i){return i&&i._delegate?i._delegate:i}class Xr{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new T1;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U1(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(e,r){var a;const o=this.normalizeInstanceIdentifier(r),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const o of a)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(i){return i===La?void 0:i}function U1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new P1(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const z1={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},B1=Be.INFO,j1={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},q1=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=j1[e];if(o)console[o](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const H1=(i,e)=>e.some(r=>i instanceof r);let y_,v_;function F1(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,Tm=new WeakMap,D0=new WeakMap,Wd=new WeakMap,ep=new WeakMap;function Q1(i){const e=new Promise((r,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(zi(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&C0.set(r,i)}).catch(()=>{}),ep.set(e,i),e}function K1(i){if(Tm.has(i))return;const e=new Promise((r,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Tm.set(i,e)}let bm={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Tm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||D0.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zi(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $1(i){bm=i(bm)}function Y1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(Zd(this),e,...r);return D0.set(a,e.sort?e.sort():[e]),zi(a)}:G1().includes(i)?function(...e){return i.apply(Zd(this),e),zi(C0.get(this))}:function(...e){return zi(i.apply(Zd(this),e))}}function X1(i){return typeof i=="function"?Y1(i):(i instanceof IDBTransaction&&K1(i),H1(i,F1())?new Proxy(i,bm):i)}function zi(i){if(i instanceof IDBRequest)return Q1(i);if(Wd.has(i))return Wd.get(i);const e=X1(i);return e!==i&&(Wd.set(i,e),ep.set(e,i)),e}const Zd=i=>ep.get(i);function O0(i,e,{blocked:r,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=zi(h);return a&&h.addEventListener("upgradeneeded",p=>{a(zi(h.result),p.oldVersion,p.newVersion,zi(h.transaction),p)}),r&&h.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const W1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],Jd=new Map;function __(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,o=Z1.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(o||W1.includes(r)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[r](...d),o&&p.done]))[0]};return Jd.set(e,u),u}$1(i=>({...i,get:(e,r,a)=>__(e,r)||i.get(e,r,a),has:(e,r)=>!!__(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(eC(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function eC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",E_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Jm("@firebase/app"),tC="@firebase/app-compat",nC="@firebase/analytics-compat",rC="@firebase/analytics",iC="@firebase/app-check-compat",aC="@firebase/app-check",sC="@firebase/auth",oC="@firebase/auth-compat",lC="@firebase/database",uC="@firebase/data-connect",cC="@firebase/database-compat",fC="@firebase/functions",hC="@firebase/functions-compat",dC="@firebase/installations",mC="@firebase/installations-compat",pC="@firebase/messaging",gC="@firebase/messaging-compat",yC="@firebase/performance",vC="@firebase/performance-compat",_C="@firebase/remote-config",EC="@firebase/remote-config-compat",TC="@firebase/storage",bC="@firebase/storage-compat",SC="@firebase/firestore",AC="@firebase/vertexai",wC="@firebase/firestore-compat",RC="firebase",CC="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",DC={[Sm]:"fire-core",[tC]:"fire-core-compat",[rC]:"fire-analytics",[nC]:"fire-analytics-compat",[aC]:"fire-app-check",[iC]:"fire-app-check-compat",[sC]:"fire-auth",[oC]:"fire-auth-compat",[lC]:"fire-rtdb",[uC]:"fire-data-connect",[cC]:"fire-rtdb-compat",[fC]:"fire-fn",[hC]:"fire-fn-compat",[dC]:"fire-iid",[mC]:"fire-iid-compat",[pC]:"fire-fcm",[gC]:"fire-fcm-compat",[yC]:"fire-perf",[vC]:"fire-perf-compat",[_C]:"fire-rc",[EC]:"fire-rc-compat",[TC]:"fire-gcs",[bC]:"fire-gcs-compat",[SC]:"fire-fst",[wC]:"fire-fst-compat",[AC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,OC=new Map,wm=new Map;function T_(i,e){try{i.container.addComponent(e)}catch(r){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Ki(i){const e=i.name;if(wm.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const r of Fc.values())T_(r,i);for(const r of OC.values())T_(r,i);return!0}function Gl(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function IC(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new df("app","Firebase",MC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,r,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=CC;function I0(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Am,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(r||(r=A0()),!r)throw Bi.create("no-options");const u=Fc.get(o);if(u){if(Hc(r,u.options)&&Hc(a,u.config))return u;throw Bi.create("duplicate-app",{appName:o})}const h=new k1(o);for(const p of wm.values())h.addComponent(p);const d=new NC(r,a,h);return Fc.set(o,d),d}function M0(i=Am){const e=Fc.get(i);if(!e&&i===Am&&A0())return I0();if(!e)throw Bi.create("no-app",{appName:i});return e}function fr(i,e,r){var a;let o=(a=DC[i])!==null&&a!==void 0?a:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(d.join(" "));return}Ki(new Xr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebase-heartbeat-database",PC=1,Vl="firebase-heartbeat-store";let em=null;function N0(){return em||(em=O0(xC,PC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vl)}catch(r){console.warn(r)}}}}).catch(i=>{throw Bi.create("idb-open",{originalErrorMessage:i.message})})),em}async function LC(i){try{const r=(await N0()).transaction(Vl),a=await r.objectStore(Vl).get(V0(i));return await r.done,a}catch(e){if(e instanceof ea)Wr.warn(e.message);else{const r=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(r.message)}}}async function b_(i,e){try{const a=(await N0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(e,V0(i)),await a.done}catch(r){if(r instanceof ea)Wr.warn(r.message);else{const a=Bi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Wr.warn(a.message)}}}function V0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1024,kC=30;class zC{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new jC(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=S_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kC){const h=qC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Wr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=S_(),{heartbeatsToSend:a,unsentEntries:o}=BC(this._heartbeatsCache.heartbeats),u=qc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Wr.warn(r),""}}}function S_(){return new Date().toISOString().substring(0,10)}function BC(i,e=UC){const r=[];let a=i.slice();for(const o of i){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),A_(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),A_(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class jC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w0()?R0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await LC(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function A_(i){return qc(JSON.stringify({version:2,heartbeats:i})).length}function qC(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){Ki(new Xr("platform-logger",e=>new J1(e),"PRIVATE")),Ki(new Xr("heartbeat",e=>new zC(e),"PRIVATE")),fr(Sm,E_,i),fr(Sm,E_,"esm2017"),fr("fire-js","")}HC("");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,x0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,C){function w(){}w.prototype=C.prototype,L.D=C.prototype,L.prototype=new w,L.prototype.constructor=L,L.C=function(M,N,x){for(var D=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)D[ue-2]=arguments[ue];return C.prototype[N].apply(M,D)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,C,w){w||(w=0);var M=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)M[N]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(N=0;16>N;++N)M[N]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=L.g[0],w=L.g[1],N=L.g[2];var x=L.g[3],D=C+(x^w&(N^x))+M[0]+3614090360&4294967295;C=w+(D<<7&4294967295|D>>>25),D=x+(N^C&(w^N))+M[1]+3905402710&4294967295,x=C+(D<<12&4294967295|D>>>20),D=N+(w^x&(C^w))+M[2]+606105819&4294967295,N=x+(D<<17&4294967295|D>>>15),D=w+(C^N&(x^C))+M[3]+3250441966&4294967295,w=N+(D<<22&4294967295|D>>>10),D=C+(x^w&(N^x))+M[4]+4118548399&4294967295,C=w+(D<<7&4294967295|D>>>25),D=x+(N^C&(w^N))+M[5]+1200080426&4294967295,x=C+(D<<12&4294967295|D>>>20),D=N+(w^x&(C^w))+M[6]+2821735955&4294967295,N=x+(D<<17&4294967295|D>>>15),D=w+(C^N&(x^C))+M[7]+4249261313&4294967295,w=N+(D<<22&4294967295|D>>>10),D=C+(x^w&(N^x))+M[8]+1770035416&4294967295,C=w+(D<<7&4294967295|D>>>25),D=x+(N^C&(w^N))+M[9]+2336552879&4294967295,x=C+(D<<12&4294967295|D>>>20),D=N+(w^x&(C^w))+M[10]+4294925233&4294967295,N=x+(D<<17&4294967295|D>>>15),D=w+(C^N&(x^C))+M[11]+2304563134&4294967295,w=N+(D<<22&4294967295|D>>>10),D=C+(x^w&(N^x))+M[12]+1804603682&4294967295,C=w+(D<<7&4294967295|D>>>25),D=x+(N^C&(w^N))+M[13]+4254626195&4294967295,x=C+(D<<12&4294967295|D>>>20),D=N+(w^x&(C^w))+M[14]+2792965006&4294967295,N=x+(D<<17&4294967295|D>>>15),D=w+(C^N&(x^C))+M[15]+1236535329&4294967295,w=N+(D<<22&4294967295|D>>>10),D=C+(N^x&(w^N))+M[1]+4129170786&4294967295,C=w+(D<<5&4294967295|D>>>27),D=x+(w^N&(C^w))+M[6]+3225465664&4294967295,x=C+(D<<9&4294967295|D>>>23),D=N+(C^w&(x^C))+M[11]+643717713&4294967295,N=x+(D<<14&4294967295|D>>>18),D=w+(x^C&(N^x))+M[0]+3921069994&4294967295,w=N+(D<<20&4294967295|D>>>12),D=C+(N^x&(w^N))+M[5]+3593408605&4294967295,C=w+(D<<5&4294967295|D>>>27),D=x+(w^N&(C^w))+M[10]+38016083&4294967295,x=C+(D<<9&4294967295|D>>>23),D=N+(C^w&(x^C))+M[15]+3634488961&4294967295,N=x+(D<<14&4294967295|D>>>18),D=w+(x^C&(N^x))+M[4]+3889429448&4294967295,w=N+(D<<20&4294967295|D>>>12),D=C+(N^x&(w^N))+M[9]+568446438&4294967295,C=w+(D<<5&4294967295|D>>>27),D=x+(w^N&(C^w))+M[14]+3275163606&4294967295,x=C+(D<<9&4294967295|D>>>23),D=N+(C^w&(x^C))+M[3]+4107603335&4294967295,N=x+(D<<14&4294967295|D>>>18),D=w+(x^C&(N^x))+M[8]+1163531501&4294967295,w=N+(D<<20&4294967295|D>>>12),D=C+(N^x&(w^N))+M[13]+2850285829&4294967295,C=w+(D<<5&4294967295|D>>>27),D=x+(w^N&(C^w))+M[2]+4243563512&4294967295,x=C+(D<<9&4294967295|D>>>23),D=N+(C^w&(x^C))+M[7]+1735328473&4294967295,N=x+(D<<14&4294967295|D>>>18),D=w+(x^C&(N^x))+M[12]+2368359562&4294967295,w=N+(D<<20&4294967295|D>>>12),D=C+(w^N^x)+M[5]+4294588738&4294967295,C=w+(D<<4&4294967295|D>>>28),D=x+(C^w^N)+M[8]+2272392833&4294967295,x=C+(D<<11&4294967295|D>>>21),D=N+(x^C^w)+M[11]+1839030562&4294967295,N=x+(D<<16&4294967295|D>>>16),D=w+(N^x^C)+M[14]+4259657740&4294967295,w=N+(D<<23&4294967295|D>>>9),D=C+(w^N^x)+M[1]+2763975236&4294967295,C=w+(D<<4&4294967295|D>>>28),D=x+(C^w^N)+M[4]+1272893353&4294967295,x=C+(D<<11&4294967295|D>>>21),D=N+(x^C^w)+M[7]+4139469664&4294967295,N=x+(D<<16&4294967295|D>>>16),D=w+(N^x^C)+M[10]+3200236656&4294967295,w=N+(D<<23&4294967295|D>>>9),D=C+(w^N^x)+M[13]+681279174&4294967295,C=w+(D<<4&4294967295|D>>>28),D=x+(C^w^N)+M[0]+3936430074&4294967295,x=C+(D<<11&4294967295|D>>>21),D=N+(x^C^w)+M[3]+3572445317&4294967295,N=x+(D<<16&4294967295|D>>>16),D=w+(N^x^C)+M[6]+76029189&4294967295,w=N+(D<<23&4294967295|D>>>9),D=C+(w^N^x)+M[9]+3654602809&4294967295,C=w+(D<<4&4294967295|D>>>28),D=x+(C^w^N)+M[12]+3873151461&4294967295,x=C+(D<<11&4294967295|D>>>21),D=N+(x^C^w)+M[15]+530742520&4294967295,N=x+(D<<16&4294967295|D>>>16),D=w+(N^x^C)+M[2]+3299628645&4294967295,w=N+(D<<23&4294967295|D>>>9),D=C+(N^(w|~x))+M[0]+4096336452&4294967295,C=w+(D<<6&4294967295|D>>>26),D=x+(w^(C|~N))+M[7]+1126891415&4294967295,x=C+(D<<10&4294967295|D>>>22),D=N+(C^(x|~w))+M[14]+2878612391&4294967295,N=x+(D<<15&4294967295|D>>>17),D=w+(x^(N|~C))+M[5]+4237533241&4294967295,w=N+(D<<21&4294967295|D>>>11),D=C+(N^(w|~x))+M[12]+1700485571&4294967295,C=w+(D<<6&4294967295|D>>>26),D=x+(w^(C|~N))+M[3]+2399980690&4294967295,x=C+(D<<10&4294967295|D>>>22),D=N+(C^(x|~w))+M[10]+4293915773&4294967295,N=x+(D<<15&4294967295|D>>>17),D=w+(x^(N|~C))+M[1]+2240044497&4294967295,w=N+(D<<21&4294967295|D>>>11),D=C+(N^(w|~x))+M[8]+1873313359&4294967295,C=w+(D<<6&4294967295|D>>>26),D=x+(w^(C|~N))+M[15]+4264355552&4294967295,x=C+(D<<10&4294967295|D>>>22),D=N+(C^(x|~w))+M[6]+2734768916&4294967295,N=x+(D<<15&4294967295|D>>>17),D=w+(x^(N|~C))+M[13]+1309151649&4294967295,w=N+(D<<21&4294967295|D>>>11),D=C+(N^(w|~x))+M[4]+4149444226&4294967295,C=w+(D<<6&4294967295|D>>>26),D=x+(w^(C|~N))+M[11]+3174756917&4294967295,x=C+(D<<10&4294967295|D>>>22),D=N+(C^(x|~w))+M[2]+718787259&4294967295,N=x+(D<<15&4294967295|D>>>17),D=w+(x^(N|~C))+M[9]+3951481745&4294967295,L.g[0]=L.g[0]+C&4294967295,L.g[1]=L.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,L.g[2]=L.g[2]+N&4294967295,L.g[3]=L.g[3]+x&4294967295}a.prototype.u=function(L,C){C===void 0&&(C=L.length);for(var w=C-this.blockSize,M=this.B,N=this.h,x=0;x<C;){if(N==0)for(;x<=w;)o(this,L,x),x+=this.blockSize;if(typeof L=="string"){for(;x<C;)if(M[N++]=L.charCodeAt(x++),N==this.blockSize){o(this,M),N=0;break}}else for(;x<C;)if(M[N++]=L[x++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=C},a.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var C=1;C<L.length-8;++C)L[C]=0;var w=8*this.o;for(C=L.length-8;C<L.length;++C)L[C]=w&255,w/=256;for(this.u(L),L=Array(16),C=w=0;4>C;++C)for(var M=0;32>M;M+=8)L[w++]=this.g[C]>>>M&255;return L};function u(L,C){var w=d;return Object.prototype.hasOwnProperty.call(w,L)?w[L]:w[L]=C(L)}function h(L,C){this.h=C;for(var w=[],M=!0,N=L.length-1;0<=N;N--){var x=L[N]|0;M&&x==C||(w[N]=x,M=!1)}this.g=w}var d={};function p(L){return-128<=L&&128>L?u(L,function(C){return new h([C|0],0>C?-1:0)}):new h([L|0],0>L?-1:0)}function g(L){if(isNaN(L)||!isFinite(L))return T;if(0>L)return P(g(-L));for(var C=[],w=1,M=0;L>=w;M++)C[M]=L/w|0,w*=4294967296;return new h(C,0)}function E(L,C){if(L.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L.charAt(0)=="-")return P(E(L.substring(1),C));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(C,8)),M=T,N=0;N<L.length;N+=8){var x=Math.min(8,L.length-N),D=parseInt(L.substring(N,N+x),C);8>x?(x=g(Math.pow(C,x)),M=M.j(x).add(g(D))):(M=M.j(w),M=M.add(g(D)))}return M}var T=p(0),b=p(1),R=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-P(this).m();for(var L=0,C=1,w=0;w<this.g.length;w++){var M=this.i(w);L+=(0<=M?M:4294967296+M)*C,C*=4294967296}return L},i.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(I(this))return"0";if(q(this))return"-"+P(this).toString(L);for(var C=g(Math.pow(L,6)),w=this,M="";;){var N=oe(w,C).g;w=F(w,N.j(C));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(L);if(w=N,I(w))return x+M;for(;6>x.length;)x="0"+x;M=x+M}},i.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function I(L){if(L.h!=0)return!1;for(var C=0;C<L.g.length;C++)if(L.g[C]!=0)return!1;return!0}function q(L){return L.h==-1}i.l=function(L){return L=F(this,L),q(L)?-1:I(L)?0:1};function P(L){for(var C=L.g.length,w=[],M=0;M<C;M++)w[M]=~L.g[M];return new h(w,~L.h).add(b)}i.abs=function(){return q(this)?P(this):this},i.add=function(L){for(var C=Math.max(this.g.length,L.g.length),w=[],M=0,N=0;N<=C;N++){var x=M+(this.i(N)&65535)+(L.i(N)&65535),D=(x>>>16)+(this.i(N)>>>16)+(L.i(N)>>>16);M=D>>>16,x&=65535,D&=65535,w[N]=D<<16|x}return new h(w,w[w.length-1]&-2147483648?-1:0)};function F(L,C){return L.add(P(C))}i.j=function(L){if(I(this)||I(L))return T;if(q(this))return q(L)?P(this).j(P(L)):P(P(this).j(L));if(q(L))return P(this.j(P(L)));if(0>this.l(R)&&0>L.l(R))return g(this.m()*L.m());for(var C=this.g.length+L.g.length,w=[],M=0;M<2*C;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<L.g.length;N++){var x=this.i(M)>>>16,D=this.i(M)&65535,ue=L.i(N)>>>16,le=L.i(N)&65535;w[2*M+2*N]+=D*le,Y(w,2*M+2*N),w[2*M+2*N+1]+=x*le,Y(w,2*M+2*N+1),w[2*M+2*N+1]+=D*ue,Y(w,2*M+2*N+1),w[2*M+2*N+2]+=x*ue,Y(w,2*M+2*N+2)}for(M=0;M<C;M++)w[M]=w[2*M+1]<<16|w[2*M];for(M=C;M<2*C;M++)w[M]=0;return new h(w,0)};function Y(L,C){for(;(L[C]&65535)!=L[C];)L[C+1]+=L[C]>>>16,L[C]&=65535,C++}function $(L,C){this.g=L,this.h=C}function oe(L,C){if(I(C))throw Error("division by zero");if(I(L))return new $(T,T);if(q(L))return C=oe(P(L),C),new $(P(C.g),P(C.h));if(q(C))return C=oe(L,P(C)),new $(P(C.g),C.h);if(30<L.g.length){if(q(L)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var w=b,M=C;0>=M.l(L);)w=ae(w),M=ae(M);var N=he(w,1),x=he(M,1);for(M=he(M,2),w=he(w,2);!I(M);){var D=x.add(M);0>=D.l(L)&&(N=N.add(w),x=D),M=he(M,1),w=he(w,1)}return C=F(L,N.j(C)),new $(N,C)}for(N=T;0<=L.l(C);){for(w=Math.max(1,Math.floor(L.m()/C.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),x=g(w),D=x.j(C);q(D)||0<D.l(L);)w-=M,x=g(w),D=x.j(C);I(x)&&(x=b),N=N.add(x),L=F(L,D)}return new $(N,L)}i.A=function(L){return oe(this,L).h},i.and=function(L){for(var C=Math.max(this.g.length,L.g.length),w=[],M=0;M<C;M++)w[M]=this.i(M)&L.i(M);return new h(w,this.h&L.h)},i.or=function(L){for(var C=Math.max(this.g.length,L.g.length),w=[],M=0;M<C;M++)w[M]=this.i(M)|L.i(M);return new h(w,this.h|L.h)},i.xor=function(L){for(var C=Math.max(this.g.length,L.g.length),w=[],M=0;M<C;M++)w[M]=this.i(M)^L.i(M);return new h(w,this.h^L.h)};function ae(L){for(var C=L.g.length+1,w=[],M=0;M<C;M++)w[M]=L.i(M)<<1|L.i(M-1)>>>31;return new h(w,L.h)}function he(L,C){var w=C>>5;C%=32;for(var M=L.g.length-w,N=[],x=0;x<M;x++)N[x]=0<C?L.i(x+w)>>>C|L.i(x+w+1)<<32-C:L.i(x+w);return new h(N,L.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,x0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ji=h}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P0,_l,L0,Ic,Rm,U0,k0,z0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=r(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,b.apply(null,arguments)}function R(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function I(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,K){for(var ce=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ce[Le-2]=arguments[Le];return y.prototype[j].apply(A,ce)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function P(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const j=c.length||0,K=A.length||0;c.length=j+K;for(let ce=0;ce<K;ce++)c[j+ce]=A[ce]}else c.push(A)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ae=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function he(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function L(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let K=0;K<w.length;K++)v=w[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function x(c){d.setTimeout(()=>{throw c},0)}function D(){var c=_e;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,v){const A=le.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new F(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let B,ne=!1,_e=new ue,V=()=>{const c=d.Promise.resolve(void 0);B=()=>{c.then(Z)}};var Z=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){x(v)}var y=le;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ne=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{oe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}I(De,fe);var Ce={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),je=0;function st(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++je,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yt(c){this.src=c,this.g={},this.h=0}Yt.prototype.add=function(c,y,v,A,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ce=_n(c,y,A,j);return-1<ce?(y=c[ce],v||(y.fa=!1)):(y=new st(y,this.src,K,!!A,j),y.fa=v,c.push(y)),y};function _r(c,y){var v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(A,j,1),K&&(Ke(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _n(c,y,v,A){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return j}return-1}var ei="closure_lm_"+(1e6*Math.random()|0),ti={};function Er(c,y,v,A,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Er(c,y[K],v,A,j);return null}return v=Yl(v),c&&c[at]?c.K(y,v,g(A)?!!A.capture:!1,j):oo(c,y,v,!1,A,j)}function oo(c,y,v,A,j,K){if(!y)throw Error("Invalid event type");var ce=g(j)?!!j.capture:!!j,Le=lo(c);if(Le||(c[ei]=Le=new Yt(c)),v=Le.add(y,v,A,ce,K),v.proxy)return v;if(A=Xa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)de||(j=ce),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(Za(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xa(){function c(v){return y.call(c.src,c.listener,v)}const y=Lf;return c}function Wa(c,y,v,A,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)Wa(c,y[K],v,A,j);else A=g(A)?!!A.capture:!!A,v=Yl(v),c&&c[at]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=_n(K,v,A,j),-1<v&&(Ke(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=lo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=_n(y,v,A,j)),(v=-1<c?y[c]:null)&&na(v))}function na(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[at])_r(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(Za(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=lo(y))?(_r(v,c),v.h==0&&(v.src=null,y[ei]=null)):Ke(c)}}}function Za(c){return c in ti?ti[c]:ti[c]="on"+c}function Lf(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&na(c),c=v.call(A,y)}return c}function lo(c){return c=c[ei],c instanceof Yt?c:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yl(c){return typeof c=="function"?c:(c[tn]||(c[tn]=function(y){return c.handleEvent(y)}),c[tn])}function vt(){me.call(this),this.i=new Yt(this),this.M=this,this.F=null}I(vt,me),vt.prototype[at]=!0,vt.prototype.removeEventListener=function(c,y,v,A){Wa(this,c,y,v,A)};function Ct(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new fe(y,c);else if(y instanceof fe)y.target=y.target||c;else{var j=y;y=new fe(A,c),M(y,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var ce=y.g=v[K];j=Tr(ce,A,!0,y)&&j}if(ce=y.g=c,j=Tr(ce,A,!0,y)&&j,j=Tr(ce,A,!1,y)&&j,v)for(K=0;K<v.length;K++)ce=y.g=v[K],j=Tr(ce,A,!1,y)&&j}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Ke(v[A]);delete c.g[y],c.h--}}this.F=null},vt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},vt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Tr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var ce=y[K];if(ce&&!ce.da&&ce.capture==v){var Le=ce.listener,Et=ce.ha||ce.src;ce.fa&&_r(c.i,ce),j=Le.call(Et,A)!==!1&&j}}return j&&!A.defaultPrevented}function Xl(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function uo(c){c.g=Xl(()=>{c.g=null,c.i&&(c.i=!1,uo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Uf extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(c){me.call(this),this.h=c,this.g={}}I(ra,me);var ni=[];function Ht(c){he(c.g,function(y,v){this.g.hasOwnProperty(v)&&na(y)},c),c.g={}}ra.prototype.N=function(){ra.aa.N.call(this),Ht(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=d.JSON.stringify,Kn=d.JSON.parse,Xt=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function fo(){}fo.prototype.h=null;function Wl(c){return c.h||(c.h=c.i())}function Zl(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){fe.call(this,"d")}I(ri,fe);function Un(){fe.call(this,"c")}I(Un,fe);var En={},ii=null;function Ja(){return ii=ii||new vt}En.La="serverreachability";function ho(c){fe.call(this,En.La,c)}I(ho,fe);function ai(c){const y=Ja();Ct(y,new ho(y))}En.STAT_EVENT="statevent";function es(c,y){fe.call(this,En.STAT_EVENT,c),this.stat=y}I(es,fe);function ft(c){const y=Ja();Ct(y,new es(y,c))}En.Ma="timingevent";function Jl(c,y){fe.call(this,En.Ma,c),this.size=y}I(Jl,fe);function si(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function eu(c,y,v,A,j,K){c.info(function(){if(c.g)if(K)for(var ce="",Le=K.split("&"),Et=0;Et<Le.length;Et++){var Ue=Le[Et].split("=");if(1<Ue.length){var It=Ue[0];Ue=Ue[1];var Tt=It.split("_");ce=2<=Tt.length&&Tt[1]=="type"?ce+(It+"="+Ue+"&"):ce+(It+"=redacted&")}}else ce=null;else ce=K;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+ce})}function tu(c,y,v,A,j,K,ce){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+K+" "+ce})}function li(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Dt(c,v)+(A?" "+A:"")})}function Yn(c,y){c.info(function(){return"TIMEOUT: "+y})}oi.prototype.info=function(){};function Dt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ce=1;ce<j.length;ce++)j[ce]=""}}}}return co(v)}catch{return y}}var _t={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ia;function ts(){}I(ts,fo),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},ia=new ts;function Xn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var ui={},aa={};function kn(c,y,v){c.L=1,c.v=la(ot(y)),c.m=v,c.P=!0,Sr(c,null)}function Sr(c,y){c.F=Date.now(),et(c),c.A=ot(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Rr(v.i,"t",A),c.C=0,v=c.j.J,c.h=new mo,c.g=pu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Uf(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ni[0]=j.toString()),j=ni);for(var K=0;K<j.length;K++){var ce=Er(v,j[K],A||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ai(),eu(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;const y=this.M;y&&wn(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=wn(this.g);var y=this.g.Ba();const Ir=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Ir?ai(3):ai(2)),ns(this);var v=this.g.Z();this.X=v;t:if(ci(this)){var A=ou(this.g);c="";var j=A.length,K=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),ln(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,tu(this.i,this.u,this.A,this.l,this.R,Tt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Et=this.g;if((Le=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)li(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,v);else{this.o=!1,this.s=3,ft(12),nn(this),ln(this);break e}}if(this.P){v=!0;let Pt;for(;!this.J&&this.C<ce.length;)if(Pt=fi(this,ce),Pt==aa){Tt==4&&(this.s=4,ft(14),v=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==ui){this.s=4,ft(15),li(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else li(this.i,this.l,Pt,null),un(this,Pt);if(ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ce.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)li(this.i,this.l,ce,"[Invalid Chunked Response]"),nn(this),ln(this);else if(0<ce.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),pa(It),It.M=!0,ft(11))}}else li(this.i,this.l,ce,null),un(this,ce);Tt==4&&nn(this),this.o&&!this.J&&(Tt==4?hu(this.j,this):(this.o=!1,et(this)))}else Hf(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),nn(this),ln(this)}}}catch{}finally{}};function ci(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fi(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?aa:(v=Number(y.substring(v,A)),isNaN(v)?ui:(A+=1,A+v>y.length?aa:(y=y.slice(A,A+v),c.C=A+v,y)))}Xn.prototype.cancel=function(){this.J=!0,nn(this)};function et(c){c.S=Date.now()+c.I,po(c,c.I)}function po(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=si(b(c.ba,c),y)}function ns(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Yn(this.i,this.A),this.L!=2&&(ai(),ft(17)),nn(this),this.s=2,ln(this)):po(this,this.S-c)};function ln(c){c.j.G==0||c.J||hu(c.j,c)}function nn(c){ns(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ht(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function un(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||hi(v.h,c))){if(!c.K&&hi(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)hs(v),cs(v);else break e;Ro(v),ft(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=si(b(v.Za,v),6e3));if(1>=nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Or(v,11)}else if((c.K||v.g==c)&&hs(v),!Y(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Ue=j[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const It=Ue[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const Tt=Ue[4];Tt!=null&&(v.Aa=Tt,v.j.info("SVER="+v.Aa));const Ir=Ue[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(A=1.5*Ir,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Pt=c.g;if(Pt){const rr=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rr){var K=A.h;K.g||rr.indexOf("spdy")==-1&&rr.indexOf("quic")==-1&&rr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(di(K,K.h),K.h=null))}if(A.D){const Do=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(A.ya=Do,qe(A.I,A.D,Do))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ce=c;if(A.qa=mu(A,A.J?A.ia:null,A.W),ce.K){Tn(A.h,ce);var Le=ce,Et=A.L;Et&&(Le.I=Et),Le.B&&(ns(Le),et(Le)),A.g=ce}else cu(A);0<v.i.length&&fs(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Or(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Or(v,7):Ao(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}ai(4)}catch{}}var kf=class{constructor(c,y){this.g=c,this.map=y}};function go(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nu(c){return c.h?1:c.g?c.g.size:0}function hi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function di(c,y){c.g?c.g.add(y):c.h=y}function Tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}go.prototype.cancel=function(){if(this.i=Wt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function ru(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function zf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function sa(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=zf(c),A=ru(c),j=A.length,K=0;K<j;K++)y.call(void 0,A[K],v&&v[K],c)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rs(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var K=c[v].substring(0,A);j=c[v].substring(A+1)}else K=c[v];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ar(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ar){this.h=c.h,mi(this,c.j),this.o=c.o,this.g=c.g,oa(this,c.s),this.l=c.l;var y=c.i,v=new Wn;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),is(this,v),this.m=c.m}else c&&(y=String(c).match(vo))?(this.h=!1,mi(this,y[1]||"",!0),this.o=pi(y[2]||""),this.g=pi(y[3]||"",!0),oa(this,y[4]),this.l=pi(y[5]||"",!0),is(this,y[6]||"",!0),this.m=pi(y[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}Ar.prototype.toString=function(){var c=[],y=this.j;y&&c.push(bn(y,_o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bn(y,_o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(bn(v,v.charAt(0)=="/"?Eo:iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",bn(v,qf)),c.join("")};function ot(c){return new Ar(c)}function mi(c,y,v){c.j=v?pi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function oa(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function is(c,y,v){y instanceof Wn?(c.i=y,To(c.i,c.h)):(v||(y=bn(y,jf)),c.i=new Wn(y,c.h))}function qe(c,y,v){c.i.set(y,v)}function la(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Bf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _o=/[#\/\?@]/g,iu=/[#\?:]/g,Eo=/[#\?]/g,jf=/[#\?@]/g,qf=/#/g;function Wn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&rs(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Wn.prototype,i.add=function(c,y){Sn(this),this.i=null,c=Cr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function as(c,y){Sn(c),y=Cr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function wr(c,y){return Sn(c),y=Cr(c,y),c.g.has(y)}i.forEach=function(c,y){Sn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)},i.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const j=c[A];for(let K=0;K<j.length;K++)v.push(y[A])}return v},i.V=function(c){Sn(this);let y=[];if(typeof c=="string")wr(this,c)&&(y=y.concat(this.g.get(Cr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Sn(this),this.i=null,c=Cr(this,c),wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Rr(c,y,v){as(c,y),0<v.length&&(c.i=null,c.g.set(Cr(c,y),q(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const K=encodeURIComponent(String(A)),ce=this.V(A);for(A=0;A<ce.length;A++){var j=K;ce[A]!==""&&(j+="="+encodeURIComponent(String(ce[A]))),c.push(j)}}return this.i=c.join("&")};function Cr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function To(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(as(this,A),Rr(this,j,v))},c)),c.j=y}function au(c,y){const v=new oi;if(d.Image){const A=new Image;A.onload=R(An,v,"TestLoadImage: loaded",!0,y,A),A.onerror=R(An,v,"TestLoadImage: error",!1,y,A),A.onabort=R(An,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=R(An,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ua(c,y){const v=new oi,A=new AbortController,j=setTimeout(()=>{A.abort(),An(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(j),K.ok?An(v,"TestPingServer: ok",!0,y):An(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),An(v,"TestPingServer: error",!1,y)})}function An(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function ca(){this.g=new Xt}function Zn(c,y,v){const A=v||"";try{sa(c,function(j,K){let ce=j;g(j)&&(ce=co(j)),y.push(A+K+"="+encodeURIComponent(ce))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function gi(c){this.l=c.Ub||null,this.j=c.eb||!1}I(gi,fo),gi.prototype.g=function(){return new Dr(this.l,this.j)},gi.prototype.i=function(c){return function(){return c}}({});function Dr(c,y){vt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Dr,vt),i=Dr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,er(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Jn(this):er(this),this.readyState==3&&bo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Jn(this))},i.Qa=function(c){this.g&&(this.response=c,Jn(this))},i.ga=function(){this.g&&Jn(this)};function Jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,er(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function So(c){let y="";return he(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=So(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qe(c,y,v))}function Ge(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ge,vt);var ss=/^https?$/i,fa=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ia.g(),this.v=this.o?Wl(this.o):Wl(ia),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){su(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(fa,y,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of v)this.g.setRequestHeader(K,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ha(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){su(this,K)}};function su(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,os(c),tr(c)}function os(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),tr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ls(this):this.bb())},i.bb=function(){ls(this)};function ls(c){if(c.h&&typeof h<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Xl(c.Ea,0,c);else if(Ct(c,"readystatechange"),wn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ce===0){var j=String(c.D).match(vo)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),A=!ss.test(j?j.toLowerCase():"")}v=A}if(v)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var K=2<wn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",os(c)}}finally{tr(c)}}}}function tr(c,y){if(c.g){ha(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ct(c,"ready");try{v.onreadystatechange=A}catch{}}}function ha(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Kn(y)}};function ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hf(c){const y={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Y(c[A]))continue;var v=N(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[j]||[];y[j]=K,K.push(v)}L(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function us(c){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,c),this.cb=da("retryDelaySeedMs",1e4,c),this.Wa=da("forwardChannelMaxRetries",2,c),this.wa=da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new go(c&&c.concurrentRequestLimit),this.Da=new ca,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=us.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){ft(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=mu(this,null,this.W),fs(this)};function Ao(c){if(lu(c),c.G==3){var y=c.U++,v=ot(c.I);if(qe(v,"SID",c.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),ma(c,v),y=new Xn(c,c.j,y),y.L=2,y.v=la(ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}du(c)}function cs(c){c.g&&(pa(c),c.g.cancel(),c.g=null)}function lu(c){cs(c),c.u&&(d.clearTimeout(c.u),c.u=null),hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function fs(c){if(!yo(c.h)&&!c.s){c.s=!0;var y=c.Ga;B||V(),ne||(B(),ne=!0),_e.add(y,c),c.B=0}}function Ff(c,y){return nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=si(b(c.Ga,c,y),Co(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Xn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=uu(this,j,y),v=ot(this.I),qe(v,"RID",c),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),ma(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(So(K)))+"&"+y:this.m&&Ot(v,this.m,K)),di(this.h,j),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),j.T=!0,kn(j,v,null)):kn(j,v,y),this.G=2}}else this.G==3&&(c?wo(this,c):this.i.length==0||yo(this.h)||wo(this))};function wo(c,y){var v;y?v=y.l:v=c.U++;const A=ot(c.I);qe(A,"SID",c.K),qe(A,"RID",v),qe(A,"AID",c.T),ma(c,A),c.m&&c.o&&Ot(A,c.m,c.o),v=new Xn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),di(c.h,v),kn(v,A,y)}function ma(c,y){c.H&&he(c.H,function(v,A){qe(y,A,v)}),c.l&&sa({},function(v,A){qe(y,A,v)})}function uu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const ce=["count="+v];K==-1?0<v?(K=j[0].g,ce.push("ofs="+K)):K=0:ce.push("ofs="+K);let Le=!0;for(let Et=0;Et<v;Et++){let Ue=j[Et].g;const It=j[Et].map;if(Ue-=K,0>Ue)K=Math.max(0,j[Et].g-100),Le=!1;else try{Zn(It,ce,"req"+Ue+"_")}catch{A&&A(It)}}if(Le){A=ce.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;B||V(),ne||(B(),ne=!0),_e.add(y,c),c.v=0}}function Ro(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=si(b(c.Fa,c),Co(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=si(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),cs(this),fu(this))};function pa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function fu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ot(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),ma(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=la(ot(y)),v.m=null,v.P=!0,Sr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,cs(this),Ro(this),ft(19))};function hs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function hu(c,y){var v=null;if(c.g==y){hs(c),pa(c),c.g=null;var A=2}else if(hi(c.h,y))v=y.D,Tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=Ja(),Ct(A,new Jl(A,v)),fs(c)}else cu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&Ff(c,y)||A==2&&Ro(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function Co(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Or(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),A=c.Xa;const j=!A;A=new Ar(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||mi(A,"https"),la(A),j?au(A.toString(),v):ua(A.toString(),v)}else ft(2);c.G=0,c.l&&c.l.sa(y),du(c),lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function du(c){if(c.G=0,c.ka=[],c.l){const y=Wt(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function mu(c,y,v){var A=v instanceof Ar?ot(v):new Ar(v);if(A.g!="")y&&(A.g=y+"."+A.g),oa(A,A.s);else{var j=d.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new Ar(null);A&&mi(K,A),y&&(K.g=y),j&&oa(K,j),v&&(K.l=v),A=K}return v=c.D,y=c.ya,v&&y&&qe(A,v,y),qe(A,"VER",c.la),ma(c,A),A}function pu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new gi({eb:v})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}i=gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ds(){}ds.prototype.g=function(c,y){return new Zt(c,y)};function Zt(c,y){vt.call(this),this.g=new us(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new nr(this)}I(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Ao(this.g)},Zt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=co(c),c=v);y.i.push(new kf(y.Ya++,c)),y.G==3&&fs(y)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Zt.aa.N.call(this)};function yu(c){ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}I(yu,ri);function vu(){Un.call(this),this.status=1}I(vu,Un);function nr(c){this.g=c}I(nr,gu),nr.prototype.ua=function(){Ct(this.g,"a")},nr.prototype.ta=function(c){Ct(this.g,new yu(c))},nr.prototype.sa=function(c){Ct(this.g,new vu)},nr.prototype.ra=function(){Ct(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,z0=function(){return new ds},k0=function(){return Ja()},U0=En,Rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_t.NO_ERROR=0,_t.TIMEOUT=8,_t.HTTP_ERROR=6,Ic=_t,br.COMPLETE="complete",L0=br,Zl.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",vt.prototype.listen=vt.prototype.K,_l=Zl,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,P0=Ge}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",C_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Jm("@firebase/firestore");function js(){return qa.logLevel}function pe(i,...e){if(qa.logLevel<=Be.DEBUG){const r=e.map(tp);qa.debug(`Firestore (${ro}): ${i}`,...r)}}function Zr(i,...e){if(qa.logLevel<=Be.ERROR){const r=e.map(tp);qa.error(`Firestore (${ro}): ${i}`,...r)}}function Ks(i,...e){if(qa.logLevel<=Be.WARN){const r=e.map(tp);qa.warn(`Firestore (${ro}): ${i}`,...r)}}function tp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+i;throw Zr(e),new Error(e)}function Qe(i,e){i||Se()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends ea{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Kt.UNAUTHENTICATED))}shutdown(){}}class GC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Qe(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,r(p)):Promise.resolve();let u=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qi)}},0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qe(typeof a.accessToken=="string"),new B0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Kt(e)}}class KC{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $C{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new KC(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,IC(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Qe(this.o===void 0);const a=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new D_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Qe(typeof r.token=="string"),this.R=r.token,new D_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=XC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<r&&(a+=e.charAt(o[u]%62))}return a}}function Pe(i,e){return i<e?-1:i>e?1:0}function $s(i,e,r){return i.length===e.length&&i.every((a,o)=>r(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,I_=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*I_);return new wt(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<O_)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new wt(0,0))}static max(){return new Ae(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__name__";class cr{constructor(e,r,a){r===void 0?r=0:r>e.length&&Se(),a===void 0?a=e.length-r:a>e.length-r&&Se(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let o=0;o<a;o++){const u=cr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Math.sign(e.length-r.length)}static compareSegments(e,r){const a=cr.isNumericId(e),o=cr.isNumericId(r);return a&&!o?-1:!a&&o?1:a&&o?cr.extractNumericId(e).compare(cr.extractNumericId(r)):e<r?-1:e>r?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ji.fromString(e.substring(4,e.length-2))}}class Je extends cr{construct(e,r,a){return new Je(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ee(ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(o=>o.length>0))}return new Je(r)}static emptyPath(){return new Je([])}}const WC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends cr{construct(e,r,a){return new jt(e,r,a)}static isValidIdentifier(e){return WC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new jt([M_])}static fromServerFormat(e){const r=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ee(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ee(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new Ee(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(r)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Je.fromString(e))}static fromName(e){return new Te(Je.fromString(e).popFirst(5))}static empty(){return new Te(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Je.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function ZC(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new wt(r+1,0):new wt(r,a));return new $i(o,Te.empty(),e)}function JC(i){return new $i(i.readTime,i.key,xl)}class $i{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new $i(Ae.min(),Te.empty(),xl)}static max(){return new $i(Ae.max(),Te.empty(),xl)}}function e2(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=Te.comparator(i.documentKey,e.documentKey),r!==0?r:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==t2)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ee?r:ee.resolve(r)}catch(r){return ee.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.reject(r)}static resolve(e){return new ee((r,a)=>{r(e)})}static reject(e){return new ee((r,a)=>{a(e)})}static waitFor(e){return new ee((r,a)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&r()},p=>a(p))}),h=!0,u===o&&r()})}static or(e){let r=ee.resolve(!1);for(const a of e)r=r.next(o=>o?ee.resolve(o):a());return r}static forEach(e,r){const a=[];return e.forEach((o,u)=>{a.push(r.call(this,o,u))}),this.waitFor(a)}static mapArray(e,r){return new ee((a,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;r(e[g]).next(E=>{h[g]=E,++d,d===u&&a(h)},E=>o(E))}})}static doWhile(e,r){return new ee((a,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):a()};u()})}}function r2(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.oe(a),this._e=a=>r.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}mf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=-1;function pf(i){return i==null}function Gc(i){return i===0&&1/i==-1/0}function i2(i){return typeof i=="number"&&Number.isInteger(i)&&!Gc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="";function a2(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=N_(e)),e=s2(i.get(r),e);return N_(e)}function s2(i,e){let r=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case q0:r+="";break;default:r+=u}}return r}function N_(i){return i+q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ta(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function H0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,r){this.comparator=e,this.root=r||Bt.EMPTY}insert(e,r){return new it(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return r+a.left.size;o<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,r,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?a(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,r,a,o,u){this.key=e,this.value=r,this.color=a??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,o,u){return new Bt(e??this.key,r??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,a),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,r,a,o,u){return this}insert(e,r,a){return new Bt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Rt(this.comparator);return r.data=e,r}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Gn([])}unionWith(e){let r=new Rt(jt.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new Gn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new F0("Invalid base64 string: "+u):u}}(e);return new qt(r)}static fromUint8Array(e){const r=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new qt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const o2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(i){if(Qe(!!i),typeof i=="string"){let e=0;const r=o2.exec(i);if(Qe(!!r),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?qt.fromBase64String(i):qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="server_timestamp",Q0="__type__",K0="__previous_value__",$0="__local_write_time__";function rp(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q0])===null||r===void 0?void 0:r.stringValue)===G0}function gf(i){const e=i.mapValue.fields[K0];return rp(e)?gf(e):e}function Pl(i){const e=Yi(i.mapValue.fields[$0].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,r,a,o,u,h,d,p,g){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Qc="(default)";class Ll{constructor(e,r){this.projectId=e,this.database=r||Qc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__type__",u2="__max__",Ec={mapValue:{}},X0="__vector__",Kc="value";function Wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?rp(i)?4:f2(i)?9007199254740991:c2(i)?10:11:Se()}function pr(i,e){if(i===e)return!0;const r=Wi(i);if(r!==Wi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pl(i).isEqual(Pl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Yi(o.timestampValue),d=Yi(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=dt(o.doubleValue),d=dt(u.doubleValue);return h===d?Gc(h)===Gc(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return $s(i.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(V_(h)!==V_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!pr(h[p],d[p])))return!1;return!0}(i,e);default:return Se()}}function Ul(i,e){return(i.values||[]).find(r=>pr(r,e))!==void 0}function Ys(i,e){if(i===e)return 0;const r=Wi(i),a=Wi(e);if(r!==a)return Pe(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=dt(u.integerValue||u.doubleValue),p=dt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return P_(i.timestampValue,e.timestampValue);case 4:return P_(Pl(i),Pl(e));case 5:return Pe(i.stringValue,e.stringValue);case 6:return function(u,h){const d=Xi(u),p=Xi(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=Pe(d[g],p[g]);if(E!==0)return E}return Pe(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Pe(dt(u.latitude),dt(h.latitude));return d!==0?d:Pe(dt(u.longitude),dt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return L_(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const T=u.fields||{},b=h.fields||{},R=(d=T[Kc])===null||d===void 0?void 0:d.arrayValue,I=(p=b[Kc])===null||p===void 0?void 0:p.arrayValue,q=Pe(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:L_(R,I)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Ec.mapValue&&h===Ec.mapValue)return 0;if(u===Ec.mapValue)return 1;if(h===Ec.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Pe(p[T],E[T]);if(b!==0)return b;const R=Ys(d[p[T]],g[E[T]]);if(R!==0)return R}return Pe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se()}}function P_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const r=Yi(i),a=Yi(e),o=Pe(r.seconds,a.seconds);return o!==0?o:Pe(r.nanos,a.nanos)}function L_(i,e){const r=i.values||[],a=e.values||[];for(let o=0;o<r.length&&o<a.length;++o){const u=Ys(r[o],a[o]);if(u)return u}return Pe(r.length,a.length)}function Xs(i){return Cm(i)}function Cm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const a=Yi(r);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Xi(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return Te.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let a="[",o=!0;for(const u of r.values||[])o?o=!1:a+=",",a+=Cm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(r){const a=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Cm(r.fields[h])}`;return o+"}"}(i.mapValue):Se()}function Mc(i){switch(Wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(i);return e?16+Mc(e):16;case 5:return 2*i.stringValue.length;case 6:return Xi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Mc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return ta(a.fields,(u,h)=>{o+=u.length+Mc(h)}),o}(i.mapValue);default:throw Se()}}function Dm(i){return!!i&&"integerValue"in i}function ip(i){return!!i&&"arrayValue"in i}function U_(i){return!!i&&"nullValue"in i}function k_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nc(i){return!!i&&"mapValue"in i}function c2(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y0])===null||r===void 0?void 0:r.stringValue)===X0}function Al(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,(r,a)=>e.mapValue.fields[r]=Al(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Al(i.arrayValue.values[r]);return e}return Object.assign({},i)}function f2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===u2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Nc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(r)}setAll(e){let r=jt.emptyPath(),a={},o=[];e.forEach((h,d)=>{if(!r.isImmediateParentOf(d)){const p=this.getFieldsMap(r);this.applyChanges(p,a,o),a={},o=[],r=d.popLast()}h?a[d.lastSegment()]=Al(h):o.push(d.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,a,o)}delete(e){const r=this.field(e.popLast());Nc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=r.mapValue.fields[e.get(a)];Nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,a){ta(r,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new pn(Al(this.value))}}function W0(i){const e=[];return ta(i.fields,(r,a)=>{const o=new jt([r]);if(Nc(a)){const u=W0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,r,a,o,u,h,d){this.key=e,this.documentType=r,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Ae.min(),Ae.min(),Ae.min(),pn.empty(),0)}static newFoundDocument(e,r,a,o){return new $t(e,1,r,Ae.min(),a,o,0)}static newNoDocument(e,r){return new $t(e,2,r,Ae.min(),Ae.min(),pn.empty(),0)}static newUnknownDocument(e,r){return new $t(e,3,r,Ae.min(),Ae.min(),pn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,r){this.position=e,this.inclusive=r}}function z_(i,e,r){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?a=Te.comparator(Te.fromName(h.referenceValue),r.key):a=Ys(h,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function B_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!pr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,r="asc"){this.field=e,this.dir=r}}function h2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{}class At extends Z0{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new m2(e,r,a):r==="array-contains"?new y2(e,a):r==="in"?new v2(e,a):r==="not-in"?new _2(e,a):r==="array-contains-any"?new E2(e,a):new At(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new p2(e,a):new g2(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ys(r,this.value)):r!==null&&Wi(this.value)===Wi(r)&&this.matchesComparison(Ys(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends Z0{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new gr(e,r)}matches(e){return J0(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function J0(i){return i.op==="and"}function eT(i){return d2(i)&&J0(i)}function d2(i){for(const e of i.filters)if(e instanceof gr)return!1;return!0}function Om(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+Xs(i.value);if(eT(i))return i.filters.map(e=>Om(e)).join(",");{const e=i.filters.map(r=>Om(r)).join(",");return`${i.op}(${e})`}}function tT(i,e){return i instanceof At?function(a,o){return o instanceof At&&a.op===o.op&&a.field.isEqual(o.field)&&pr(a.value,o.value)}(i,e):i instanceof gr?function(a,o){return o instanceof gr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,d)=>u&&tT(h,o.filters[d]),!0):!1}(i,e):void Se()}function nT(i){return i instanceof At?function(r){return`${r.field.canonicalString()} ${r.op} ${Xs(r.value)}`}(i):i instanceof gr?function(r){return r.op.toString()+" {"+r.getFilters().map(nT).join(" ,")+"}"}(i):"Filter"}class m2 extends At{constructor(e,r,a){super(e,r,a),this.key=Te.fromName(a.referenceValue)}matches(e){const r=Te.comparator(e.key,this.key);return this.matchesComparison(r)}}class p2 extends At{constructor(e,r){super(e,"in",r),this.keys=rT("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class g2 extends At{constructor(e,r){super(e,"not-in",r),this.keys=rT("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function rT(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>Te.fromName(a.referenceValue))}class y2 extends At{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ip(r)&&Ul(r.arrayValue,this.value)}}class v2 extends At{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ul(this.value.arrayValue,r)}}class _2 extends At{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ul(this.value.arrayValue,r)}}class E2 extends At{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ip(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Ul(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,r=null,a=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function j_(i,e=null,r=[],a=[],o=null,u=null,h=null){return new T2(i,e,r,a,o,u,h)}function ap(i){const e=Re(i);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>Om(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),pf(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Xs(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Xs(a)).join(",")),e.le=r}return e.le}function sp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!h2(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!tT(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!B_(i.startAt,e.startAt)&&B_(i.endAt,e.endAt)}function Im(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,r=null,a=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function b2(i,e,r,a,o,u,h,d){return new yf(i,e,r,a,o,u,h,d)}function vf(i){return new yf(i)}function q_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function S2(i){return i.collectionGroup!==null}function wl(i){const e=Re(i);if(e.he===null){e.he=[];const r=new Set;for(const u of e.explicitOrderBy)e.he.push(u),r.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Rt(jt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.he.push(new Yc(u,a))}),r.has(jt.keyField().canonicalString())||e.he.push(new Yc(jt.keyField(),a))}return e.he}function hr(i){const e=Re(i);return e.Pe||(e.Pe=A2(e,wl(i))),e.Pe}function A2(i,e){if(i.limitType==="F")return j_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Yc(o.field,u)});const r=i.endAt?new $c(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new $c(i.startAt.position,i.startAt.inclusive):null;return j_(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function Mm(i,e,r){return new yf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function _f(i,e){return sp(hr(i),hr(e))&&i.limitType===e.limitType}function iT(i){return`${ap(hr(i))}|lt:${i.limitType}`}function qs(i){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(o=>nT(o)).join(", ")}]`),pf(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(o=>Xs(o)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(o=>Xs(o)).join(",")),`Target(${a})`}(hr(i))}; limitType=${i.limitType})`}function Ef(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Te.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of wl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(h,d,p){const g=z_(h,d,p);return h.inclusive?g<=0:g<0}(a.startAt,wl(a),o)||a.endAt&&!function(h,d,p){const g=z_(h,d,p);return h.inclusive?g>=0:g>0}(a.endAt,wl(a),o))}(i,e)}function w2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function aT(i){return(e,r)=>{let a=!1;for(const o of wl(i)){const u=R2(o,e,r);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function R2(i,e,r){const a=i.field.isKeyField()?Te.comparator(e.key,r.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Ys(p,g):Se()}(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[r]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(r,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new it(Te.comparator);function Jr(){return C2}const sT=new it(Te.comparator);function El(...i){let e=sT;for(const r of i)e=e.insert(r.key,r);return e}function oT(i){let e=sT;return i.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function Ua(){return Rl()}function lT(){return Rl()}function Rl(){return new Ka(i=>i.toString(),(i,e)=>i.isEqual(e))}const D2=new it(Te.comparator),O2=new Rt(Te.comparator);function Ve(...i){let e=O2;for(const r of i)e=e.add(r);return e}const I2=new Rt(Pe);function M2(){return I2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function uT(i){return{integerValue:""+i}}function cT(i,e){return i2(e)?uT(e):op(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function N2(i,e,r){return i instanceof Xc?function(o,u){const h={fields:{[Q0]:{stringValue:G0},[$0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rp(u)&&(u=gf(u)),u&&(h.fields[K0]=u),{mapValue:h}}(r,e):i instanceof kl?hT(i,e):i instanceof zl?dT(i,e):function(o,u){const h=fT(o,u),d=H_(h)+H_(o.Ie);return Dm(h)&&Dm(o.Ie)?uT(d):op(o.serializer,d)}(i,e)}function V2(i,e,r){return i instanceof kl?hT(i,e):i instanceof zl?dT(i,e):r}function fT(i,e){return i instanceof Bl?function(a){return Dm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Xc extends Tf{}class kl extends Tf{constructor(e){super(),this.elements=e}}function hT(i,e){const r=mT(e);for(const a of i.elements)r.some(o=>pr(o,a))||r.push(a);return{arrayValue:{values:r}}}class zl extends Tf{constructor(e){super(),this.elements=e}}function dT(i,e){let r=mT(e);for(const a of i.elements)r=r.filter(o=>!pr(o,a));return{arrayValue:{values:r}}}class Bl extends Tf{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function H_(i){return dt(i.integerValue||i.doubleValue)}function mT(i){return ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,r){this.field=e,this.transform=r}}function P2(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof kl&&o instanceof kl||a instanceof zl&&o instanceof zl?$s(a.elements,o.elements,pr):a instanceof Bl&&o instanceof Bl?pr(a.Ie,o.Ie):a instanceof Xc&&o instanceof Xc}(i.transform,e.transform)}class L2{constructor(e,r){this.version=e,this.transformResults=r}}class $r{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bf{}function pT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yT(i.key,$r.none()):new Sf(i.key,i.data,$r.none());{const r=i.data,a=pn.empty();let o=new Rt(jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new $a(i.key,a,new Gn(o.toArray()),$r.none())}}function U2(i,e,r){i instanceof Sf?function(o,u,h){const d=o.value.clone(),p=G_(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,r):i instanceof $a?function(o,u,h){if(!Vc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=G_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(gT(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,r):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,r)}function Cl(i,e,r,a){return i instanceof Sf?function(u,h,d,p){if(!Vc(u.precondition,h))return d;const g=u.value.clone(),E=Q_(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,r,a):i instanceof $a?function(u,h,d,p){if(!Vc(u.precondition,h))return d;const g=Q_(u.fieldTransforms,p,h),E=h.data;return E.setAll(gT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,r,a):function(u,h,d){return Vc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,r)}function k2(i,e){let r=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=fT(a.transform,o||null);u!=null&&(r===null&&(r=pn.empty()),r.set(a.field,u))}return r||null}function F_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$s(a,o,(u,h)=>P2(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Sf extends bf{constructor(e,r,a,o=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $a extends bf{constructor(e,r,a,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gT(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}}),e}function G_(i,e,r){const a=new Map;Qe(i.length===r.length);for(let o=0;o<r.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);a.set(u.field,V2(h,d,r[o]))}return a}function Q_(i,e,r){const a=new Map;for(const o of i){const u=o.transform,h=r.data.field(o.field);a.set(o.field,N2(u,h,e))}return a}class yT extends bf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z2 extends bf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,r,a,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&U2(u,e,a[o])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Cl(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Cl(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=lT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=r.has(o.key)?null:d;const p=pT(h,d);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(r,a)=>F_(r,a))&&$s(this.baseMutations,e.baseMutations,(r,a)=>F_(r,a))}}class lp{constructor(e,r,a,o){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=o}static from(e,r,a){Qe(e.mutations.length===a.length);let o=function(){return D2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new lp(e,r,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,ze;function H2(i){switch(i){case ie.OK:return Se();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se()}}function vT(i){if(i===void 0)return Zr("GRPC error has no .code"),ie.UNKNOWN;switch(i){case yt.OK:return ie.OK;case yt.CANCELLED:return ie.CANCELLED;case yt.UNKNOWN:return ie.UNKNOWN;case yt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case yt.INTERNAL:return ie.INTERNAL;case yt.UNAVAILABLE:return ie.UNAVAILABLE;case yt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case yt.NOT_FOUND:return ie.NOT_FOUND;case yt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case yt.ABORTED:return ie.ABORTED;case yt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case yt.DATA_LOSS:return ie.DATA_LOSS;default:return Se()}}(ze=yt||(yt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new ji([4294967295,4294967295],0);function K_(i){const e=F2().encode(i),r=new x0;return r.update(e),new Uint8Array(r.digest())}function $_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ji([r,a],0),new ji([o,u],0)]}class up{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Tl(`Invalid padding: ${r}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=ji.fromNumber(this.Ee)}Ae(e,r,a){let o=e.add(r.multiply(ji.fromNumber(a)));return o.compare(G2)===1&&(o=new ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=K_(e),[a,o]=$_(r);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(e,r,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new up(u,o,r);return a.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const r=K_(e),[a,o]=$_(r);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,r,a,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new Af(Ae.min(),o,new it(Pe),Jr(),Ve())}}class Ql{constructor(e,r,a,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new Ql(a,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,r,a,o){this.me=e,this.removedTargetIds=r,this.key=a,this.fe=o}}class _T{constructor(e,r){this.targetId=e,this.ge=r}}class ET{constructor(e,r,a=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=o}}class Y_{constructor(){this.pe=0,this.ye=X_(),this.we=qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),r=Ve(),a=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:a=a.add(o);break;default:Se()}}),new Ql(this.we,this.Se,e,r,a)}Me(){this.be=!1,this.ye=X_()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Q2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Jr(),this.$e=Tc(),this.Ke=Tc(),this.Ue=new it(Pe)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const a=this.He(r);switch(e.state){case 0:this.Je(r)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(r);break;case 3:this.Je(r)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),a.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((a,o)=>{this.Je(o)&&r(o)})}Ze(e){const r=e.targetId,a=e.ge.count,o=this.Xe(r);if(o){const u=o.target;if(Im(u))if(a===0){const h=new Te(u.path);this.ze(r,h,$t.newNoDocument(h,Ae.min()))}else Qe(a===1);else{const h=this.et(r);if(h!==a){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(r);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,g)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=r;let h,d;try{h=Xi(a).toUint8Array()}catch(p){if(p instanceof F0)return Ks("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new up(h,o,u)}catch(p){return Ks(p instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,r,a){return r.ge.count===a-this.st(e,r.targetId)?0:2}st(e,r){const a=this.ke.getRemoteKeysForTarget(r);let o=0;return a.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(r,u,null),o++)}),o}ot(e){const r=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&Im(d.target)){const p=new Te(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,$t.newNoDocument(p,e))}u.ve&&(r.set(h,u.Fe()),u.Me())}});let a=Ve();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Af(e,r,this.Ue,this.Qe,a);return this.Qe=Jr(),this.$e=Tc(),this.Ke=Tc(),this.Ue=new it(Pe),o}Ge(e,r){if(!this.Je(e))return;const a=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,a),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ke=this.Ke.insert(r.key,this.ct(r.key).add(e))}ze(e,r,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,r)?o.xe(r,1):o.Oe(r),this.Ke=this.Ke.insert(r,this.ct(r).delete(e)),this.Ke=this.Ke.insert(r,this.ct(r).add(e)),a&&(this.Qe=this.Qe.insert(r,a))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new Y_,this.qe.set(e,r)),r}ct(e){let r=this.Ke.get(e);return r||(r=new Rt(Pe),this.Ke=this.Ke.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new Rt(Pe),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||pe("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Y_),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function Tc(){return new it(Te.comparator)}function X_(){return new it(Te.comparator)}const K2={asc:"ASCENDING",desc:"DESCENDING"},$2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y2={and:"AND",or:"OR"};class X2{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Nm(i,e){return i.useProto3Json||pf(e)?e:{value:e}}function Wc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function W2(i,e){return Wc(i,e.toTimestamp())}function dr(i){return Qe(!!i),Ae.fromTimestamp(function(r){const a=Yi(r);return new wt(a.seconds,a.nanos)}(i))}function cp(i,e){return Vm(i,e).canonicalString()}function Vm(i,e){const r=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function bT(i){const e=Je.fromString(i);return Qe(CT(e)),e}function xm(i,e){return cp(i.databaseId,e.path)}function tm(i,e){const r=bT(e);if(r.get(1)!==i.databaseId.projectId)throw new Ee(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ee(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Te(AT(r))}function ST(i,e){return cp(i.databaseId,e)}function Z2(i){const e=bT(i);return e.length===4?Je.emptyPath():AT(e)}function Pm(i){return new Je(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function AT(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function W_(i,e,r){return{name:xm(i,e),fields:r.value.mapValue.fields}}function J2(i,e){let r;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string"),qt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),qt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ie.UNKNOWN:vT(g.code);return new Ee(E,g.message||"")}(h);r=new ET(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=tm(i,a.document.name),u=dr(a.document.updateTime),h=a.document.createTime?dr(a.document.createTime):Ae.min(),d=new pn({mapValue:{fields:a.document.fields}}),p=$t.newFoundDocument(o,u,h,d),g=a.targetIds||[],E=a.removedTargetIds||[];r=new xc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=tm(i,a.document),u=a.readTime?dr(a.readTime):Ae.min(),h=$t.newNoDocument(o,u),d=a.removedTargetIds||[];r=new xc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=tm(i,a.document),u=a.removedTargetIds||[];r=new xc([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new q2(o,u),d=a.targetId;r=new _T(d,h)}}return r}function eD(i,e){let r;if(e instanceof Sf)r={update:W_(i,e.key,e.value)};else if(e instanceof yT)r={delete:xm(i,e.key)};else if(e instanceof $a)r={update:W_(i,e.key,e.data),updateMask:uD(e.fieldMask)};else{if(!(e instanceof z2))return Se();r={verify:xm(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const d=h.transform;if(d instanceof Xc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof kl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bl)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Se()}(0,a))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:W2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),r}function tD(i,e){return i&&i.length>0?(Qe(e!==void 0),i.map(r=>function(o,u){let h=o.updateTime?dr(o.updateTime):dr(u);return h.isEqual(Ae.min())&&(h=dr(u)),new L2(h,o.transformResults||[])}(r,e))):[]}function nD(i,e){return{documents:[ST(i,e.path)]}}function rD(i,e){const r={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=ST(i,o);const u=function(g){if(g.length!==0)return RT(gr.create(g,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:Hs(b.field),direction:sD(b.dir)}}(E))}(e.orderBy);h&&(r.structuredQuery.orderBy=h);const d=Nm(i,e.limit);return d!==null&&(r.structuredQuery.limit=d),e.startAt&&(r.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:r,parent:o}}function iD(i){let e=Z2(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let o=null;if(a>0){Qe(a===1);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];r.where&&(u=function(T){const b=wT(T);return b instanceof gr&&eT(b)?b.getFilters():[b]}(r.where));let h=[];r.orderBy&&(h=function(T){return T.map(b=>function(I){return new Yc(Fs(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(r.orderBy));let d=null;r.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,pf(b)?null:b}(r.limit));let p=null;r.startAt&&(p=function(T){const b=!!T.before,R=T.values||[];return new $c(R,b)}(r.startAt));let g=null;return r.endAt&&(g=function(T){const b=!T.before,R=T.values||[];return new $c(R,b)}(r.endAt)),b2(e,o,h,u,d,"F",p,g)}function aD(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function wT(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Fs(r.unaryFilter.field);return At.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Fs(r.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fs(r.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Fs(r.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(r){return At.create(Fs(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return gr.create(r.compositeFilter.filters.map(a=>wT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(r.compositeFilter.op))}(i):Se()}function sD(i){return K2[i]}function oD(i){return $2[i]}function lD(i){return Y2[i]}function Hs(i){return{fieldPath:i.canonicalString()}}function Fs(i){return jt.fromServerFormat(i.fieldPath)}function RT(i){return i instanceof At?function(r){if(r.op==="=="){if(k_(r.value))return{unaryFilter:{field:Hs(r.field),op:"IS_NAN"}};if(U_(r.value))return{unaryFilter:{field:Hs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(k_(r.value))return{unaryFilter:{field:Hs(r.field),op:"IS_NOT_NAN"}};if(U_(r.value))return{unaryFilter:{field:Hs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(r.field),op:oD(r.op),value:r.value}}}(i):i instanceof gr?function(r){const a=r.getFilters().map(o=>RT(o));return a.length===1?a[0]:{compositeFilter:{op:lD(r.op),filters:a}}}(i):Se()}function uD(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function CT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,r,a,o,u=Ae.min(),h=Ae.min(),d=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.Tt=e}}function fD(i){const e=iD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Tn=new dD}addToCollectionParentIndex(e,r){return this.Tn.add(r),ee.resolve()}getCollectionParents(e,r){return ee.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return ee.resolve()}deleteFieldIndex(e,r){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,r){return ee.resolve()}getDocumentsMatchingTarget(e,r){return ee.resolve(null)}getIndexType(e,r){return ee.resolve(0)}getFieldIndexes(e,r){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,r){return ee.resolve($i.min())}getMinOffsetFromCollectionGroup(e,r){return ee.resolve($i.min())}updateCollectionGroup(e,r,a){return ee.resolve()}updateIndexEntries(e,r){return ee.resolve()}}class dD{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),o=this.index[r]||new Rt(Je.comparator),u=!o.has(a);return this.index[r]=o.add(a),u}has(e){const r=e.lastSegment(),a=e.popLast(),o=this.index[r];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Rt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(DT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ws(0)}static Un(){return new Ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",mD=1048576;function eE([i,e],[r,a]){const o=Pe(i,r);return o===0?Pe(e,a):o}class pD{constructor(e){this.Hn=e,this.buffer=new Rt(eE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();eE(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(J_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ao(r)?pe(J_,"Ignoring IndexedDB error during garbage collection: ",r):await io(r)}await this.er(3e5)})}}class yD{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(r===0)return ee.resolve(mf.ae);const a=new pD(r);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.tr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Z_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let a,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(a=T,d=Date.now(),this.removeTargets(e,a,r))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(g=Date.now(),js()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function vD(i,e){return new yD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.changes=new Ka(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?ee.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,r,a,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(a!==null&&Cl(a.mutation,o,Gn.empty(),wt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,r,a=Ve()){const o=Ua();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,a).next(u=>{let h=El();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,r){const a=Ua();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,Ve()))}populateOverlays(e,r,a){const o=[];return a.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{r.set(h,d)})})}computeViews(e,r,a,o){let u=Jr();const h=Rl(),d=function(){return Rl()}();return r.forEach((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof $a)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Cl(E.mutation,g,E.mutation.getFieldMask(),wt.now())):h.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),r.forEach((g,E)=>{var T;return d.set(g,new ED(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,r){const a=Rl();let o=new it((h,d)=>h-d),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=r.get(p);if(g===null)return;let E=a.get(p)||Gn.empty();E=d.applyToLocalView(g,E),a.set(p,E);const T=(o.get(d.batchId)||Ve()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=lT();E.forEach(b=>{if(!u.has(b)){const R=pT(r.get(b),a.get(b));R!==null&&T.set(b,R),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):S2(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,o):this.getDocumentsMatchingCollectionQuery(e,r,a,o)}getNextDocuments(e,r,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,o-u.size):ee.resolve(Ua());let d=xl,p=u;return h.next(g=>ee.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:d,changes:oT(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Te(r)).next(a=>{let o=El();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,a,o){const u=r.collectionGroup;let h=El();return this.indexManager.getCollectionParents(e,u).next(d=>ee.forEach(d,p=>{const g=function(T,b){return new yf(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((T,b)=>{h=h.insert(T,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,r,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,$t.newInvalidDocument(E)))});let d=El();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Cl(E.mutation,g,Gn.empty(),wt.now()),Ef(r,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return ee.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}}(r)),ee.resolve()}getNamedQuery(e,r){return ee.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(o){return{name:o.name,query:fD(o.bundledQuery),readTime:dr(o.readTime)}}(r)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.overlays=new it(Te.comparator),this.Rr=new Map}getOverlay(e,r){return ee.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Ua();return ee.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((o,u)=>{this.Et(e,r,u)}),ee.resolve()}removeOverlaysForBatchId(e,r,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ee.resolve()}getOverlaysForCollection(e,r,a){const o=Ua(),u=r.length+1,h=new Te(r.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,r,a,o){let u=new it((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Ua(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=Ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return ee.resolve(d)}Et(e,r,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new j2(r,a));let u=this.Rr.get(r);u===void 0&&(u=Ve(),this.Rr.set(r,u)),this.Rr.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.Vr=new Rt(xt.mr),this.gr=new Rt(xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const a=new xt(e,r);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.wr(new xt(e,r))}Sr(e,r){e.forEach(a=>this.removeReference(a,r))}br(e){const r=new Te(new Je([])),a=new xt(r,e),o=new xt(r,e+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new Te(new Je([])),a=new xt(r,e),o=new xt(r,e+1);let u=Ve();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const r=new xt(e,0),a=this.Vr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class xt{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return Te.comparator(e.key,r.key)||Pe(e.Cr,r.Cr)}static pr(e,r){return Pe(e.Cr,r.Cr)||Te.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(xt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new B2(u,r,a,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new xt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,r){return ee.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,o=this.Nr(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?np:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new xt(r,0),o=new xt(r,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const d=this.Or(h.Cr);u.push(d)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Rt(Pe);return r.forEach(o=>{const u=new xt(o,0),h=new xt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{a=a.add(d.Cr)})}),ee.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,o=a.length+1;let u=a;Te.isDocumentKey(u)||(u=u.child(""));const h=new xt(new Te(u),0);let d=new Rt(Pe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),ee.resolve(this.Br(d))}Br(e){const r=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){Qe(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ee.forEach(r.mutations,o=>{const u=new xt(o.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,r){const a=new xt(r,0),o=this.Mr.firstAfterOrEqual(a);return ee.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.kr=e,this.docs=function(){return new it(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return ee.resolve(a?a.document.mutableCopy():$t.newInvalidDocument(r))}getEntries(e,r){let a=Jr();return r.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,r,a,o){let u=Jr();const h=r.path,d=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||e2(JC(E),a)<=0||(o.has(E.key)||Ef(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,r,a,o){Se()}qr(e,r){return ee.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new CD(this)}getSize(e){return ee.resolve(this.size)}}class CD extends _D{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?r.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),ee.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.persistence=e,this.Qr=new Ka(r=>ap(r),sp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new fp,this.targetCount=0,this.Ur=Ws.Kn()}forEachTarget(e,r){return this.Qr.forEach((a,o)=>r(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.$r&&(this.$r=r),ee.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Ur=new Ws(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,ee.resolve()}updateTargetData(e,r){return this.zn(r),ee.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Kr.br(r.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,r,a){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=r&&a.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,r){const a=this.Qr.get(r)||null;return ee.resolve(a)}addMatchingKeys(e,r,a){return this.Kr.yr(r,a),ee.resolve()}removeMatchingKeys(e,r,a){this.Kr.Sr(r,a);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.Kr.br(r),ee.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Kr.vr(r);return ee.resolve(a)}containsKey(e,r){return ee.resolve(this.Kr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new mf(0),this.zr=!1,this.zr=!0,this.jr=new AD,this.referenceDelegate=e(this),this.Hr=new DD(this),this.indexManager=new hD,this.remoteDocumentCache=function(o){return new RD(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new cD(r),this.Yr=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new SD,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.Wr[e.toKey()];return a||(a=new wD(r,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,a){pe("MemoryPersistence","Starting transaction:",e);const o=new OD(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,r){return ee.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,r)))}}class OD extends n2{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.ti=new fp,this.ni=null}static ri(e){return new hp(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,r,a){return this.ti.addReference(a,r),this.ii.delete(a.toString()),ee.resolve()}removeReference(e,r,a){return this.ti.removeReference(a,r),this.ii.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),ee.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,a=>{const o=Te.fromPath(a);return this.si(e,o).next(u=>{u||r.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(a=>{a?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return ee.or([()=>ee.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class Zc{constructor(e,r){this.persistence=e,this.oi=new Ka(a=>a2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=vD(this,r)}static ri(e,r){return new Zc(e,r)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>r.next(o=>a+o))}sr(e){let r=0;return this.rr(e,a=>{r++}).next(()=>r)}rr(e,r){return ee.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?ee.resolve():r(o)))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,r).next(d=>{d||(a++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.oi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,r,a){return this.oi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Mc(e.data.value)),r}ar(e,r,a){return ee.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.oi.get(r);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,r,a,o){this.targetId=e,this.fromCache=r,this.Hi=a,this.Ji=o}static Yi(e,r){let a=Ve(),o=Ve();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dp(e,r.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return R1()?8:r2(S1())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,a,o){const u={result:null};return this.rs(e,r).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,r,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ID;return this._s(e,r,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,r,h,d.size)})}).next(()=>u.result)}us(e,r,a,o){return a.documentReadCount<this.es?(js()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",qs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(js()<=Be.DEBUG&&pe("QueryEngine","Query:",qs(r),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(js()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",qs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(r))):ee.resolve())}rs(e,r){if(q_(r))return ee.resolve(null);let a=hr(r);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Mm(r,null,"F"),a=hr(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=Ve(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.cs(r,d);return this.ls(r,g,h,p.readTime)?this.rs(e,Mm(r,null,"F")):this.hs(e,g,r,p)}))})))}ss(e,r,a,o){return q_(r)||o.isEqual(Ae.min())?ee.resolve(null):this.ns.getDocuments(e,a).next(u=>{const h=this.cs(r,u);return this.ls(r,h,a,o)?ee.resolve(null):(js()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qs(r)),this.hs(e,h,r,ZC(o,xl)).next(d=>d))})}cs(e,r){let a=new Rt(aT(e));return r.forEach((o,u)=>{Ef(e,u)&&(a=a.add(u))}),a}ls(e,r,a,o){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,r,a){return js()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",qs(r)),this.ns.getDocumentsMatchingQuery(e,r,$i.min(),a)}hs(e,r,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="LocalStore",ND=3e8;class VD{constructor(e,r,a,o){this.persistence=e,this.Ps=r,this.serializer=o,this.Ts=new it(Pe),this.Is=new Ka(u=>ap(u),sp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function xD(i,e,r,a){return new VD(i,e,r,a)}async function IT(i,e){const r=Re(i);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let o;return r.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,r.As(e),r.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],d=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function PD(i,e){const r=Re(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=r.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,b=T.keys();let R=ee.resolve();return b.forEach(I=>{R=R.next(()=>E.getEntry(p,I)).next(q=>{const P=g.docVersions.get(I);Qe(P!==null),q.version.compareTo(P)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(r,a,e,u).next(()=>u.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let p=Ve();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>r.localDocuments.getDocuments(a,o))})}function MT(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function LD(i,e){const r=Re(i),a=e.snapshotVersion;let o=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.ds.newChangeBuffer({trackRemovals:!0});o=r.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const b=o.get(T);if(!b)return;d.push(r.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>r.Hr.addMatchingKeys(u,E.addedDocuments,T)));let R=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,a)),o=o.insert(T,R),function(q,P,F){return q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=ND?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(b,R,E)&&d.push(r.Hr.updateTargetData(u,R))});let p=Jr(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(UD(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!a.isEqual(Ae.min())){const E=r.Hr.getLastRemoteSnapshotVersion(u).next(T=>r.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));d.push(E)}return ee.waitFor(d).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(r.Ts=o,u))}function UD(i,e,r){let a=Ve(),o=Ve();return r.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let h=Jr();return r.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):pe(mp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function kD(i,e){const r=Re(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=np),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function zD(i,e){const r=Re(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return r.Hr.getTargetData(a,e).next(u=>u?(o=u,ee.resolve(o)):r.Hr.allocateTargetId(a).next(h=>(o=new ki(e,h,"TargetPurposeListen",a.currentSequenceNumber),r.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=r.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(a.targetId,a),r.Is.set(e,a.targetId)),a})}async function Lm(i,e,r){const a=Re(i),o=a.Ts.get(e),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ao(h))throw h;pe(mp,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function tE(i,e,r){const a=Re(i);let o=Ae.min(),u=Ve();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Re(p),b=T.Is.get(E);return b!==void 0?ee.resolve(T.Ts.get(b)):T.Hr.getTargetData(g,E)}(a,h,hr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,r?o:Ae.min(),r?u:Ve())).next(d=>(BD(a,w2(e),d),{documents:d,gs:u})))}function BD(i,e,r){let a=i.Es.get(e)||Ae.min();r.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class nE{constructor(){this.activeTargetIds=M2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jD{constructor(){this.ho=new nE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,a){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nE,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="ConnectivityMonitor";class iE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(rE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(rE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Um(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",HD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,r,a,o,u){const h=Um(),d=this.bo(e,r.toUriEncodedString());pe(nm,`Sending RPC '${e}' ${h}:`,d,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,a).then(g=>(pe(nm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Ks(nm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Co(e,r,a,o,u,h){return this.So(e,r,a,o,u)}Do(e,r,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,r){const a=HD[e];return`${this.po}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class QD extends FD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,a,o){const u=Um();return new Promise((h,d)=>{const p=new P0;p.setWithCredentials(!0),p.listenOnce(L0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const E=p.getResponseJson();pe(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case Ic.TIMEOUT:pe(Qt,`RPC '${e}' ${u} timed out`),d(new Ee(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const T=p.getStatus();if(pe(Qt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b==null?void 0:b.error;if(R&&R.status&&R.message){const I=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN}(R.status);d(new Ee(I,R.message))}else d(new Ee(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ee(ie.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{pe(Qt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);pe(Qt,`RPC '${e}' ${u} sending request:`,o),p.send(r,"POST",g,a,15)})}Wo(e,r,a){const o=Um(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=z0(),d=k0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,r,a),p.encodeInitMessageHeaders=!0;const E=u.join("");pe(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let b=!1,R=!1;const I=new GD({Fo:P=>{R?pe(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(b||(pe(Qt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),pe(Qt,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Mo:()=>T.close()}),q=(P,F,Y)=>{P.listen(F,$=>{try{Y($)}catch(oe){setTimeout(()=>{throw oe},0)}})};return q(T,_l.EventType.OPEN,()=>{R||(pe(Qt,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),q(T,_l.EventType.CLOSE,()=>{R||(R=!0,pe(Qt,`RPC '${e}' stream ${o} transport closed`),I.Ko())}),q(T,_l.EventType.ERROR,P=>{R||(R=!0,Ks(Qt,`RPC '${e}' stream ${o} transport errored:`,P),I.Ko(new Ee(ie.UNAVAILABLE,"The operation could not be completed")))}),q(T,_l.EventType.MESSAGE,P=>{var F;if(!R){const Y=P.data[0];Qe(!!Y);const $=Y,oe=($==null?void 0:$.error)||((F=$[0])===null||F===void 0?void 0:F.error);if(oe){pe(Qt,`RPC '${e}' stream ${o} received error:`,oe);const ae=oe.status;let he=function(w){const M=yt[w];if(M!==void 0)return vT(M)}(ae),L=oe.message;he===void 0&&(he=ie.INTERNAL,L="Unknown error status: "+ae+" with message "+oe.message),R=!0,I.Ko(new Ee(he,L)),T.close()}else pe(Qt,`RPC '${e}' stream ${o} received:`,Y),I.Uo(Y)}}),q(d,U0.STAT_EVENT,P=>{P.stat===Rm.PROXY?pe(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Rm.NOPROXY&&pe(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(i){return new X2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,r,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=r,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,r-a);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="PersistentStream";class VT{constructor(e,r,a,o,u,h,d,p){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new NT(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===ie.RESOURCE_EXHAUSTED?(Zr(r.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===r&&this.V_(a,o)},a=>{e(()=>{const o=new Ee(ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,r){const a=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(pe(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KD extends VT{constructor(e,r,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,o,h),this.serializer=u}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=J2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?dr(h.readTime):Ae.min()}(e);return this.listener.p_(r,a)}y_(e){const r={};r.database=Pm(this.serializer),r.addTarget=function(u,h){let d;const p=h.target;if(d=Im(p)?{documents:nD(u,p)}:{query:rD(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=TT(u,h.resumeToken);const g=Nm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Wc(u,h.snapshotVersion.toTimestamp());const g=Nm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=aD(this.serializer,e);a&&(r.labels=a),this.I_(r)}w_(e){const r={};r.database=Pm(this.serializer),r.removeTarget=e,this.I_(r)}}class $D extends VT{constructor(e,r,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=tD(e.writeResults,e.commitTime),a=dr(e.commitTime);return this.listener.v_(a,r)}C_(){const e={};e.database=Pm(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>eD(this.serializer,a))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{}class XD extends YD{constructor(e,r,a,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ee(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Vm(r,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ie.UNKNOWN,u.toString())})}Co(e,r,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Vm(r,a),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(ie.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zr(r),this.N_=!1):pe("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class ZD{constructor(e,r,a,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{Ya(this)&&(pe(Ha,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await Kl(g),g.j_.set("Unknown"),g.W_.delete(4),await Rf(g)}(this))})}),this.j_=new WD(a,o)}}async function Rf(i){if(Ya(i))for(const e of i.G_)await e(!0)}async function Kl(i){for(const e of i.G_)await e(!1)}function xT(i,e){const r=Re(i);r.U_.has(e.targetId)||(r.U_.set(e.targetId,e),vp(r)?yp(r):so(r).c_()&&gp(r,e))}function pp(i,e){const r=Re(i),a=so(r);r.U_.delete(e),a.c_()&&PT(r,e),r.U_.size===0&&(a.c_()?a.P_():Ya(r)&&r.j_.set("Unknown"))}function gp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}so(i).y_(e)}function PT(i,e){i.H_.Ne(e),so(i).w_(e)}function yp(i){i.H_=new Q2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),so(i).start(),i.j_.B_()}function vp(i){return Ya(i)&&!so(i).u_()&&i.U_.size>0}function Ya(i){return Re(i).W_.size===0}function LT(i){i.H_=void 0}async function JD(i){i.j_.set("Online")}async function eO(i){i.U_.forEach((e,r)=>{gp(i,e)})}async function tO(i,e){LT(i),vp(i)?(i.j_.q_(e),yp(i)):i.j_.set("Unknown")}async function nO(i,e,r){if(i.j_.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(a){pe(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Jc(i,a)}else if(e instanceof xc?i.H_.We(e):e instanceof _T?i.H_.Ze(e):i.H_.je(e),!r.isEqual(Ae.min()))try{const a=await MT(i.localStore);r.compareTo(a)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(qt.EMPTY_BYTE_STRING,E.snapshotVersion)),PT(u,p);const T=new ki(E.target,p,g,E.sequenceNumber);gp(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,r)}catch(a){pe(Ha,"Failed to raise snapshot:",a),await Jc(i,a)}}async function Jc(i,e,r){if(!ao(e))throw e;i.W_.add(1),await Kl(i),i.j_.set("Offline"),r||(r=()=>MT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pe(Ha,"Retrying IndexedDB access"),await r(),i.W_.delete(1),await Rf(i)})}function UT(i,e){return e().catch(r=>Jc(i,r,e))}async function Cf(i){const e=Re(i),r=Zi(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:np;for(;rO(e);)try{const o=await kD(e.localStore,a);if(o===null){e.K_.length===0&&r.P_();break}a=o.batchId,iO(e,o)}catch(o){await Jc(e,o)}kT(e)&&zT(e)}function rO(i){return Ya(i)&&i.K_.length<10}function iO(i,e){i.K_.push(e);const r=Zi(i);r.c_()&&r.S_&&r.b_(e.mutations)}function kT(i){return Ya(i)&&!Zi(i).u_()&&i.K_.length>0}function zT(i){Zi(i).start()}async function aO(i){Zi(i).C_()}async function sO(i){const e=Zi(i);for(const r of i.K_)e.b_(r.mutations)}async function oO(i,e,r){const a=i.K_.shift(),o=lp.from(a,e,r);await UT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Cf(i)}async function lO(i,e){e&&Zi(i).S_&&await async function(a,o){if(function(h){return H2(h)&&h!==ie.ABORTED}(o.code)){const u=a.K_.shift();Zi(a).h_(),await UT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(a)}}(i,e),kT(i)&&zT(i)}async function sE(i,e){const r=Re(i);r.asyncQueue.verifyOperationInProgress(),pe(Ha,"RemoteStore received new credentials");const a=Ya(r);r.W_.add(3),await Kl(r),a&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await Rf(r)}async function uO(i,e){const r=Re(i);e?(r.W_.delete(2),await Rf(r)):e||(r.W_.add(2),await Kl(r),r.j_.set("Unknown"))}function so(i){return i.J_||(i.J_=function(r,a,o){const u=Re(r);return u.M_(),new KD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:JD.bind(null,i),No:eO.bind(null,i),Lo:tO.bind(null,i),p_:nO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),vp(i)?yp(i):i.j_.set("Unknown")):(await i.J_.stop(),LT(i))})),i.J_}function Zi(i){return i.Y_||(i.Y_=function(r,a,o){const u=Re(r);return u.M_(),new $D(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:aO.bind(null,i),Lo:lO.bind(null,i),D_:sO.bind(null,i),v_:oO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Cf(i)):(await i.Y_.stop(),i.K_.length>0&&(pe(Ha,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,r,a,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,o,u){const h=Date.now()+a,d=new _p(e,r,h,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(i,e){if(Zr("AsyncQueue",`${e}: ${i}`),ao(i))return new Ee(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{static emptySet(e){return new Gs(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||Te.comparator(r.key,a.key):(r,a)=>Te.comparator(r.key,a.key),this.keyedMap=El(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new Gs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.Z_=new it(Te.comparator)}track(e){const r=e.doc.key,a=this.Z_.get(r);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(r):e.type===1&&a.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,a)=>{e.push(a)}),e}}class Zs{constructor(e,r,a,o,u,h,d,p,g){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,r,a,o,u){const h=[];return r.forEach(d=>{h.push({type:0,doc:d})}),new Zs(e,r,Gs.emptySet(r),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==a[o].type||!r[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class fO{constructor(){this.queries=lE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,a){const o=Re(r),u=o.queries;o.queries=lE(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(a)})})(this,new Ee(ie.ABORTED,"Firestore shutting down"))}}function lE(){return new Ka(i=>iT(i),_f)}async function BT(i,e){const r=Re(i);let a=3;const o=e.query;let u=r.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new cO,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await r.onListen(o,!0);break;case 1:u.ea=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const d=Ep(h,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(d)}r.queries.set(o,u),u.ta.push(e),e.sa(r.onlineState),u.ea&&e.oa(u.ea)&&Tp(r)}async function jT(i,e){const r=Re(i),a=e.query;let o=3;const u=r.queries.get(a);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function hO(i,e){const r=Re(i);let a=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(a=!0);h.ea=o}}a&&Tp(r)}function dO(i,e,r){const a=Re(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(r);a.queries.delete(e)}function Tp(i){i.ia.forEach(e=>{e.next()})}var km,uE;(uE=km||(km={}))._a="default",uE.Cache="cache";class qT{constructor(e,r,a){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Zs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const a=r!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class mO{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=aT(e),this.wa=new Gs(this.ya)}get Sa(){return this.fa}ba(e,r){const a=r?r.Da:new oE,o=r?r.wa:this.wa;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const b=o.get(E),R=Ef(this.query,T)?T:null,I=!!b&&this.mutatedKeys.has(b.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let P=!1;b&&R?b.data.isEqual(R.data)?I!==q&&(a.track({type:3,doc:R}),P=!0):this.va(b,R)||(a.track({type:2,doc:R}),P=!0,(p&&this.ya(R,p)>0||g&&this.ya(R,g)<0)&&(d=!0)):!b&&R?(a.track({type:0,doc:R}),P=!0):b&&!R&&(a.track({type:1,doc:b}),P=!0,(p||g)&&(d=!0)),P&&(R?(h=h.add(R),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:h,Da:a,ls:d,mutatedKeys:u}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(R,I){const q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return q(R)-q(I)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(a),o=o!=null&&o;const d=r&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Zs(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new oE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const r=[];return e.forEach(a=>{this.pa.has(a)||r.push(new FT(a))}),this.pa.forEach(a=>{e.has(a)||r.push(new HT(a))}),r}Oa(e){this.fa=e.gs,this.pa=Ve();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return Zs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bp="SyncEngine";class pO{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class gO{constructor(e){this.key=e,this.Ba=!1}}class yO{constructor(e,r,a,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ka(d=>iT(d),_f),this.qa=new Map,this.Qa=new Set,this.$a=new it(Te.comparator),this.Ka=new Map,this.Ua=new fp,this.Wa={},this.Ga=new Map,this.za=Ws.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vO(i,e,r=!0){const a=XT(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await GT(a,e,r,!0),o}async function _O(i,e){const r=XT(i);await GT(r,e,!0,!1)}async function GT(i,e,r,a){const o=await zD(i.localStore,hr(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let d;return a&&(d=await EO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&r&&xT(i.remoteStore,o),d}async function EO(i,e,r,a,o){i.Ha=(T,b,R)=>async function(q,P,F,Y){let $=P.view.ba(F);$.ls&&($=await tE(q.localStore,P.query,!1).then(({documents:L})=>P.view.ba(L,$)));const oe=Y&&Y.targetChanges.get(P.targetId),ae=Y&&Y.targetMismatches.get(P.targetId)!=null,he=P.view.applyChanges($,q.isPrimaryClient,oe,ae);return fE(q,P.targetId,he.Ma),he.snapshot}(i,T,b,R);const u=await tE(i.localStore,e,!0),h=new mO(e,u.gs),d=h.ba(u.documents),p=Ql.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);fE(i,r,g.Ma);const E=new pO(e,r,h);return i.ka.set(e,E),i.qa.has(r)?i.qa.get(r).push(e):i.qa.set(r,[e]),g.snapshot}async function TO(i,e,r){const a=Re(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!_f(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),r&&pp(a.remoteStore,o.targetId),zm(a,o.targetId)}).catch(io)):(zm(a,o.targetId),await Lm(a.localStore,o.targetId,!0))}async function bO(i,e){const r=Re(i),a=r.ka.get(e),o=r.qa.get(a.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),pp(r.remoteStore,a.targetId))}async function SO(i,e,r){const a=IO(i);try{const o=await function(h,d){const p=Re(h),g=wt.now(),E=d.reduce((R,I)=>R.add(I.key),Ve());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=Jr(),q=Ve();return p.ds.getEntries(R,E).next(P=>{I=P,I.forEach((F,Y)=>{Y.isValidDocument()||(q=q.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,I)).next(P=>{T=P;const F=[];for(const Y of d){const $=k2(Y,T.get(Y.key).overlayedDocument);$!=null&&F.push(new $a(Y.key,$,W0($.value.mapValue),$r.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,F,d)}).next(P=>{b=P;const F=P.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(R,P.batchId,F)})}).then(()=>({batchId:b.batchId,changes:oT(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new it(Pe)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,r),await $l(a,o.changes),await Cf(a.remoteStore)}catch(o){const u=Ep(o,"Failed to persist write");r.reject(u)}}async function QT(i,e){const r=Re(i);try{const a=await LD(r.localStore,e);e.targetChanges.forEach((o,u)=>{const h=r.Ka.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Qe(h.Ba):o.removedDocuments.size>0&&(Qe(h.Ba),h.Ba=!1))}),await $l(r,a,e)}catch(a){await io(a)}}function cE(i,e,r){const a=Re(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const o=[];a.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Re(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const b of T.ta)b.sa(d)&&(g=!0)}),g&&Tp(p)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AO(i,e,r){const a=Re(i);a.sharedClientState.updateQueryState(e,"rejected",r);const o=a.Ka.get(e),u=o&&o.key;if(u){let h=new it(Te.comparator);h=h.insert(u,$t.newNoDocument(u,Ae.min()));const d=Ve().add(u),p=new Af(Ae.min(),new Map,new it(Pe),h,d);await QT(a,p),a.$a=a.$a.remove(u),a.Ka.delete(e),Sp(a)}else await Lm(a.localStore,e,!1).then(()=>zm(a,e,r)).catch(io)}async function wO(i,e){const r=Re(i),a=e.batch.batchId;try{const o=await PD(r.localStore,e);$T(r,a,null),KT(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await $l(r,o)}catch(o){await io(o)}}async function RO(i,e,r){const a=Re(i);try{const o=await function(h,d){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Qe(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,e);$T(a,e,r),KT(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await $l(a,o)}catch(o){await io(o)}}function KT(i,e){(i.Ga.get(e)||[]).forEach(r=>{r.resolve()}),i.Ga.delete(e)}function $T(i,e,r){const a=Re(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function zm(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),r&&i.La.Ja(a,r);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(a=>{i.Ua.containsKey(a)||YT(i,a)})}function YT(i,e){i.Qa.delete(e.path.canonicalString());const r=i.$a.get(e);r!==null&&(pp(i.remoteStore,r),i.$a=i.$a.remove(e),i.Ka.delete(r),Sp(i))}function fE(i,e,r){for(const a of r)a instanceof HT?(i.Ua.addReference(a.key,e),CO(i,a)):a instanceof FT?(pe(bp,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,e),i.Ua.containsKey(a.key)||YT(i,a.key)):Se()}function CO(i,e){const r=e.key,a=r.path.canonicalString();i.$a.get(r)||i.Qa.has(a)||(pe(bp,"New document in limbo: "+r),i.Qa.add(a),Sp(i))}function Sp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const r=new Te(Je.fromString(e)),a=i.za.next();i.Ka.set(a,new gO(r)),i.$a=i.$a.insert(r,a),xT(i.remoteStore,new ki(hr(vf(r.path)),a,"TargetPurposeLimboResolution",mf.ae))}}async function $l(i,e,r){const a=Re(i),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((d,p)=>{h.push(a.Ha(p,e,r).then(g=>{var E;if((g||r)&&a.isPrimaryClient){const T=g?!g.fromCache:(E=r==null?void 0:r.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=dp.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),a.La.p_(o),await async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,b=>ee.forEach(b.Hi,R=>E.persistence.referenceDelegate.addReference(T,b.targetId,R)).next(()=>ee.forEach(b.Ji,R=>E.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))}catch(T){if(!ao(T))throw T;pe(mp,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const R=E.Ts.get(b),I=R.snapshotVersion,q=R.withLastLimboFreeSnapshotVersion(I);E.Ts=E.Ts.insert(b,q)}}}(a.localStore,u))}async function DO(i,e){const r=Re(i);if(!r.currentUser.isEqual(e)){pe(bp,"User change. New user:",e.toKey());const a=await IT(r.localStore,e);r.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Ee(ie.CANCELLED,h))})}),u.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(r,a.Rs)}}function OO(i,e){const r=Re(i),a=r.Ka.get(e);if(a&&a.Ba)return Ve().add(a.key);{let o=Ve();const u=r.qa.get(e);if(!u)return o;for(const h of u){const d=r.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function XT(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AO.bind(null,e),e.La.p_=hO.bind(null,e.eventManager),e.La.Ja=dO.bind(null,e.eventManager),e}function IO(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RO.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return xD(this.persistence,new MD,e.initialUser,this.serializer)}Xa(e){return new OT(hp.ri,this.serializer)}Za(e){return new jD}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class MO extends ef{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Qe(this.persistence.referenceDelegate instanceof Zc);const a=this.persistence.referenceDelegate.garbageCollector;return new gD(a,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new OT(a=>Zc.ri(a,r),this.serializer)}}class Bm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DO.bind(null,this.syncEngine),await uO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fO}()}createDatastore(e){const r=wf(e.databaseInfo.databaseId),a=function(u){return new QD(u)}(e.databaseInfo);return function(u,h,d,p){return new XD(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return function(a,o,u,h,d){return new ZD(a,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,r=>cE(this.syncEngine,r,0),function(){return iE.D()?new iE:new qD}())}createSyncEngine(e,r){return function(o,u,h,d,p,g,E){const T=new yO(o,u,h,d,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=Re(o);pe(Ha,"RemoteStore shutting down."),u.W_.add(5),await Kl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class NO{constructor(e,r,a,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=j0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{pe(Ji,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(pe(Ji,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Ep(r,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function im(i,e){i.asyncQueue.verifyOperationInProgress(),pe(Ji,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await IT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function hE(i,e){i.asyncQueue.verifyOperationInProgress();const r=await VO(i);pe(Ji,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(a=>sE(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>sE(e.remoteStore,o)),i._onlineComponents=e}async function VO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(Ji,"Using user provided OfflineComponentProvider");try{await im(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Ks("Error using user provided cache. Falling back to memory cache: "+r),await im(i,new ef)}}else pe(Ji,"Using default OfflineComponentProvider"),await im(i,new MO(void 0));return i._offlineComponents}async function ZT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(Ji,"Using user provided OnlineComponentProvider"),await hE(i,i._uninitializedComponentsProvider._online)):(pe(Ji,"Using default OnlineComponentProvider"),await hE(i,new Bm))),i._onlineComponents}function xO(i){return ZT(i).then(e=>e.syncEngine)}async function jm(i){const e=await ZT(i),r=e.eventManager;return r.onListen=vO.bind(null,e.syncEngine),r.onUnlisten=TO.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=_O.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),r}function PO(i,e,r={}){const a=new qi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new WT({next:b=>{E.su(),h.enqueueAndForget(()=>jT(u,T));const R=b.docs.has(d);!R&&b.fromCache?g.reject(new Ee(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?g.reject(new Ee(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new qT(vf(d.path),E,{includeMetadataChanges:!0,Ta:!0});return BT(u,T)}(await jm(i),i.asyncQueue,e,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(i,e,r){if(!r)throw new Ee(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function LO(i,e,r,a){if(e===!0&&a===!0)throw new Ee(ie.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function mE(i){if(!Te.isDocumentKey(i))throw new Ee(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pE(i){if(Te.isDocumentKey(i))throw new Ee(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ap(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function Hi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ap(i);throw new Ee(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firestore.googleapis.com",gE=!0;class yE{constructor(e){var r,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tb,this.ssl=gE}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:gE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mD)throw new Ee(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,r,a,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new FC;switch(a.type){case"firstParty":return new $C(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ee(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=dE.get(r);a&&(pe("ComponentProvider","Removing Datastore"),dE.delete(r),a.terminate())}(this),Promise.resolve()}}function UO(i,e,r,a={}){var o;const u=(i=Hi(i,Df))._getSettings(),h=`${e}:${r}`;if(u.host!==tb&&u.host!==h&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),a.mockUserToken){let d,p;if(typeof a.mockUserToken=="string")d=a.mockUserToken,p=Kt.MOCK_USER;else{d=b1(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=a.mockUserToken.sub||a.mockUserToken.user_id;if(!g)throw new Ee(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kt(g)}i._authCredentials=new GC(new B0(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Of(this.firestore,e,this._query)}}class sn{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Fi extends Of{constructor(e,r,a){super(e,r,vf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Te(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function kO(i,e,...r){if(i=Qn(i),eb("collection","path",e),i instanceof Df){const a=Je.fromString(e,...r);return pE(a),new Fi(i,null,a)}{if(!(i instanceof sn||i instanceof Fi))throw new Ee(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Je.fromString(e,...r));return pE(a),new Fi(i.firestore,null,a)}}function nb(i,e,...r){if(i=Qn(i),arguments.length===1&&(e=j0.newId()),eb("doc","path",e),i instanceof Df){const a=Je.fromString(e,...r);return mE(a),new sn(i,null,new Te(a))}{if(!(i instanceof sn||i instanceof Fi))throw new Ee(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Je.fromString(e,...r));return mE(a),new sn(i.firestore,i instanceof Fi?i.converter:null,new Te(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new NT(this,"async_queue_retry"),this.Su=()=>{const a=rm();a&&pe(vE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const r=rm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=rm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new qi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ao(e))throw e;pe(vE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(a);throw Zr("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=r,r}enqueueAfterDelay(e,r,a){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const o=_p.createAndSchedule(this,e,r,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function EE(i){return function(r,a){if(typeof r!="object"||r===null)return!1;const o=r;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class jl extends Df{constructor(e,r,a,o){super(e,r,a,o),this.type="firestore",this._queue=new _E,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function zO(i,e){const r=typeof i=="object"?i:M0(),a=typeof i=="string"?i:Qc,o=Gl(r,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=E1("firestore");u&&UO(o,...u)}return o}function wp(i){if(i._terminated)throw new Ee(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BO(i),i._firestoreClient}function BO(i){var e,r,a;const o=i._freezeSettings(),u=function(d,p,g,E){return new l2(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,JT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new NO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(qt.fromBase64String(e))}catch(r){throw new Ee(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Js(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ee(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ee(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ee(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class rb{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new $a(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ib(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Dp{constructor(e,r,a,o,u,h){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ib(this.Lu)&&jO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class qO{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||wf(e)}ju(e,r,a,o=!1){return new Dp({Lu:e,methodName:r,zu:a,path:jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HO(i){const e=i._freezeSettings(),r=wf(i._databaseId);return new qO(i._databaseId,!!e.ignoreUndefinedProperties,r)}class Nf extends Mf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class Op extends Mf{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new Bl(e.serializer,cT(e.serializer,this.Ju));return new x2(e.path,r)}isEqual(e){return e instanceof Op&&this.Ju===e.Ju}}function FO(i,e,r,a){const o=i.ju(1,e,r);sb("Data must be an object, but it was:",o,a);const u=[],h=pn.empty();ta(a,(p,g)=>{const E=Ip(e,p,r);g=Qn(g);const T=o.Ku(E);if(g instanceof Nf)u.push(E);else{const b=Vf(g,T);b!=null&&(u.push(E),h.set(E,b))}});const d=new Gn(u);return new rb(h,d,o.fieldTransforms)}function GO(i,e,r,a,o,u){const h=i.ju(1,e,r),d=[TE(e,a,r)],p=[o];if(u.length%2!=0)throw new Ee(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)d.push(TE(e,u[b])),p.push(u[b+1]);const g=[],E=pn.empty();for(let b=d.length-1;b>=0;--b)if(!$O(g,d[b])){const R=d[b];let I=p[b];I=Qn(I);const q=h.Ku(R);if(I instanceof Nf)g.push(R);else{const P=Vf(I,q);P!=null&&(g.push(R),E.set(R,P))}}const T=new Gn(g);return new rb(E,T,h.fieldTransforms)}function Vf(i,e){if(ab(i=Qn(i)))return sb("Unsupported field value:",e,i),QO(i,e);if(i instanceof Mf)return function(a,o){if(!ib(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const d of a){let p=Vf(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=Qn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cT(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=wt.fromDate(a);return{timestampValue:Wc(o.serializer,u)}}if(a instanceof wt){const u=new wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,u)}}if(a instanceof Rp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Js)return{bytesValue:TT(o.serializer,a._byteString)};if(a instanceof sn){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Cp)return function(h,d){return{mapValue:{fields:{[Y0]:{stringValue:X0},[Kc]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return op(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Ap(a)}`)}(i,e)}function QO(i,e){const r={};return H0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,(a,o)=>{const u=Vf(o,e.qu(a));u!=null&&(r[a]=u)}),{mapValue:{fields:r}}}function ab(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof wt||i instanceof Rp||i instanceof Js||i instanceof sn||i instanceof Mf||i instanceof Cp)}function sb(i,e,r){if(!ab(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const a=Ap(r);throw a==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+a)}}function TE(i,e,r){if((e=Qn(e))instanceof If)return e._internalPath;if(typeof e=="string")return Ip(i,e);throw tf("Field path arguments must be of type string or ",i,!1,void 0,r)}const KO=new RegExp("[~\\*/\\[\\]]");function Ip(i,e,r){if(e.search(KO)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new If(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function tf(i,e,r,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new Ee(ie.INVALID_ARGUMENT,d+i+p)}function $O(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,r,a,o,u){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(lb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class YO extends ob{data(){return super.data()}}function lb(i,e){return typeof e=="string"?Ip(i,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ee(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WO{convertValue(e,r="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return ta(e,(o,u)=>{a[o]=this.convertValue(u,r)}),a}convertVectorValue(e){var r,a,o;const u=(o=(a=(r=e.fields)===null||r===void 0?void 0:r[Kc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>dt(h.doubleValue));return new Cp(u)}convertGeoPoint(e){return new Rp(dt(e.latitude),dt(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=gf(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const r=Yi(e);return new wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=Je.fromString(e);Qe(CT(a));const o=new Ll(a.get(1),a.get(3)),u=new Te(a.popFirst(5));return o.isEqual(r)||Zr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ub extends ob{constructor(e,r,a,o,u,h){super(e,r,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(lb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Pc extends ub{data(e={}){return super.data(e)}}class ZO{constructor(e,r,a,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new bl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new Pc(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ee(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new bl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new bl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:JO(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function JO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(i){i=Hi(i,sn);const e=Hi(i.firestore,jl);return PO(wp(e),i._key).then(r=>hb(e,i,r))}class cb extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,r)}}function fb(i,e,r,...a){i=Hi(i,sn);const o=Hi(i.firestore,jl),u=HO(o);let h;return h=typeof(e=Qn(e))=="string"||e instanceof If?GO(u,"updateDoc",i._key,e,r,a):FO(u,"updateDoc",i._key,e),nI(o,[h.toMutation(i._key,$r.exists(!0))])}function tI(i,...e){var r,a,o;i=Qn(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||EE(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(EE(e[h])){const T=e[h];e[h]=(r=T.next)===null||r===void 0?void 0:r.bind(T),e[h+1]=(a=T.error)===null||a===void 0?void 0:a.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(i instanceof sn)g=Hi(i.firestore,jl),E=vf(i._key.path),p={next:T=>{e[h]&&e[h](hb(g,i,T))},error:e[h+1],complete:e[h+2]};else{const T=Hi(i,Of);g=Hi(T.firestore,jl),E=T._query;const b=new cb(g);p={next:R=>{e[h]&&e[h](new ZO(g,b,T,R))},error:e[h+1],complete:e[h+2]},XO(i._query)}return function(b,R,I,q){const P=new WT(q),F=new qT(R,P,I);return b.asyncQueue.enqueueAndForget(async()=>BT(await jm(b),F)),()=>{P.su(),b.asyncQueue.enqueueAndForget(async()=>jT(await jm(b),F))}}(wp(g),E,d,p)}function nI(i,e){return function(a,o){const u=new qi;return a.asyncQueue.enqueueAndForget(async()=>SO(await xO(a),o,u)),u.promise}(wp(i),e)}function hb(i,e,r){const a=r.docs.get(e._key),o=new cb(i);return new ub(i,o,e._key,a,new bl(r.hasPendingWrites,r.fromCache),e.converter)}function rI(i){return new Op("increment",i)}(function(e,r=!0){(function(o){ro=o})(VC),Ki(new Xr("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),d=new jl(new QC(a.getProvider("auth-internal")),new YC(h,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:r},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),fr(R_,C_,e),fr(R_,C_,"esm2017")})();var iI="firebase",aI="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(iI,aI,"app");const db="@firebase/installations",Mp="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=1e4,pb=`w:${Mp}`,gb="FIS_v2",sI="https://firebaseinstallations.googleapis.com/v1",oI=60*60*1e3,lI="installations",uI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fa=new df(lI,uI,cI);function yb(i){return i instanceof ea&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb({projectId:i}){return`${sI}/projects/${i}/installations`}function _b(i){return{token:i.token,requestStatus:2,expiresIn:hI(i.expiresIn),creationTime:Date.now()}}async function Eb(i,e){const a=(await e.json()).error;return Fa.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Tb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function fI(i,{refreshToken:e}){const r=Tb(i);return r.append("Authorization",dI(e)),r}async function bb(i){const e=await i();return e.status>=500&&e.status<600?i():e}function hI(i){return Number(i.replace("s","000"))}function dI(i){return`${gb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI({appConfig:i,heartbeatServiceProvider:e},{fid:r}){const a=vb(i),o=Tb(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:r,authVersion:gb,appId:i.appId,sdkVersion:pb},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await bb(()=>fetch(a,d));if(p.ok){const g=await p.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:_b(g.authToken)}}else throw await Eb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^[cdef][\w-]{21}$/,qm="";function yI(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const r=vI(i);return gI.test(r)?r:qm}catch{return qm}}function vI(i){return pI(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function wb(i,e){const r=xf(i);Rb(r,e),_I(r,e)}function Rb(i,e){const r=Ab.get(i);if(r)for(const a of r)a(e)}function _I(i,e){const r=EI();r&&r.postMessage({key:i,fid:e}),TI()}let ka=null;function EI(){return!ka&&"BroadcastChannel"in self&&(ka=new BroadcastChannel("[Firebase] FID Change"),ka.onmessage=i=>{Rb(i.data.key,i.data.fid)}),ka}function TI(){Ab.size===0&&ka&&(ka.close(),ka=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebase-installations-database",SI=1,Ga="firebase-installations-store";let am=null;function Np(){return am||(am=O0(bI,SI,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ga)}}})),am}async function nf(i,e){const r=xf(i),o=(await Np()).transaction(Ga,"readwrite"),u=o.objectStore(Ga),h=await u.get(r);return await u.put(e,r),await o.done,(!h||h.fid!==e.fid)&&wb(i,e.fid),e}async function Cb(i){const e=xf(i),a=(await Np()).transaction(Ga,"readwrite");await a.objectStore(Ga).delete(e),await a.done}async function Pf(i,e){const r=xf(i),o=(await Np()).transaction(Ga,"readwrite"),u=o.objectStore(Ga),h=await u.get(r),d=e(h);return d===void 0?await u.delete(r):await u.put(d,r),await o.done,d&&(!h||h.fid!==d.fid)&&wb(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(i){let e;const r=await Pf(i.appConfig,a=>{const o=AI(a),u=wI(i,o);return e=u.registrationPromise,u.installationEntry});return r.fid===qm?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function AI(i){const e=i||{fid:yI(),registrationStatus:0};return Db(e)}function wI(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Fa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=RI(i,r);return{installationEntry:r,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CI(i)}:{installationEntry:e}}async function RI(i,e){try{const r=await mI(i,e);return nf(i.appConfig,r)}catch(r){throw yb(r)&&r.customData.serverCode===409?await Cb(i.appConfig):await nf(i.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function CI(i){let e=await bE(i.appConfig);for(;e.registrationStatus===1;)await Sb(100),e=await bE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await Vp(i);return a||r}return e}function bE(i){return Pf(i,e=>{if(!e)throw Fa.create("installation-not-found");return Db(e)})}function Db(i){return DI(i)?{fid:i.fid,registrationStatus:0}:i}function DI(i){return i.registrationStatus===1&&i.registrationTime+mb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI({appConfig:i,heartbeatServiceProvider:e},r){const a=II(i,r),o=fI(i,r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:pb,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await bb(()=>fetch(a,d));if(p.ok){const g=await p.json();return _b(g)}else throw await Eb("Generate Auth Token",p)}function II(i,{fid:e}){return`${vb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(i,e=!1){let r;const a=await Pf(i.appConfig,u=>{if(!Ob(u))throw Fa.create("not-registered");const h=u.authToken;if(!e&&VI(h))return u;if(h.requestStatus===1)return r=MI(i,e),u;{if(!navigator.onLine)throw Fa.create("app-offline");const d=PI(u);return r=NI(i,d),d}});return r?await r:a.authToken}async function MI(i,e){let r=await SE(i.appConfig);for(;r.authToken.requestStatus===1;)await Sb(100),r=await SE(i.appConfig);const a=r.authToken;return a.requestStatus===0?xp(i,e):a}function SE(i){return Pf(i,e=>{if(!Ob(e))throw Fa.create("not-registered");const r=e.authToken;return LI(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function NI(i,e){try{const r=await OI(i,e),a=Object.assign(Object.assign({},e),{authToken:r});return await nf(i.appConfig,a),r}catch(r){if(yb(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Cb(i.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nf(i.appConfig,a)}throw r}}function Ob(i){return i!==void 0&&i.registrationStatus===2}function VI(i){return i.requestStatus===2&&!xI(i)}function xI(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+oI}function PI(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function LI(i){return i.requestStatus===1&&i.requestTime+mb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(i){const e=i,{installationEntry:r,registrationPromise:a}=await Vp(e);return a?a.catch(console.error):xp(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e=!1){const r=i;return await zI(r),(await xp(r,e)).token}async function zI(i){const{registrationPromise:e}=await Vp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i){if(!i||!i.options)throw sm("App Configuration");if(!i.name)throw sm("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!i.options[r])throw sm(r);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function sm(i){return Fa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="installations",jI="installations-internal",qI=i=>{const e=i.getProvider("app").getImmediate(),r=BI(e),a=Gl(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},HI=i=>{const e=i.getProvider("app").getImmediate(),r=Gl(e,Ib).getImmediate();return{getId:()=>UI(r),getToken:o=>kI(r,o)}};function FI(){Ki(new Xr(Ib,qI,"PUBLIC")),Ki(new Xr(jI,HI,"PRIVATE"))}FI();fr(db,Mp);fr(db,Mp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="analytics",GI="firebase_id",QI="origin",KI=60*1e3,$I="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Jm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new df("analytics","Analytics",YI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i){if(!i.startsWith(Pp)){const e=gn.create("invalid-gtag-resource",{gtagURL:i});return on.warn(e.message),""}return i}function Mb(i){return Promise.all(i.map(e=>e.catch(r=>r)))}function WI(i,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(i,e)),r}function ZI(i,e){const r=WI("firebase-js-sdk-policy",{createScriptURL:XI}),a=document.createElement("script"),o=`${Pp}?l=${i}&id=${e}`;a.src=r?r==null?void 0:r.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function JI(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function eM(i,e,r,a,o,u){const h=a[o];try{if(h)await e[h];else{const p=(await Mb(r)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){on.error(d)}i("config",o,u)}async function tM(i,e,r,a,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Mb(r);for(const p of h){const g=d.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",a,o||{})}catch(u){on.error(u)}}function nM(i,e,r,a){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await tM(i,e,r,d,p)}else if(u==="config"){const[d,p]=h;await eM(i,e,r,a,d,p)}else if(u==="consent"){const[d,p]=h;i("consent",d,p)}else if(u==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(u==="set"){const[d]=h;i("set",d)}else i(u,...h)}catch(d){on.error(d)}}return o}function rM(i,e,r,a,o){let u=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=nM(u,i,e,r),{gtagCore:u,wrappedGtag:window[o]}}function iM(i){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Pp)&&r.src.includes(i))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=30,sM=1e3;class oM{constructor(e={},r=sM){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Nb=new oM;function lM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function uM(i){var e;const{appId:r,apiKey:a}=i,o={method:"GET",headers:lM(a)},u=$I.replace("{app-id}",r),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function cM(i,e=Nb,r){const{appId:a,apiKey:o,measurementId:u}=i.options;if(!a)throw gn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw gn.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new dM;return setTimeout(async()=>{d.abort()},KI),Vb({appId:a,apiKey:o,measurementId:u},h,d,e)}async function Vb(i,{throttleEndTimeMillis:e,backoffCount:r},a,o=Nb){var u;const{appId:h,measurementId:d}=i;try{await fM(a,e)}catch(p){if(d)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await uM(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!hM(g)){if(o.deleteThrottleMetadata(h),d)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?g_(r,o.intervalMillis,aM):g_(r,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:r+1};return o.setThrottleMetadata(h,T),on.debug(`Calling attemptFetch again in ${E} millis`),Vb(i,T,a,o)}}function fM(i,e){return new Promise((r,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(r,o);i.addEventListener(()=>{clearTimeout(u),a(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hM(i){if(!(i instanceof ea)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class dM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mM(i,e,r,a,o){if(o&&o.global){i("event",r,a);return}else{const u=await e,h=Object.assign(Object.assign({},a),{send_to:u});i("event",r,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(){if(w0())try{await R0()}catch(i){return on.warn(gn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return on.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gM(i,e,r,a,o,u,h){var d;const p=cM(i);p.then(R=>{r[R.measurementId]=R.appId,i.options.measurementId&&R.measurementId!==i.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>on.error(R)),e.push(p);const g=pM().then(R=>{if(R)return a.getId()}),[E,T]=await Promise.all([p,g]);iM(u)||ZI(u,E.measurementId),o("js",new Date);const b=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return b[QI]="firebase",b.update=!0,T!=null&&(b[GI]=T),o("config",E.measurementId,b),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.app=e}_delete(){return delete Dl[this.app.options.appId],Promise.resolve()}}let Dl={},AE=[];const wE={};let om="dataLayer",vM="gtag",RE,xb,CE=!1;function _M(){const i=[];if(w1()&&i.push("This is a browser extension environment."),C1()||i.push("Cookies are not available."),i.length>0){const e=i.map((a,o)=>`(${o+1}) ${a}`).join(" "),r=gn.create("invalid-analytics-context",{errorInfo:e});on.warn(r.message)}}function EM(i,e,r){_M();const a=i.options.appId;if(!a)throw gn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(Dl[a]!=null)throw gn.create("already-exists",{id:a});if(!CE){JI(om);const{wrappedGtag:u,gtagCore:h}=rM(Dl,AE,wE,om,vM);xb=u,RE=h,CE=!0}return Dl[a]=gM(i,AE,wE,e,RE,om,r),new yM(i)}function TM(i=M0()){i=Qn(i);const e=Gl(i,rf);return e.isInitialized()?e.getImmediate():bM(i)}function bM(i,e={}){const r=Gl(i,rf);if(r.isInitialized()){const o=r.getImmediate();if(Hc(e,r.getOptions()))return o;throw gn.create("already-initialized")}return r.initialize({options:e})}function SM(i,e,r,a){i=Qn(i),mM(xb,Dl[i.app.options.appId],e,r,a).catch(o=>on.error(o))}const DE="@firebase/analytics",OE="0.10.11";function AM(){Ki(new Xr(rf,(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return EM(a,o,r)},"PUBLIC")),Ki(new Xr("analytics-internal",i,"PRIVATE")),fr(DE,OE),fr(DE,OE,"esm2017");function i(e){try{const r=e.getProvider(rf).getImmediate();return{logEvent:(a,o,u)=>SM(r,a,o,u)}}catch(r){throw gn.create("interop-component-reg-failed",{reason:r})}}}AM();const wM={apiKey:"AIzaSyDxw1SUOt9w11Ukr6PRqteRDhyrJ9Vywbs",authDomain:"course-app-d1e6e.firebaseapp.com",projectId:"course-app-d1e6e",storageBucket:"course-app-d1e6e.firebasestorage.app",messagingSenderId:"577397550691",appId:"1:577397550691:web:8d56b3044aec3a54469256",measurementId:"G-QRQWVQKZJ2"},Pb=I0(wM);TM(Pb);const Lp=zO(Pb),za=JR("courses/fetchCourses",async(i,{rejectWithValue:e})=>{try{return new Promise((r,a)=>{const o=tI(kO(Lp,"courses"),u=>{const h=u.docs.map(d=>({id:d.id,...d.data()}));r(h)},u=>{a(e(u.message))});return()=>o()})}catch(r){return e(r.message)}}),RM={courses:[],loading:!1,error:null},Lb=T0({name:"courses",initialState:RM,reducers:{setCourses:(i,e)=>{i.courses=e.payload}},extraReducers:i=>{i.addCase(za.pending,e=>{e.loading=!0,e.error=null}).addCase(za.fulfilled,(e,r)=>{e.courses=r.payload,e.loading=!1}).addCase(za.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),{setCourses:oN}=Lb.actions,CM=Lb.reducer,DM={completedCourses:[]},Ub=T0({name:"studentProgress",initialState:DM,reducers:{markAsCompleted:(i,e)=>{i.completedCourses.includes(e.payload)||i.completedCourses.push(e.payload)},markAsIncomplete:(i,e)=>{i.completedCourses=i.completedCourses.filter(r=>r!==e.payload)}}}),{markAsCompleted:lN,markAsIncomplete:uN}=Ub.actions,OM=Ub.reducer,IM=FR({reducer:{courses:CM,studentProgress:OM}}),MM=()=>se.jsxs("nav",{style:{padding:"10px",backgroundColor:"#f0f0f0"},children:[se.jsx(Il,{to:"/",style:{marginRight:"10px",textDecoration:"none",color:"blue"},children:"Courses"}),se.jsx(Il,{to:"/dashboard",style:{textDecoration:"none",color:"blue"},children:"Dashboard"})]}),NM=({course:i})=>se.jsxs("div",{className:"syllabus",children:[se.jsx("h3",{className:"syllabus-title",children:"Syllabus"}),i.syllabus.map((e,r)=>se.jsxs("div",{className:"syllabus-week",children:[se.jsxs("h4",{className:"week-title",children:["Week ",e.week,": ",e.topic]}),se.jsx("p",{className:"week-content",children:e.content})]},r))]}),VM=({course:i})=>se.jsxs("div",{className:"course-info",children:[se.jsxs("p",{children:[se.jsx("strong",{children:"Enrollment Status:"})," ",i.enrollmentStatus]}),se.jsxs("p",{children:[se.jsx("strong",{children:"Duration:"})," ",i.duration]}),se.jsxs("p",{children:[se.jsx("strong",{children:"Schedule:"})," ",i.schedule]}),se.jsxs("p",{children:[se.jsx("strong",{children:"Location:"})," ",i.location]}),se.jsxs("p",{children:[se.jsx("strong",{children:"Pre-requisites:"})," ",i.prerequisites.join(", ")]})]}),xM=()=>{const{id:i}=aw(),e=of(),r=lf(a=>a.courses.courses.find(o=>o.id===i));return Q.useEffect(()=>{e(za())},[e]),r?se.jsxs("div",{className:"course-details-container",children:[se.jsx("h1",{className:"course-title",children:r.name}),se.jsxs("h3",{className:"course-instructor",children:[se.jsx("strong",{children:"Instructor:"})," ",r.instructor]}),se.jsx("p",{className:"course-description",children:r.description}),se.jsx(VM,{course:r}),se.jsx(NM,{course:r})]}):se.jsx("div",{className:"message-container",children:se.jsx("p",{className:"message loading",children:"Loading..."})})},PM=({courseId:i,currentLikes:e})=>{const[r,a]=Q.useState(e),[o,u]=Q.useState(!1),[h,d]=Q.useState(null),p=async()=>{u(!0),d(null);try{const g=nb(Lp,"courses",i);await fb(g,{likes:rI(1)}),a(E=>E+1)}catch{d("Failed to update likes. Please try again.")}finally{u(!1)}};return se.jsxs("div",{children:[se.jsx("button",{onClick:p,className:"like-button",disabled:o,children:o?" 👍 Loading...":`👍 Like ${r}`}),h&&se.jsx("p",{className:"error-message",children:h})]})},LM=({course:i,LikeButton:e})=>se.jsxs("div",{className:"course-item",children:[se.jsxs(Il,{to:`/course/${i.id}`,children:[se.jsx("img",{src:i.thumbnail||"https://res.cloudinary.com/dxvassqig/image/upload/v1739305575/404_i0tgci.png",alt:i.name}),se.jsx("h2",{children:i.name}),se.jsx("p",{children:i.instructor})]}),se.jsx(e,{courseId:i.id,currentLikes:i.likes})]}),UM=({searchTerm:i,setSearchTerm:e})=>se.jsx("input",{type:"text",placeholder:"Search courses by name or instructor",value:i,onChange:r=>e(r.target.value)}),kM=()=>{const i=of(),{courses:e,loading:r,error:a}=lf(d=>d.courses),[o,u]=Q.useState("");Q.useEffect(()=>{i(za())},[i]);const h=e.filter(d=>d.name.toLowerCase().includes(o.toLowerCase())||d.instructor.toLowerCase().includes(o.toLowerCase()));return r?se.jsx("div",{className:"message-container",children:se.jsx("p",{className:"message loading",children:"Loading..."})}):a?se.jsx("div",{className:"message-container",children:se.jsxs("p",{className:"message error",children:["Error: ",a]})}):se.jsxs(se.Fragment,{children:[se.jsx("h1",{className:"title",children:"Course Listing"}),se.jsxs("div",{className:"course-container",children:[se.jsx(UM,{searchTerm:o,setSearchTerm:u}),se.jsx("div",{className:"course-list",children:h&&h.map(d=>se.jsx(LM,{course:d,LikeButton:PM},d.id))})]}),!h.length>0&&se.jsx("div",{className:"container",children:se.jsx("p",{className:"no-course",children:"No course found"})})]})};var Sc={exports:{}},Ui={},lm={exports:{}},um,IE;function zM(){if(IE)return um;IE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return um=i,um}var cm,ME;function BM(){if(ME)return cm;ME=1;var i=zM();function e(){}function r(){}return r.resetWarningCache=e,cm=function(){function a(h,d,p,g,E,T){if(T!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:e};return u.PropTypes=u,u},cm}var NE;function kb(){return NE||(NE=1,lm.exports=BM()()),lm.exports}var Ac={exports:{}},Ln={},wc={exports:{}},VE;function zb(){return VE||(VE=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=E;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",a="contents",o=/^(input|select|textarea|button|object|iframe)$/;function u(T,b){return b.getPropertyValue("overflow")!=="visible"||T.scrollWidth<=0&&T.scrollHeight<=0}function h(T){var b=T.offsetWidth<=0&&T.offsetHeight<=0;if(b&&!T.innerHTML)return!0;try{var R=window.getComputedStyle(T),I=R.getPropertyValue("display");return b?I!==a&&u(T,R):I===r}catch{return console.warn("Failed to inspect element style"),!1}}function d(T){for(var b=T,R=T.getRootNode&&T.getRootNode();b&&b!==document.body;){if(R&&b===R&&(b=R.host.parentNode),h(b))return!1;b=b.parentNode}return!0}function p(T,b){var R=T.nodeName.toLowerCase(),I=o.test(R)&&!T.disabled||R==="a"&&T.href||b;return I&&d(T)}function g(T){var b=T.getAttribute("tabindex");b===null&&(b=void 0);var R=isNaN(b);return(R||b>=0)&&p(T,!R)}function E(T){var b=[].slice.call(T.querySelectorAll("*"),0).reduce(function(R,I){return R.concat(I.shadowRoot?E(I.shadowRoot):[I])},[]);return b.filter(g)}i.exports=e.default}(wc,wc.exports)),wc.exports}var xE;function jM(){if(xE)return Ln;xE=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.resetState=h,Ln.log=d,Ln.handleBlur=p,Ln.handleFocus=g,Ln.markForFocusLater=E,Ln.returnFocus=T,Ln.popWithoutFocus=b,Ln.setupScopedFocus=R,Ln.teardownScopedFocus=I;var i=zb(),e=r(i);function r(q){return q&&q.__esModule?q:{default:q}}var a=[],o=null,u=!1;function h(){a=[]}function d(){}function p(){u=!0}function g(){if(u){if(u=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var q=(0,e.default)(o)[0]||o;q.focus()}},0)}}function E(){a.push(document.activeElement)}function T(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=null;try{a.length!==0&&(P=a.pop(),P.focus({preventScroll:q}));return}catch{console.warn(["You tried to return focus to",P,"but it is not in the DOM anymore"].join(" "))}}function b(){a.length>0&&a.pop()}function R(q){o=q,window.addEventListener?(window.addEventListener("blur",p,!1),document.addEventListener("focus",g,!0)):(window.attachEvent("onBlur",p),document.attachEvent("onFocus",g))}function I(){o=null,window.addEventListener?(window.removeEventListener("blur",p),document.removeEventListener("focus",g)):(window.detachEvent("onBlur",p),document.detachEvent("onFocus",g))}return Ln}var Rc={exports:{}},PE;function qM(){return PE||(PE=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var r=zb(),a=o(r);function o(d){return d&&d.__esModule?d:{default:d}}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?u(d.activeElement.shadowRoot):d.activeElement}function h(d,p){var g=(0,a.default)(d);if(!g.length){p.preventDefault();return}var E=void 0,T=p.shiftKey,b=g[0],R=g[g.length-1],I=u();if(d===I){if(!T)return;E=R}if(R===I&&!T&&(E=b),b===I&&T&&(E=R),E){p.preventDefault(),E.focus();return}var q=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),P=q!=null&&q[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(P){var F=g.indexOf(I);if(F>-1&&(F+=T?-1:1),E=g[F],typeof E>"u"){p.preventDefault(),E=T?R:b,E.focus();return}p.preventDefault(),E.focus()}}i.exports=e.default}(Rc,Rc.exports)),Rc.exports}var Hn={},fm,LE;function HM(){if(LE)return fm;LE=1;var i=function(){};return fm=i,fm}var ur={},hm={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var UE;function FM(){return UE||(UE=1,function(i){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};i.exports?i.exports=r:window.ExecutionEnvironment=r})()}(hm)),hm.exports}var kE;function Up(){if(kE)return ur;kE=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.canUseDOM=ur.SafeNodeList=ur.SafeHTMLCollection=void 0;var i=FM(),e=r(i);function r(u){return u&&u.__esModule?u:{default:u}}var a=e.default,o=a.canUseDOM?window.HTMLElement:{};return ur.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},ur.SafeNodeList=a.canUseDOM?window.NodeList:{},ur.canUseDOM=a.canUseDOM,ur.default=o,ur}var zE;function Bb(){if(zE)return Hn;zE=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.resetState=u,Hn.log=h,Hn.assertNodeList=d,Hn.setElement=p,Hn.validateElement=g,Hn.hide=E,Hn.show=T,Hn.documentNotReadyOrSSRTesting=b;var i=HM(),e=a(i),r=Up();function a(R){return R&&R.__esModule?R:{default:R}}var o=null;function u(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(R){return R.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(R){return R.removeAttribute("aria-hidden")})),o=null}function h(){}function d(R,I){if(!R||!R.length)throw new Error("react-modal: No elements were found for selector "+I+".")}function p(R){var I=R;if(typeof I=="string"&&r.canUseDOM){var q=document.querySelectorAll(I);d(q,I),I=q}return o=I||o,o}function g(R){var I=R||o;return I?Array.isArray(I)||I instanceof HTMLCollection||I instanceof NodeList?I:[I]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function E(R){var I=!0,q=!1,P=void 0;try{for(var F=g(R)[Symbol.iterator](),Y;!(I=(Y=F.next()).done);I=!0){var $=Y.value;$.setAttribute("aria-hidden","true")}}catch(oe){q=!0,P=oe}finally{try{!I&&F.return&&F.return()}finally{if(q)throw P}}}function T(R){var I=!0,q=!1,P=void 0;try{for(var F=g(R)[Symbol.iterator](),Y;!(I=(Y=F.next()).done);I=!0){var $=Y.value;$.removeAttribute("aria-hidden")}}catch(oe){q=!0,P=oe}finally{try{!I&&F.return&&F.return()}finally{if(q)throw P}}}function b(){o=null}return Hn}var xa={},BE;function GM(){if(BE)return xa;BE=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.resetState=a,xa.log=o;var i={},e={};function r(g,E){g.classList.remove(E)}function a(){var g=document.getElementsByTagName("html")[0];for(var E in i)r(g,i[E]);var T=document.body;for(var b in e)r(T,e[b]);i={},e={}}function o(){}var u=function(E,T){return E[T]||(E[T]=0),E[T]+=1,T},h=function(E,T){return E[T]&&(E[T]-=1),T},d=function(E,T,b){b.forEach(function(R){u(T,R),E.add(R)})},p=function(E,T,b){b.forEach(function(R){h(T,R),T[R]===0&&E.remove(R)})};return xa.add=function(E,T){return d(E.classList,E.nodeName.toLowerCase()=="html"?i:e,T.split(" "))},xa.remove=function(E,T){return p(E.classList,E.nodeName.toLowerCase()=="html"?i:e,T.split(" "))},xa}var Bs={},jE;function jb(){if(jE)return Bs;jE=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.log=a,Bs.resetState=o;function i(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var e=function u(){var h=this;i(this,u),this.register=function(d){h.openInstances.indexOf(d)===-1&&(h.openInstances.push(d),h.emit("register"))},this.deregister=function(d){var p=h.openInstances.indexOf(d);p!==-1&&(h.openInstances.splice(p,1),h.emit("deregister"))},this.subscribe=function(d){h.subscribers.push(d)},this.emit=function(d){h.subscribers.forEach(function(p){return p(d,h.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},r=new e;function a(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach(function(u){return console.log(u)}),console.log("end portalOpenInstances ----------")}function o(){r=new e}return Bs.default=r,Bs}var yl={},qE;function QM(){if(qE)return yl;qE=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.resetState=h,yl.log=d;var i=jb(),e=r(i);function r(E){return E&&E.__esModule?E:{default:E}}var a=void 0,o=void 0,u=[];function h(){for(var E=[a,o],T=0;T<E.length;T++){var b=E[T];b&&b.parentNode&&b.parentNode.removeChild(b)}a=o=null,u=[]}function d(){console.log("bodyTrap ----------"),console.log(u.length);for(var E=[a,o],T=0;T<E.length;T++){var b=E[T],R=b||{};console.log(R.nodeName,R.className,R.id)}console.log("edn bodyTrap ----------")}function p(){u.length!==0&&u[u.length-1].focusContent()}function g(E,T){!a&&!o&&(a=document.createElement("div"),a.setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",p),o=a.cloneNode(),o.addEventListener("focus",p)),u=T,u.length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(a.parentElement&&a.parentElement.removeChild(a),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(g),yl}var HE;function KM(){return HE||(HE=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(ue){for(var le=1;le<arguments.length;le++){var te=arguments[le];for(var B in te)Object.prototype.hasOwnProperty.call(te,B)&&(ue[B]=te[B])}return ue},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},o=function(){function ue(le,te){for(var B=0;B<te.length;B++){var ne=te[B];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(le,ne.key,ne)}}return function(le,te,B){return te&&ue(le.prototype,te),B&&ue(le,B),le}}(),u=eo(),h=kb(),d=ae(h),p=jM(),g=oe(p),E=qM(),T=ae(E),b=Bb(),R=oe(b),I=GM(),q=oe(I),P=Up(),F=ae(P),Y=jb(),$=ae(Y);QM();function oe(ue){if(ue&&ue.__esModule)return ue;var le={};if(ue!=null)for(var te in ue)Object.prototype.hasOwnProperty.call(ue,te)&&(le[te]=ue[te]);return le.default=ue,le}function ae(ue){return ue&&ue.__esModule?ue:{default:ue}}function he(ue,le){if(!(ue instanceof le))throw new TypeError("Cannot call a class as a function")}function L(ue,le){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:ue}function C(ue,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);ue.prototype=Object.create(le&&le.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(ue,le):ue.__proto__=le)}var w={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},M=function(le){return le.code==="Tab"||le.keyCode===9},N=function(le){return le.code==="Escape"||le.keyCode===27},x=0,D=function(ue){C(le,ue);function le(te){he(this,le);var B=L(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,te));return B.setOverlayRef=function(ne){B.overlay=ne,B.props.overlayRef&&B.props.overlayRef(ne)},B.setContentRef=function(ne){B.content=ne,B.props.contentRef&&B.props.contentRef(ne)},B.afterClose=function(){var ne=B.props,_e=ne.appElement,V=ne.ariaHideApp,Z=ne.htmlOpenClassName,me=ne.bodyOpenClassName,fe=ne.parentSelector,de=fe&&fe().ownerDocument||document;me&&q.remove(de.body,me),Z&&q.remove(de.getElementsByTagName("html")[0],Z),V&&x>0&&(x-=1,x===0&&R.show(_e)),B.props.shouldFocusAfterRender&&(B.props.shouldReturnFocusAfterClose?(g.returnFocus(B.props.preventScroll),g.teardownScopedFocus()):g.popWithoutFocus()),B.props.onAfterClose&&B.props.onAfterClose(),$.default.deregister(B)},B.open=function(){B.beforeOpen(),B.state.afterOpen&&B.state.beforeClose?(clearTimeout(B.closeTimer),B.setState({beforeClose:!1})):(B.props.shouldFocusAfterRender&&(g.setupScopedFocus(B.node),g.markForFocusLater()),B.setState({isOpen:!0},function(){B.openAnimationFrame=requestAnimationFrame(function(){B.setState({afterOpen:!0}),B.props.isOpen&&B.props.onAfterOpen&&B.props.onAfterOpen({overlayEl:B.overlay,contentEl:B.content})})}))},B.close=function(){B.props.closeTimeoutMS>0?B.closeWithTimeout():B.closeWithoutTimeout()},B.focusContent=function(){return B.content&&!B.contentHasFocus()&&B.content.focus({preventScroll:!0})},B.closeWithTimeout=function(){var ne=Date.now()+B.props.closeTimeoutMS;B.setState({beforeClose:!0,closesAt:ne},function(){B.closeTimer=setTimeout(B.closeWithoutTimeout,B.state.closesAt-Date.now())})},B.closeWithoutTimeout=function(){B.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},B.afterClose)},B.handleKeyDown=function(ne){M(ne)&&(0,T.default)(B.content,ne),B.props.shouldCloseOnEsc&&N(ne)&&(ne.stopPropagation(),B.requestClose(ne))},B.handleOverlayOnClick=function(ne){B.shouldClose===null&&(B.shouldClose=!0),B.shouldClose&&B.props.shouldCloseOnOverlayClick&&(B.ownerHandlesClose()?B.requestClose(ne):B.focusContent()),B.shouldClose=null},B.handleContentOnMouseUp=function(){B.shouldClose=!1},B.handleOverlayOnMouseDown=function(ne){!B.props.shouldCloseOnOverlayClick&&ne.target==B.overlay&&ne.preventDefault()},B.handleContentOnClick=function(){B.shouldClose=!1},B.handleContentOnMouseDown=function(){B.shouldClose=!1},B.requestClose=function(ne){return B.ownerHandlesClose()&&B.props.onRequestClose(ne)},B.ownerHandlesClose=function(){return B.props.onRequestClose},B.shouldBeClosed=function(){return!B.state.isOpen&&!B.state.beforeClose},B.contentHasFocus=function(){return document.activeElement===B.content||B.content.contains(document.activeElement)},B.buildClassName=function(ne,_e){var V=(typeof _e>"u"?"undefined":a(_e))==="object"?_e:{base:w[ne],afterOpen:w[ne]+"--after-open",beforeClose:w[ne]+"--before-close"},Z=V.base;return B.state.afterOpen&&(Z=Z+" "+V.afterOpen),B.state.beforeClose&&(Z=Z+" "+V.beforeClose),typeof _e=="string"&&_e?Z+" "+_e:Z},B.attributesFromObject=function(ne,_e){return Object.keys(_e).reduce(function(V,Z){return V[ne+"-"+Z]=_e[Z],V},{})},B.state={afterOpen:!1,beforeClose:!1},B.shouldClose=null,B.moveFromContentToOverlay=null,B}return o(le,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(B,ne){this.props.isOpen&&!B.isOpen?this.open():!this.props.isOpen&&B.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ne.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var B=this.props,ne=B.appElement,_e=B.ariaHideApp,V=B.htmlOpenClassName,Z=B.bodyOpenClassName,me=B.parentSelector,fe=me&&me().ownerDocument||document;Z&&q.add(fe.body,Z),V&&q.add(fe.getElementsByTagName("html")[0],V),_e&&(x+=1,R.hide(ne)),$.default.register(this)}},{key:"render",value:function(){var B=this.props,ne=B.id,_e=B.className,V=B.overlayClassName,Z=B.defaultStyles,me=B.children,fe=_e?{}:Z.content,de=V?{}:Z.overlay;if(this.shouldBeClosed())return null;var De={ref:this.setOverlayRef,className:this.buildClassName("overlay",V),style:r({},de,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ce=r({id:ne,ref:this.setContentRef,style:r({},fe,this.props.style.content),className:this.buildClassName("content",_e),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),at=this.props.contentElement(Ce,me);return this.props.overlayElement(De,at)}}]),le}(u.Component);D.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},D.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(F.default),d.default.instanceOf(P.SafeHTMLCollection),d.default.instanceOf(P.SafeNodeList),d.default.arrayOf(d.default.instanceOf(F.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},e.default=D,i.exports=e.default}(Ac,Ac.exports)),Ac.exports}function qb(){var i=this.constructor.getDerivedStateFromProps(this.props,this.state);i!=null&&this.setState(i)}function Hb(i){function e(r){var a=this.constructor.getDerivedStateFromProps(i,r);return a??null}this.setState(e.bind(this))}function Fb(i,e){try{var r=this.props,a=this.state;this.props=i,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}qb.__suppressDeprecationWarning=!0;Hb.__suppressDeprecationWarning=!0;Fb.__suppressDeprecationWarning=!0;function $M(i){var e=i.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return i;var r=null,a=null,o=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),r!==null||a!==null||o!==null){var u=i.displayName||i.name,h=typeof i.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+h+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof i.getDerivedStateFromProps=="function"&&(e.componentWillMount=qb,e.componentWillReceiveProps=Hb),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Fb;var d=e.componentDidUpdate;e.componentDidUpdate=function(g,E,T){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:T;d.call(this,g,E,b)}}return i}const YM=Object.freeze(Object.defineProperty({__proto__:null,polyfill:$M},Symbol.toStringTag,{value:"Module"})),XM=_A(YM);var FE;function WM(){if(FE)return Ui;FE=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.bodyOpenClassName=Ui.portalClassName=void 0;var i=Object.assign||function(N){for(var x=1;x<arguments.length;x++){var D=arguments[x];for(var ue in D)Object.prototype.hasOwnProperty.call(D,ue)&&(N[ue]=D[ue])}return N},e=function(){function N(x,D){for(var ue=0;ue<D.length;ue++){var le=D[ue];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(x,le.key,le)}}return function(x,D,ue){return D&&N(x.prototype,D),ue&&N(x,ue),x}}(),r=eo(),a=P(r),o=QE(),u=P(o),h=kb(),d=P(h),p=KM(),g=P(p),E=Bb(),T=q(E),b=Up(),R=P(b),I=XM;function q(N){if(N&&N.__esModule)return N;var x={};if(N!=null)for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(x[D]=N[D]);return x.default=N,x}function P(N){return N&&N.__esModule?N:{default:N}}function F(N,x){if(!(N instanceof x))throw new TypeError("Cannot call a class as a function")}function Y(N,x){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:N}function $(N,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);N.prototype=Object.create(x&&x.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(N,x):N.__proto__=x)}var oe=Ui.portalClassName="ReactModalPortal",ae=Ui.bodyOpenClassName="ReactModal__Body--open",he=b.canUseDOM&&u.default.createPortal!==void 0,L=function(x){return document.createElement(x)},C=function(){return he?u.default.createPortal:u.default.unstable_renderSubtreeIntoContainer};function w(N){return N()}var M=function(N){$(x,N);function x(){var D,ue,le,te;F(this,x);for(var B=arguments.length,ne=Array(B),_e=0;_e<B;_e++)ne[_e]=arguments[_e];return te=(ue=(le=Y(this,(D=x.__proto__||Object.getPrototypeOf(x)).call.apply(D,[this].concat(ne))),le),le.removePortal=function(){!he&&u.default.unmountComponentAtNode(le.node);var V=w(le.props.parentSelector);V&&V.contains(le.node)?V.removeChild(le.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},le.portalRef=function(V){le.portal=V},le.renderPortal=function(V){var Z=C(),me=Z(le,a.default.createElement(g.default,i({defaultStyles:x.defaultStyles},V)),le.node);le.portalRef(me)},ue),Y(le,te)}return e(x,[{key:"componentDidMount",value:function(){if(b.canUseDOM){he||(this.node=L("div")),this.node.className=this.props.portalClassName;var ue=w(this.props.parentSelector);ue.appendChild(this.node),!he&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(ue){var le=w(ue.parentSelector),te=w(this.props.parentSelector);return{prevParent:le,nextParent:te}}},{key:"componentDidUpdate",value:function(ue,le,te){if(b.canUseDOM){var B=this.props,ne=B.isOpen,_e=B.portalClassName;ue.portalClassName!==_e&&(this.node.className=_e);var V=te.prevParent,Z=te.nextParent;Z!==V&&(V.removeChild(this.node),Z.appendChild(this.node)),!(!ue.isOpen&&!ne)&&!he&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!b.canUseDOM||!this.node||!this.portal)){var ue=this.portal.state,le=Date.now(),te=ue.isOpen&&this.props.closeTimeoutMS&&(ue.closesAt||le+this.props.closeTimeoutMS);te?(ue.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,te-le)):this.removePortal()}}},{key:"render",value:function(){if(!b.canUseDOM||!he)return null;!this.node&&he&&(this.node=L("div"));var ue=C();return ue(a.default.createElement(g.default,i({ref:this.portalRef,defaultStyles:x.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(ue){T.setElement(ue)}}]),x}(r.Component);return M.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.oneOfType([d.default.instanceOf(R.default),d.default.instanceOf(b.SafeHTMLCollection),d.default.instanceOf(b.SafeNodeList),d.default.arrayOf(d.default.instanceOf(R.default))]),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,parentSelector:d.default.func,aria:d.default.object,data:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func},M.defaultProps={isOpen:!1,portalClassName:oe,bodyOpenClassName:ae,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(x,D){return a.default.createElement("div",x,D)},contentElement:function(x,D){return a.default.createElement("div",x,D)}},M.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,I.polyfill)(M),Ui.default=M,Ui}var GE;function ZM(){return GE||(GE=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var r=WM(),a=o(r);function o(u){return u&&u.__esModule?u:{default:u}}e.default=a.default,i.exports=e.default}(Sc,Sc.exports)),Sc.exports}var JM=ZM();const Gb=vA(JM),eN=({studentId:i,isCompleted:e})=>{const r=of(),[a,o]=Q.useState(""),[u,h]=Q.useState(e),[d,p]=Q.useState(!1),[g,E]=Q.useState(null),T=lf(P=>P.courses.courses),[b,R]=Q.useState(0);Q.useEffect(()=>{r(za())},[r]),Q.useEffect(()=>{const P=T.find(F=>{var Y;return(Y=F.students)==null?void 0:Y.some($=>$.id===i)});P&&(o(P.id),I(P))},[T,i]),Q.useEffect(()=>{h(e)},[e]);const I=P=>{if(!P||!P.students)return;const F=P.students.filter(oe=>oe.completed).length,Y=P.students.length,$=Y?F/Y*100:0;R($)},q=async()=>{if(!u){h(!0),p(!0),E(null);try{const P=nb(Lp,"courses",a),F=await eI(P);if(!F.exists())throw new Error("Course not found");const Y=F.data(),oe=Y.students.map(ae=>ae.id===i?{...ae,completed:!0}:ae);await fb(P,{students:oe}),I({...Y,students:oe}),console.log("Firestore update successful!")}catch(P){console.error("Error updating Firestore:",P),E(`Failed to update: ${P.message}`),h(!1)}finally{p(!1)}}};return se.jsxs("div",{className:"course-progress-container",children:[se.jsxs("div",{className:"progress-bar-container",children:[se.jsx("progress",{value:b,max:"100",className:"progress-bar",style:{transition:"width 0.5s ease-in-out"}}),se.jsx("span",{children:`${Math.round(b)}%`})]}),se.jsx("button",{onClick:q,className:`mark-completed-button ${u?"completed":""}`,disabled:d||u,children:d?"🔄 Updating...":u?"✅ Completed":"✔ Mark as Completed"}),g&&se.jsx("p",{className:"error-message",children:g})]})};Gb.setAppElement("#root");const tN=({isOpen:i,onRequestClose:e,students:r})=>se.jsxs(Gb,{isOpen:i,onRequestClose:e,children:[se.jsx("h2",{children:"Enrolled Students"}),r.length>0?r.map(a=>se.jsxs("div",{children:[se.jsxs("p",{children:[a.name," - ",a.email]}),se.jsx(eN,{studentId:a.id,isCompleted:a.completed})]},a.name)):se.jsx("p",{children:"No students enrolled in this course."}),se.jsx("button",{onClick:e,children:"Close"})]}),nN=({enrolledStudents:i,handleViewStudents:e,isModalOpen:r,closeModal:a,selectedCourseStudents:o})=>se.jsxs(se.Fragment,{children:[se.jsx("div",{className:"course-list",children:i.map(u=>se.jsxs("div",{className:"course-card",children:[se.jsx("img",{src:u.thumbnail||"https://res.cloudinary.com/dxvassqig/image/upload/v1739305575/404_i0tgci.png",alt:u.name,className:"course-thumbnail"}),se.jsxs("div",{className:"course-info",children:[se.jsx("h2",{children:u.name}),se.jsxs("p",{children:[se.jsx("strong",{children:"Instructor:"})," ",u.instructor]}),se.jsxs("p",{children:[se.jsx("strong",{children:"Due Date:"})," ",u.dueDate]}),se.jsx("button",{onClick:()=>e(u),children:"View Students"}),se.jsx(tN,{isOpen:r,onRequestClose:a,students:o})]})]},u.id))}),i.length===0&&se.jsx("div",{className:"container",children:se.jsx("p",{className:"no-course",children:"No students enrolled"})})]}),rN=()=>{const i=of(),[e,r]=Q.useState(!1),[a,o]=Q.useState([]),h=lf(g=>g.courses.courses).filter(g=>g.students&&g.students.length>0);Q.useEffect(()=>{i(za())},[i]);const d=g=>{o(g.students),r(!0)},p=()=>{r(!1)};return se.jsxs("div",{className:"user-dashboard",children:[se.jsx("h1",{style:{marginBottom:"50px"},children:"Student Dashboard"}),se.jsx(nN,{closeModal:p,handleViewStudents:d,enrolledStudents:h,isModalOpen:e,selectedCourseStudents:a})]})},iN=()=>se.jsx(mR,{store:IM,children:se.jsxs(Fw,{children:[se.jsx(MM,{}),se.jsxs(Ew,{children:[se.jsx(Cc,{path:"/",element:se.jsx(kM,{})}),se.jsx(Cc,{path:"/course/:id",element:se.jsx(xM,{})}),se.jsx(Cc,{path:"/dashboard",element:se.jsx(rN,{})})]})]})});DA.createRoot(document.getElementById("root")).render(se.jsx(Q.StrictMode,{children:se.jsx(iN,{})}));
